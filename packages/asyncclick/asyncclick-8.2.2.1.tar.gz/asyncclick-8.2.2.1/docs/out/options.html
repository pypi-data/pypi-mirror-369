
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Options &#8212; AsyncClick Documentation (8.x)</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/click.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/tabs.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/click-icon.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Arguments" href="arguments.html" />
    <link rel="prev" title="Parameters" href="parameters.html" />
  <script>DOCUMENTATION_OPTIONS.URL_ROOT = './';</script>
   
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="arguments.html" title="Arguments"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="parameters.html" title="Parameters"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">AsyncClick Documentation (8.x)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Options</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="options">
<span id="id1"></span><h1>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h1>
<p>Adding options to commands can be accomplished by the <code class="xref py py-func docutils literal notranslate"><span class="pre">option()</span></code>
decorator.  Since options can come in various different versions, there
are a ton of parameters to configure their behavior. Options in click are
distinct from <a class="reference internal" href="arguments.html#arguments"><span class="std std-ref">positional arguments</span></a>.</p>
<div class="section" id="name-your-options">
<h2>Name Your Options<a class="headerlink" href="#name-your-options" title="Permalink to this headline">¶</a></h2>
<p>Options have a name that will be used as the Python argument name when
calling the decorated function. This can be inferred from the option
names or given explicitly. Names are given as position arguments to the
decorator.</p>
<p>A name is chosen in the following order</p>
<ol class="arabic simple">
<li><p>If a name is not prefixed, it is used as the Python argument name
and not treated as an option name on the command line.</p></li>
<li><p>If there is at least one name prefixed with two dashes, the first
one given is used as the name.</p></li>
<li><p>The first name prefixed with one dash is used otherwise.</p></li>
</ol>
<p>To get the Python argument name, the chosen name is converted to lower
case, up to two dashes are removed as the prefix, and other dashes are
converted to underscores.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@click</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="nd">@click</span><span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s1">&#39;-s&#39;</span><span class="p">,</span> <span class="s1">&#39;--string-to-echo&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">echo</span><span class="p">(</span><span class="n">string_to_echo</span><span class="p">):</span>
    <span class="n">click</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="n">string_to_echo</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@click</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="nd">@click</span><span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s1">&#39;-s&#39;</span><span class="p">,</span> <span class="s1">&#39;--string-to-echo&#39;</span><span class="p">,</span> <span class="s1">&#39;string&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">echo</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="n">click</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;-f&quot;,</span> <span class="pre">&quot;--foo-bar&quot;</span></code>, the name is <code class="docutils literal notranslate"><span class="pre">foo_bar</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;-x&quot;</span></code>, the name is <code class="docutils literal notranslate"><span class="pre">x</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;-f&quot;,</span> <span class="pre">&quot;--filename&quot;,</span> <span class="pre">&quot;dest&quot;</span></code>, the name is  <code class="docutils literal notranslate"><span class="pre">dest</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;--CamelCase&quot;</span></code>, the name is <code class="docutils literal notranslate"><span class="pre">camelcase</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;-f&quot;,</span> <span class="pre">&quot;-fb&quot;</span></code>, the name is <code class="docutils literal notranslate"><span class="pre">f</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;--f&quot;,</span> <span class="pre">&quot;--foo-bar&quot;</span></code>, the name is <code class="docutils literal notranslate"><span class="pre">f</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;---f&quot;</span></code>, the name is <code class="docutils literal notranslate"><span class="pre">_f</span></code></p></li>
</ul>
</div>
<div class="section" id="basic-value-options">
<h2>Basic Value Options<a class="headerlink" href="#basic-value-options" title="Permalink to this headline">¶</a></h2>
<p>The most basic option is a value option.  These options accept one
argument which is a value.  If no type is provided, the type of the default
value is used.  If no default value is provided, the type is assumed to be
<code class="xref py py-data docutils literal notranslate"><span class="pre">STRING</span></code>.  Unless a name is explicitly specified, the name of the
parameter is the first long option defined; otherwise the first short one is
used. By default, options are not required, however to make an option required,
simply pass in <cite>required=True</cite> as an argument to the decorator.</p>
<p>And on the command line:</p>
<p>In this case the option is of type <code class="xref py py-data docutils literal notranslate"><span class="pre">INT</span></code> because the default value
is an integer.</p>
<p>To show the default values when showing command help, use <code class="docutils literal notranslate"><span class="pre">show_default=True</span></code></p>
</div>
<div class="section" id="multi-value-options">
<h2>Multi Value Options<a class="headerlink" href="#multi-value-options" title="Permalink to this headline">¶</a></h2>
<p>Sometimes, you have options that take more than one argument.  For options,
only a fixed number of arguments is supported.  This can be configured by
the <code class="docutils literal notranslate"><span class="pre">nargs</span></code> parameter.  The values are then stored as a tuple.</p>
<p>And on the command line:</p>
</div>
<div class="section" id="tuples-as-multi-value-options">
<span id="tuple-type"></span><h2>Tuples as Multi Value Options<a class="headerlink" href="#tuples-as-multi-value-options" title="Permalink to this headline">¶</a></h2>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 4.0.</span></p>
</div>
</details><p>As you can see that by using <cite>nargs</cite> set to a specific number each item in
the resulting tuple is of the same type.  This might not be what you want.
Commonly you might want to use different types for different indexes in
the tuple.  For this you can directly specify a tuple as type:</p>
<p>And on the command line:</p>
<p>By using a tuple literal as type, <cite>nargs</cite> gets automatically set to the
length of the tuple and the <code class="xref py py-class docutils literal notranslate"><span class="pre">click.Tuple</span></code> type is automatically
used.  The above example is thus equivalent to this:</p>
</div>
<div class="section" id="multiple-options">
<span id="id2"></span><h2>Multiple Options<a class="headerlink" href="#multiple-options" title="Permalink to this headline">¶</a></h2>
<p>Similarly to <code class="docutils literal notranslate"><span class="pre">nargs</span></code>, there is also the case of wanting to support a
parameter being provided multiple times and have all the values recorded –
not just the last one.  For instance, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-m</span> <span class="pre">foo</span> <span class="pre">-m</span> <span class="pre">bar</span></code> would
record two lines for the commit message: <code class="docutils literal notranslate"><span class="pre">foo</span></code> and <code class="docutils literal notranslate"><span class="pre">bar</span></code>. This can be
accomplished with the <code class="docutils literal notranslate"><span class="pre">multiple</span></code> flag:</p>
<p>Example:</p>
<p>And on the command line:</p>
<p>When passing a <code class="docutils literal notranslate"><span class="pre">default</span></code> with <code class="docutils literal notranslate"><span class="pre">multiple=True</span></code>, the default value
must be a list or tuple, otherwise it will be interpreted as a list of
single characters.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@click</span><span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s2">&quot;--format&quot;</span><span class="p">,</span> <span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;json&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="section" id="counting">
<h2>Counting<a class="headerlink" href="#counting" title="Permalink to this headline">¶</a></h2>
<p>In some very rare circumstances, it is interesting to use the repetition
of options to count an integer up.  This can be used for verbosity flags,
for instance:</p>
<p>And on the command line:</p>
</div>
<div class="section" id="boolean-flags">
<h2>Boolean Flags<a class="headerlink" href="#boolean-flags" title="Permalink to this headline">¶</a></h2>
<p>Boolean flags are options that can be enabled or disabled.  This can be
accomplished by defining two flags in one go separated by a slash (<code class="docutils literal notranslate"><span class="pre">/</span></code>)
for enabling or disabling the option.  (If a slash is in an option string,
Click automatically knows that it’s a boolean flag and will pass
<code class="docutils literal notranslate"><span class="pre">is_flag=True</span></code> implicitly.)  Click always wants you to provide an enable
and disable flag so that you can change the default later.</p>
<p>Example:</p>
<p>And on the command line:</p>
<p>If you really don’t want an off-switch, you can just define one and
manually inform Click that something is a flag:</p>
<p>And on the command line:</p>
<p>Note that if a slash is contained in your option already (for instance, if
you use Windows-style parameters where <code class="docutils literal notranslate"><span class="pre">/</span></code> is the prefix character), you
can alternatively split the parameters through <code class="docutils literal notranslate"><span class="pre">;</span></code> instead:</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 6.0.</span></p>
</div>
</details><p>If you want to define an alias for the second option only, then you will
need to use leading whitespace to disambiguate the format string:</p>
<p>Example:</p>
</div>
<div class="section" id="feature-switches">
<h2>Feature Switches<a class="headerlink" href="#feature-switches" title="Permalink to this headline">¶</a></h2>
<p>In addition to boolean flags, there are also feature switches.  These are
implemented by setting multiple options to the same parameter name and
defining a flag value.  Note that by providing the <code class="docutils literal notranslate"><span class="pre">flag_value</span></code> parameter,
Click will implicitly set <code class="docutils literal notranslate"><span class="pre">is_flag=True</span></code>.</p>
<p>To set a default flag, assign a value of <cite>True</cite> to the flag that should be
the default.</p>
<p>And on the command line:</p>
</div>
<div class="section" id="choice-options">
<span id="choice-opts"></span><h2>Choice Options<a class="headerlink" href="#choice-options" title="Permalink to this headline">¶</a></h2>
<p>Sometimes, you want to have a parameter be a choice of a list of values.
In that case you can use <code class="xref py py-class docutils literal notranslate"><span class="pre">Choice</span></code> type.  It can be instantiated
with a list of valid values.  The originally passed choice will be returned,
not the str passed on the command line.  Token normalization functions and
<code class="docutils literal notranslate"><span class="pre">case_sensitive=False</span></code> can cause the two to be different but still match.</p>
<p>Example:</p>
<p>What it looks like:</p>
<p>Only pass the choices as list or tuple. Other iterables (like
generators) may lead to unexpected results.</p>
<p>Choices work with options that have <code class="docutils literal notranslate"><span class="pre">multiple=True</span></code>. If a <code class="docutils literal notranslate"><span class="pre">default</span></code>
value is given with <code class="docutils literal notranslate"><span class="pre">multiple=True</span></code>, it should be a list or tuple of
valid choices.</p>
<p>Choices should be unique after considering the effects of
<code class="docutils literal notranslate"><span class="pre">case_sensitive</span></code> and any specified token normalization function.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 7.1: </span>The resulting value from an option will always be one of the
originally passed choices regardless of <code class="docutils literal notranslate"><span class="pre">case_sensitive</span></code>.</p>
</div>
</details></div>
<div class="section" id="prompting">
<span id="option-prompting"></span><h2>Prompting<a class="headerlink" href="#prompting" title="Permalink to this headline">¶</a></h2>
<p>In some cases, you want parameters that can be provided from the command line,
but if not provided, ask for user input instead.  This can be implemented with
Click by defining a prompt string.</p>
<p>Example:</p>
<p>And what it looks like:</p>
<p>If you are not happy with the default prompt string, you can ask for
a different one:</p>
<p>What it looks like:</p>
<p>It is advised that prompt not be used in conjunction with the multiple
flag set to True. Instead, prompt in the function interactively.</p>
<p>By default, the user will be prompted for an input if one was not passed
through the command line. To turn this behavior off, see
<a class="reference internal" href="#optional-value"><span class="std std-ref">Optional Value</span></a>.</p>
</div>
<div class="section" id="password-prompts">
<h2>Password Prompts<a class="headerlink" href="#password-prompts" title="Permalink to this headline">¶</a></h2>
<p>Click also supports hidden prompts and asking for confirmation.  This is
useful for password input:</p>
<p>What it looks like:</p>
<p>Because this combination of parameters is quite common, this can also be
replaced with the <code class="xref py py-func docutils literal notranslate"><span class="pre">password_option()</span></code> decorator:</p>
</div>
<div class="section" id="dynamic-defaults-for-prompts">
<h2>Dynamic Defaults for Prompts<a class="headerlink" href="#dynamic-defaults-for-prompts" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">auto_envvar_prefix</span></code> and <code class="docutils literal notranslate"><span class="pre">default_map</span></code> options for the context
allow the program to read option values from the environment or a
configuration file.  However, this overrides the prompting mechanism, so
that the user does not get the option to change the value interactively.</p>
<p>If you want to let the user configure the default value, but still be
prompted if the option isn’t specified on the command line, you can do so
by supplying a callable as the default value. For example, to get a default
from the environment:</p>
<p>To describe what the default value will be, set it in <code class="docutils literal notranslate"><span class="pre">show_default</span></code>.</p>
</div>
<div class="section" id="callbacks-and-eager-options">
<h2>Callbacks and Eager Options<a class="headerlink" href="#callbacks-and-eager-options" title="Permalink to this headline">¶</a></h2>
<p>Sometimes, you want a parameter to completely change the execution flow.
For instance, this is the case when you want to have a <code class="docutils literal notranslate"><span class="pre">--version</span></code>
parameter that prints out the version and then exits the application.</p>
<p>Note: an actual implementation of a <code class="docutils literal notranslate"><span class="pre">--version</span></code> parameter that is
reusable is available in Click as <code class="xref py py-func docutils literal notranslate"><span class="pre">click.version_option()</span></code>.  The code
here is merely an example of how to implement such a flag.</p>
<p>In such cases, you need two concepts: eager parameters and a callback.  An
eager parameter is a parameter that is handled before others, and a
callback is what executes after the parameter is handled.  The eagerness
is necessary so that an earlier required parameter does not produce an
error message.  For instance, if <code class="docutils literal notranslate"><span class="pre">--version</span></code> was not eager and a
parameter <code class="docutils literal notranslate"><span class="pre">--foo</span></code> was required and defined before, you would need to
specify it for <code class="docutils literal notranslate"><span class="pre">--version</span></code> to work.  For more information, see
<a class="reference internal" href="advanced.html#callback-evaluation-order"><span class="std std-ref">Callback Evaluation Order</span></a>.</p>
<p>A callback is a function that is invoked with two parameters: the current
<code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code> and the value.  The context provides some useful features
such as quitting the application and gives access to other already
processed parameters.</p>
<p>Here an example for a <code class="docutils literal notranslate"><span class="pre">--version</span></code> flag:</p>
<p>The <cite>expose_value</cite> parameter prevents the pretty pointless <code class="docutils literal notranslate"><span class="pre">version</span></code>
parameter from being passed to the callback.  If that was not specified, a
boolean would be passed to the <cite>hello</cite> script.  The <cite>resilient_parsing</cite>
flag is applied to the context if Click wants to parse the command line
without any destructive behavior that would change the execution flow.  In
this case, because we would exit the program, we instead do nothing.</p>
<p>What it looks like:</p>
<div class="admonition-callback-signature-changes admonition">
<p class="admonition-title">Callback Signature Changes</p>
<p>In Click 2.0 the signature for callbacks changed.  For more
information about these changes see <a class="reference internal" href="upgrading.html#upgrade-to-2-0"><span class="std std-ref">Upgrading to 2.0</span></a>.</p>
</div>
</div>
<div class="section" id="yes-parameters">
<h2>Yes Parameters<a class="headerlink" href="#yes-parameters" title="Permalink to this headline">¶</a></h2>
<p>For dangerous operations, it’s very useful to be able to ask a user for
confirmation.  This can be done by adding a boolean <code class="docutils literal notranslate"><span class="pre">--yes</span></code> flag and
asking for confirmation if the user did not provide it and to fail in a
callback:</p>
<p>And what it looks like on the command line:</p>
<p>Because this combination of parameters is quite common, this can also be
replaced with the <code class="xref py py-func docutils literal notranslate"><span class="pre">confirmation_option()</span></code> decorator:</p>
<div class="admonition-callback-signature-changes admonition">
<p class="admonition-title">Callback Signature Changes</p>
<p>In Click 2.0 the signature for callbacks changed.  For more
information about these changes see <a class="reference internal" href="upgrading.html#upgrade-to-2-0"><span class="std std-ref">Upgrading to 2.0</span></a>.</p>
</div>
</div>
<div class="section" id="values-from-environment-variables">
<h2>Values from Environment Variables<a class="headerlink" href="#values-from-environment-variables" title="Permalink to this headline">¶</a></h2>
<p>A very useful feature of Click is the ability to accept parameters from
environment variables in addition to regular parameters.  This allows
tools to be automated much easier.  For instance, you might want to pass
a configuration file with a <code class="docutils literal notranslate"><span class="pre">--config</span></code> parameter but also support exporting
a <code class="docutils literal notranslate"><span class="pre">TOOL_CONFIG=hello.cfg</span></code> key-value pair for a nicer development
experience.</p>
<p>This is supported by Click in two ways.  One is to automatically build
environment variables which is supported for options only.  To enable this
feature, the <code class="docutils literal notranslate"><span class="pre">auto_envvar_prefix</span></code> parameter needs to be passed to the
script that is invoked.  Each command and parameter is then added as an
uppercase underscore-separated variable.  If you have a subcommand
called <code class="docutils literal notranslate"><span class="pre">run</span></code> taking an option called <code class="docutils literal notranslate"><span class="pre">reload</span></code> and the prefix is
<code class="docutils literal notranslate"><span class="pre">WEB</span></code>, then the variable is <code class="docutils literal notranslate"><span class="pre">WEB_RUN_RELOAD</span></code>.</p>
<p>Example usage:</p>
<p>And from the command line:</p>
<p>When using <code class="docutils literal notranslate"><span class="pre">auto_envvar_prefix</span></code> with command groups, the command name
needs to be included in the environment variable, between the prefix and
the parameter name, <em>i.e.</em> <code class="docutils literal notranslate"><span class="pre">PREFIX_COMMAND_VARIABLE</span></code>. If you have a
subcommand called <code class="docutils literal notranslate"><span class="pre">run-server</span></code> taking an option called <code class="docutils literal notranslate"><span class="pre">host</span></code> and
the prefix is <code class="docutils literal notranslate"><span class="pre">WEB</span></code>, then the variable is <code class="docutils literal notranslate"><span class="pre">WEB_RUN_SERVER_HOST</span></code>.</p>
<p>Example:</p>
<p>The second option is to manually pull values in from specific environment
variables by defining the name of the environment variable on the option.</p>
<p>Example usage:</p>
<p>And from the command line:</p>
<p>In that case it can also be a list of different environment variables
where the first one is picked.</p>
</div>
<div class="section" id="multiple-values-from-environment-values">
<h2>Multiple Values from Environment Values<a class="headerlink" href="#multiple-values-from-environment-values" title="Permalink to this headline">¶</a></h2>
<p>As options can accept multiple values, pulling in such values from
environment variables (which are strings) is a bit more complex.  The way
Click solves this is by leaving it up to the type to customize this
behavior.  For both <code class="docutils literal notranslate"><span class="pre">multiple</span></code> and <code class="docutils literal notranslate"><span class="pre">nargs</span></code> with values other than
<code class="docutils literal notranslate"><span class="pre">1</span></code>, Click will invoke the <code class="xref py py-meth docutils literal notranslate"><span class="pre">ParamType.split_envvar_value()</span></code> method to
perform the splitting.</p>
<p>The default implementation for all types is to split on whitespace.  The
exceptions to this rule are the <code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code> types
which both split according to the operating system’s path splitting rules.
On Unix systems like Linux and OS X, the splitting happens for those on
every colon (<code class="docutils literal notranslate"><span class="pre">:</span></code>), and for Windows, on every semicolon (<code class="docutils literal notranslate"><span class="pre">;</span></code>).</p>
<p>Example usage:</p>
<p>And from the command line:</p>
</div>
<div class="section" id="other-prefix-characters">
<h2>Other Prefix Characters<a class="headerlink" href="#other-prefix-characters" title="Permalink to this headline">¶</a></h2>
<p>Click can deal with alternative prefix characters other than <code class="docutils literal notranslate"><span class="pre">-</span></code> for
options.  This is for instance useful if you want to handle slashes as
parameters <code class="docutils literal notranslate"><span class="pre">/</span></code> or something similar.  Note that this is strongly
discouraged in general because Click wants developers to stay close to
POSIX semantics.  However in certain situations this can be useful:</p>
<p>And from the command line:</p>
<p>Note that if you are using <code class="docutils literal notranslate"><span class="pre">/</span></code> as prefix character and you want to use a
boolean flag you need to separate it with <code class="docutils literal notranslate"><span class="pre">;</span></code> instead of <code class="docutils literal notranslate"><span class="pre">/</span></code>:</p>
</div>
<div class="section" id="range-options">
<span id="ranges"></span><h2>Range Options<a class="headerlink" href="#range-options" title="Permalink to this headline">¶</a></h2>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">IntRange</span></code> type extends the <code class="xref py py-data docutils literal notranslate"><span class="pre">INT</span></code> type to ensure the
value is contained in the given range. The <code class="xref py py-class docutils literal notranslate"><span class="pre">FloatRange</span></code> type does
the same for <code class="xref py py-data docutils literal notranslate"><span class="pre">FLOAT</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">min</span></code> or <code class="docutils literal notranslate"><span class="pre">max</span></code> is omitted, that side is <em>unbounded</em>. Any value in
that direction is accepted. By default, both bounds are <em>closed</em>, which
means the boundary value is included in the accepted range. <code class="docutils literal notranslate"><span class="pre">min_open</span></code>
and <code class="docutils literal notranslate"><span class="pre">max_open</span></code> can be used to exclude that boundary from the range.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">clamp</span></code> mode is enabled, a value that is outside the range is set
to the boundary instead of failing. For example, the range <code class="docutils literal notranslate"><span class="pre">0,</span> <span class="pre">5</span></code>
would return <code class="docutils literal notranslate"><span class="pre">5</span></code> for the value <code class="docutils literal notranslate"><span class="pre">10</span></code>, or <code class="docutils literal notranslate"><span class="pre">0</span></code> for the value <code class="docutils literal notranslate"><span class="pre">-1</span></code>.
When using <code class="xref py py-class docutils literal notranslate"><span class="pre">FloatRange</span></code>, <code class="docutils literal notranslate"><span class="pre">clamp</span></code> can only be enabled if both
bounds are <em>closed</em> (the default).</p>
</div>
<div class="section" id="callbacks-for-validation">
<h2>Callbacks for Validation<a class="headerlink" href="#callbacks-for-validation" title="Permalink to this headline">¶</a></h2>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 2.0.</span></p>
</div>
</details><p>If you want to apply custom validation logic, you can do this in the
parameter callbacks.  These callbacks can both modify values as well as
raise errors if the validation does not work.</p>
<p>In Click 1.0, you can only raise the <code class="xref py py-exc docutils literal notranslate"><span class="pre">UsageError</span></code> but starting with
Click 2.0, you can also raise the <code class="xref py py-exc docutils literal notranslate"><span class="pre">BadParameter</span></code> error, which has the
added advantage that it will automatically format the error message to
also contain the parameter name.</p>
<p>Example:</p>
<p>And what it looks like:</p>
</div>
<div class="section" id="optional-value">
<span id="id3"></span><h2>Optional Value<a class="headerlink" href="#optional-value" title="Permalink to this headline">¶</a></h2>
<p>Providing the value to an option can be made optional, in which case
providing only the option’s flag without a value will either show a
prompt or use its <code class="docutils literal notranslate"><span class="pre">flag_value</span></code>.</p>
<p>Setting <code class="docutils literal notranslate"><span class="pre">is_flag=False,</span> <span class="pre">flag_value=value</span></code> tells Click that the option
can still be passed a value, but if only the flag is given the
<code class="docutils literal notranslate"><span class="pre">flag_value</span></code> is used.</p>
<p>If the option has <code class="docutils literal notranslate"><span class="pre">prompt</span></code> enabled, then setting
<code class="docutils literal notranslate"><span class="pre">prompt_required=False</span></code> tells Click to only show the prompt if the
option’s flag is given, instead of if the option is not provided at all.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">required=True</span></code>, then the option will still prompt if it is not
given, but it will also prompt if only the flag is given.</p>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
  <span id="sidebar-top"></span>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/click-logo-sidebar.png" alt="Logo"/>
            </a></p>
  

  <h3>Contents</h3>
  <ul>
<li><a class="reference internal" href="#">Options</a><ul>
<li><a class="reference internal" href="#name-your-options">Name Your Options</a></li>
<li><a class="reference internal" href="#basic-value-options">Basic Value Options</a></li>
<li><a class="reference internal" href="#multi-value-options">Multi Value Options</a></li>
<li><a class="reference internal" href="#tuples-as-multi-value-options">Tuples as Multi Value Options</a></li>
<li><a class="reference internal" href="#multiple-options">Multiple Options</a></li>
<li><a class="reference internal" href="#counting">Counting</a></li>
<li><a class="reference internal" href="#boolean-flags">Boolean Flags</a></li>
<li><a class="reference internal" href="#feature-switches">Feature Switches</a></li>
<li><a class="reference internal" href="#choice-options">Choice Options</a></li>
<li><a class="reference internal" href="#prompting">Prompting</a></li>
<li><a class="reference internal" href="#password-prompts">Password Prompts</a></li>
<li><a class="reference internal" href="#dynamic-defaults-for-prompts">Dynamic Defaults for Prompts</a></li>
<li><a class="reference internal" href="#callbacks-and-eager-options">Callbacks and Eager Options</a></li>
<li><a class="reference internal" href="#yes-parameters">Yes Parameters</a></li>
<li><a class="reference internal" href="#values-from-environment-variables">Values from Environment Variables</a></li>
<li><a class="reference internal" href="#multiple-values-from-environment-values">Multiple Values from Environment Values</a></li>
<li><a class="reference internal" href="#other-prefix-characters">Other Prefix Characters</a></li>
<li><a class="reference internal" href="#range-options">Range Options</a></li>
<li><a class="reference internal" href="#callbacks-for-validation">Callbacks for Validation</a></li>
<li><a class="reference internal" href="#optional-value">Optional Value</a></li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<ul>
  <li><a href="index.html">Overview</a>
    <ul>
          <li>Previous: <a href="parameters.html" title="previous chapter">Parameters</a>
          <li>Next: <a href="arguments.html" title="next chapter">Arguments</a>
    </ul>
  </li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014 Pallets, 2019 Matthias Urlichs.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.4.3.
    </div>
  <script src="_static/version_warning_offset.js"></script>

  </body>
</html>