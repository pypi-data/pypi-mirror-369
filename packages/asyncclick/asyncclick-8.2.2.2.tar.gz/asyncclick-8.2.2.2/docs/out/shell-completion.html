
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Shell Completion &#8212; AsyncClick Documentation (8.x)</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/click.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/tabs.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/tabs.js"></script>
    <link rel="shortcut icon" href="_static/click-icon.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Exception Handling" href="exceptions.html" />
    <link rel="prev" title="Utilities" href="utils.html" />
  <script>DOCUMENTATION_OPTIONS.URL_ROOT = './';</script>
   
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="exceptions.html" title="Exception Handling"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="utils.html" title="Utilities"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">AsyncClick Documentation (8.x)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Shell Completion</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="shell-completion">
<h1>Shell Completion<a class="headerlink" href="#shell-completion" title="Permalink to this headline">¶</a></h1>
<p>Click provides tab completion support for Bash (version 4.4 and up),
Zsh, and Fish. It is possible to add support for other shells too, and
suggestions can be customized at multiple levels.</p>
<p>Shell completion suggests command names, option names, and values for
choice, file, and path parameter types. Options are only listed if at
least a dash has been entered. Hidden commands and options are not
shown.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ repo &lt;TAB&gt;&lt;TAB&gt;
clone  commit  copy  delete  setuser
$ repo clone -&lt;TAB&gt;&lt;TAB&gt;
--deep  --help  --rev  --shallow  -r
</pre></div>
</div>
<div class="section" id="enabling-completion">
<h2>Enabling Completion<a class="headerlink" href="#enabling-completion" title="Permalink to this headline">¶</a></h2>
<p>Completion is only available if a script is installed and invoked
through an entry point, not through the <code class="docutils literal notranslate"><span class="pre">python</span></code> command. See
<a class="reference internal" href="setuptools.html"><span class="doc">Setuptools Integration</span></a>. Once the executable is installed, calling it with
a special environment variable will put Click in completion mode.</p>
<p>In order for completion to be used, the user needs to register a special
function with their shell. The script is different for every shell, and
Click will output it when called with <code class="docutils literal notranslate"><span class="pre">_{PROG_NAME}_COMPLETE</span></code> set to
<code class="docutils literal notranslate"><span class="pre">{shell}_source</span></code>. <code class="docutils literal notranslate"><span class="pre">{PROG_NAME}</span></code> is the executable name in uppercase
with dashes replaced by underscores. The built-in shells are <code class="docutils literal notranslate"><span class="pre">bash</span></code>,
<code class="docutils literal notranslate"><span class="pre">zsh</span></code>, and <code class="docutils literal notranslate"><span class="pre">fish</span></code>.</p>
<p>Provide your users with the following instructions customized to your
program name. This uses <code class="docutils literal notranslate"><span class="pre">foo-bar</span></code> as an example.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" role="tablist"><button aria-controls="panel-0-QmFzaA==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-QmFzaA==" name="QmFzaA==" role="tab" tabindex="0">Bash</button><button aria-controls="panel-0-WnNo" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-WnNo" name="WnNo" role="tab" tabindex="-1">Zsh</button><button aria-controls="panel-0-RmlzaA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-RmlzaA==" name="RmlzaA==" role="tab" tabindex="-1">Fish</button></div><div aria-labelledby="tab-0-QmFzaA==" class="sphinx-tabs-panel group-tab" id="panel-0-QmFzaA==" name="QmFzaA==" role="tabpanel" tabindex="0"><p>Add this to <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">eval</span> <span class="s2">&quot;</span><span class="k">$(</span><span class="nv">_FOO_BAR_COMPLETE</span><span class="o">=</span>bash_source foo-bar<span class="k">)</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-WnNo" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-WnNo" name="WnNo" role="tabpanel" tabindex="0"><p>Add this to <code class="docutils literal notranslate"><span class="pre">~/.zshrc</span></code>:</p>
<div class="highlight-zsh notranslate"><div class="highlight"><pre><span></span><span class="nb">eval</span> <span class="s2">&quot;</span><span class="k">$(</span><span class="nv">_FOO_BAR_COMPLETE</span><span class="o">=</span>zsh_source foo-bar<span class="k">)</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-RmlzaA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-RmlzaA==" name="RmlzaA==" role="tabpanel" tabindex="0"><p>Add this to <code class="docutils literal notranslate"><span class="pre">~/.config/fish/completions/foo-bar.fish</span></code>:</p>
<div class="highlight-fish notranslate"><div class="highlight"><pre><span></span><span class="nb">eval</span> <span class="o">(</span>env <span class="nv">_FOO_BAR_COMPLETE</span><span class="o">=</span>fish_source foo-bar<span class="o">)</span>
</pre></div>
</div>
<p>This is the same file used for the activation script method
below. For Fish it’s probably always easier to use that method.</p>
</div></div>
<p>Using <code class="docutils literal notranslate"><span class="pre">eval</span></code> means that the command is invoked and evaluated every
time a shell is started, which can delay shell responsiveness. To speed
it up, write the generated script to a file, then source that. You can
generate the files ahead of time and distribute them with your program
to save your users a step.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" role="tablist"><button aria-controls="panel-1-QmFzaA==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-QmFzaA==" name="QmFzaA==" role="tab" tabindex="0">Bash</button><button aria-controls="panel-1-WnNo" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-WnNo" name="WnNo" role="tab" tabindex="-1">Zsh</button><button aria-controls="panel-1-RmlzaA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-RmlzaA==" name="RmlzaA==" role="tab" tabindex="-1">Fish</button></div><div aria-labelledby="tab-1-QmFzaA==" class="sphinx-tabs-panel group-tab" id="panel-1-QmFzaA==" name="QmFzaA==" role="tabpanel" tabindex="0"><p>Save the script somewhere.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">_FOO_BAR_COMPLETE</span><span class="o">=</span>bash_source foo-bar &gt; ~/.foo-bar-complete.bash
</pre></div>
</div>
<p>Source the file in <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>. ~/.foo-bar-complete.bash
</pre></div>
</div>
</div><div aria-labelledby="tab-1-WnNo" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-WnNo" name="WnNo" role="tabpanel" tabindex="0"><p>Save the script somewhere.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">_FOO_BAR_COMPLETE</span><span class="o">=</span>zsh_source foo-bar &gt; ~/.foo-bar-complete.zsh
</pre></div>
</div>
<p>Source the file in <code class="docutils literal notranslate"><span class="pre">~/.zshrc</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>. ~/.foo-bar-complete.zsh
</pre></div>
</div>
</div><div aria-labelledby="tab-1-RmlzaA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-RmlzaA==" name="RmlzaA==" role="tabpanel" tabindex="0"><p>Save the script to <code class="docutils literal notranslate"><span class="pre">~/.config/fish/completions/foo-bar.fish</span></code>:</p>
<div class="highlight-fish notranslate"><div class="highlight"><pre><span></span><span class="nv">_FOO_BAR_COMPLETE</span><span class="o">=</span>fish_source foo-bar <span class="o">&gt;</span> ~/.config/fish/completions/foo-bar.fish
</pre></div>
</div>
</div></div>
<p>After modifying the shell config, you need to start a new shell in order
for the changes to be loaded.</p>
</div>
<div class="section" id="custom-type-completion">
<h2>Custom Type Completion<a class="headerlink" href="#custom-type-completion" title="Permalink to this headline">¶</a></h2>
<p>When creating a custom <code class="xref py py-class docutils literal notranslate"><span class="pre">ParamType</span></code>, override its
<code class="xref py py-meth docutils literal notranslate"><span class="pre">shell_complete()</span></code> method to provide shell
completion for parameters with the type. The method must return a list
of <a class="reference internal" href="api.html#asyncclick.shell_completion.CompletionItem" title="asyncclick.shell_completion.CompletionItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompletionItem</span></code></a> objects. Besides the value, these objects
hold metadata that shell support might use. The built-in implementations
use <code class="docutils literal notranslate"><span class="pre">type</span></code> to indicate special handling for paths, and <code class="docutils literal notranslate"><span class="pre">help</span></code> for
shells that support showing a help string next to a suggestion.</p>
<p>In this example, the type will suggest environment variables that start
with the incomplete value.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">EnvVarType</span><span class="p">(</span><span class="n">ParamType</span><span class="p">):</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">shell_complete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="n">incomplete</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">CompletionItem</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span> <span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">incomplete</span><span class="p">)</span>
        <span class="p">]</span>

<span class="nd">@click</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="nd">@click</span><span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s2">&quot;--ev&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">EnvVarType</span><span class="p">())</span>
<span class="k">def</span> <span class="nf">cli</span><span class="p">(</span><span class="n">ev</span><span class="p">):</span>
    <span class="n">click</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">ev</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="section" id="overriding-value-completion">
<h2>Overriding Value Completion<a class="headerlink" href="#overriding-value-completion" title="Permalink to this headline">¶</a></h2>
<p>Value completions for a parameter can be customized without a custom
type by providing an async <code class="docutils literal notranslate"><span class="pre">shell_complete</span></code> function. The function is used
instead of any completion provided by the type. It is passed 3 keyword
arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ctx</span></code> - The current command context.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">param</span></code> - The current parameter requesting completion.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">incomplete</span></code> - The partial word that is being completed. May
be an empty string if no characters have been entered yet.</p></li>
</ul>
<p>It must return a list of <a class="reference internal" href="api.html#asyncclick.shell_completion.CompletionItem" title="asyncclick.shell_completion.CompletionItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompletionItem</span></code></a> objects, or as a
shortcut it can return a list of strings.</p>
<p>In this example, the command will suggest environment variables that
start with the incomplete value.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">complete_env_vars</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="n">incomplete</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span> <span class="k">if</span> <span class="n">k</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">incomplete</span><span class="p">)]</span>

<span class="nd">@click</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="nd">@click</span><span class="o">.</span><span class="n">argument</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">shell_complete</span><span class="o">=</span><span class="n">complete_env_vars</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">cli</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="n">click</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Name: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">click</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Value: </span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-support-for-a-shell">
<h2>Adding Support for a Shell<a class="headerlink" href="#adding-support-for-a-shell" title="Permalink to this headline">¶</a></h2>
<p>Support can be added for shells that do not come built in. Be sure to
check PyPI to see if there’s already a package that adds support for
your shell. This topic is very technical, you’ll want to look at Click’s
source to study the built-in implementations.</p>
<p>Shell support is provided by subclasses of <a class="reference internal" href="api.html#asyncclick.shell_completion.ShellComplete" title="asyncclick.shell_completion.ShellComplete"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShellComplete</span></code></a>
registered with <a class="reference internal" href="api.html#asyncclick.shell_completion.add_completion_class" title="asyncclick.shell_completion.add_completion_class"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_completion_class()</span></code></a>. When Click is invoked in
completion mode, it calls <a class="reference internal" href="api.html#asyncclick.shell_completion.ShellComplete.source" title="asyncclick.shell_completion.ShellComplete.source"><code class="xref py py-meth docutils literal notranslate"><span class="pre">source()</span></code></a> to output the
completion script, or <a class="reference internal" href="api.html#asyncclick.shell_completion.ShellComplete.complete" title="asyncclick.shell_completion.ShellComplete.complete"><code class="xref py py-meth docutils literal notranslate"><span class="pre">complete()</span></code></a> to output
completions. The base class provides default implementations that
require implementing some smaller parts.</p>
<p>First, you’ll need to figure out how your shell’s completion system
works and write a script to integrate it with Click. It must invoke your
program with the environment variable <code class="docutils literal notranslate"><span class="pre">_{PROG_NAME}_COMPLETE</span></code> set to
<code class="docutils literal notranslate"><span class="pre">{shell}_complete</span></code> and pass the complete args and incomplete value.
How it passes those values, and the format of the completion response
from Click is up to you.</p>
<p>In your subclass, set <a class="reference internal" href="api.html#asyncclick.shell_completion.ShellComplete.source_template" title="asyncclick.shell_completion.ShellComplete.source_template"><code class="xref py py-attr docutils literal notranslate"><span class="pre">source_template</span></code></a> to the
completion script. The default implementation will perform <code class="docutils literal notranslate"><span class="pre">%</span></code>
formatting with the following variables:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">complete_func</span></code> - A safe name for the completion function defined
in the script.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">complete_var</span></code> - The environment variable name for passing the
<code class="docutils literal notranslate"><span class="pre">{shell}_complete</span></code> instruction.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prog_name</span></code> - The name of the executable being completed.</p></li>
</ul>
<p>The example code is for a made up shell “My Shell” or “mysh” for short.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">asyncclick.shell_completion</span> <span class="kn">import</span> <span class="n">add_completion_class</span>
<span class="kn">from</span> <span class="nn">asyncclick.shell_completion</span> <span class="kn">import</span> <span class="n">ShellComplete</span>

<span class="n">_mysh_source</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="si">%(complete_func)s</span><span class="s2"> {</span>
<span class="s2">    response=$(</span><span class="si">%(complete_var)s</span><span class="s2">=mysh_complete </span><span class="si">%(prog_name)s</span><span class="s2">)</span>
<span class="s2">    # parse response and set completions somehow</span>
<span class="s2">}</span>
<span class="s2">call-on-complete </span><span class="si">%(prog_name)s</span><span class="s2"> </span><span class="si">%(complete_func)s</span><span class="s2"></span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nd">@add_completion_class</span>
<span class="k">class</span> <span class="nc">MyshComplete</span><span class="p">(</span><span class="n">ShellComplete</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;mysh&quot;</span>
    <span class="n">source_template</span> <span class="o">=</span> <span class="n">_mysh_source</span>
</pre></div>
</div>
<p>Next, implement <a class="reference internal" href="api.html#asyncclick.shell_completion.ShellComplete.get_completion_args" title="asyncclick.shell_completion.ShellComplete.get_completion_args"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_completion_args()</span></code></a>. This must
get, parse, and return the complete args and incomplete value from the
completion script. For example, for the Bash implementation the
<code class="docutils literal notranslate"><span class="pre">COMP_WORDS</span></code> env var contains the command line args as a string, and
the <code class="docutils literal notranslate"><span class="pre">COMP_CWORD</span></code> env var contains the index of the incomplete arg. The
method must return a <code class="docutils literal notranslate"><span class="pre">(args,</span> <span class="pre">incomplete)</span></code> tuple.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">asyncclick.parser</span> <span class="kn">import</span> <span class="n">split_arg_string</span>

<span class="k">class</span> <span class="nc">MyshComplete</span><span class="p">(</span><span class="n">ShellComplete</span><span class="p">):</span>
    <span class="o">...</span>

    <span class="k">def</span> <span class="nf">get_completion_args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">args</span> <span class="o">=</span> <span class="n">split_arg_string</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;COMP_WORDS&quot;</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;COMP_PARTIAL&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
            <span class="n">incomplete</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">args</span><span class="p">,</span> <span class="n">incomplete</span>

        <span class="k">return</span> <span class="n">args</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>
</pre></div>
</div>
<p>Finally, implement <a class="reference internal" href="api.html#asyncclick.shell_completion.ShellComplete.format_completion" title="asyncclick.shell_completion.ShellComplete.format_completion"><code class="xref py py-meth docutils literal notranslate"><span class="pre">format_completion()</span></code></a>. This is
called to format each <a class="reference internal" href="api.html#asyncclick.shell_completion.CompletionItem" title="asyncclick.shell_completion.CompletionItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompletionItem</span></code></a> into a string. For
example, the Bash implementation returns <code class="docutils literal notranslate"><span class="pre">f&quot;{item.type},{item.value}</span></code>
(it doesn’t support help strings), and the Zsh implementation returns
each part separated by a newline, replacing empty help with a <code class="docutils literal notranslate"><span class="pre">_</span></code>
placeholder. This format is entirely up to what you parse with your
completion script.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">type</span></code> value is usually <code class="docutils literal notranslate"><span class="pre">plain</span></code>, but it can be another value
that the completion script can switch on. For example, <code class="docutils literal notranslate"><span class="pre">file</span></code> or
<code class="docutils literal notranslate"><span class="pre">dir</span></code> can tell the shell to handle path completion, since the shell is
better at that than Click.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyshComplete</span><span class="p">(</span><span class="n">ShellComplete</span><span class="p">):</span>
    <span class="o">...</span>

    <span class="k">def</span> <span class="nf">format_completion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">item</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="se">\t</span><span class="si">{</span><span class="n">item</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p>With those three things implemented, the new shell support is ready. In
case those weren’t sufficient, there are more parts that can be
overridden, but that probably isn’t necessary.</p>
<p>The activation instructions will again depend on how your shell works.
Use the following to generate the completion script, then load it into
the shell somehow.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>_FOO_BAR_COMPLETE=mysh_source foo-bar
</pre></div>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
  <span id="sidebar-top"></span>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/click-logo-sidebar.png" alt="Logo"/>
            </a></p>
  

  <h3>Contents</h3>
  <ul>
<li><a class="reference internal" href="#">Shell Completion</a><ul>
<li><a class="reference internal" href="#enabling-completion">Enabling Completion</a></li>
<li><a class="reference internal" href="#custom-type-completion">Custom Type Completion</a></li>
<li><a class="reference internal" href="#overriding-value-completion">Overriding Value Completion</a></li>
<li><a class="reference internal" href="#adding-support-for-a-shell">Adding Support for a Shell</a></li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<ul>
  <li><a href="index.html">Overview</a>
    <ul>
          <li>Previous: <a href="utils.html" title="previous chapter">Utilities</a>
          <li>Next: <a href="exceptions.html" title="next chapter">Exception Handling</a>
    </ul>
  </li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014 Pallets, 2019 Matthias Urlichs.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.4.3.
    </div>
  <script src="_static/version_warning_offset.js"></script>

  </body>
</html>