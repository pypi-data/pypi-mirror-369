services:
  val0:
    image: rippled:latest
    container_name: val0
    hostname: val0
    entrypoint: ["rippled"]
    command: ["--ledgerfile", "ledger.json"]
    healthcheck:
      test: ["CMD", "/usr/bin/curl", "--insecure", "https://localhost:51235/health"]
      start_period: 45s
      interval: 10s
    volumes:
      - ./volumes/val0:/etc/opt/ripple
      - ./ledger.json:/ledger.json
    networks:
      - xrpld_net
  val1:
    image: rippled:latest
    container_name: val1
    hostname: val1
    entrypoint: ["rippled"]
    command: ["--net"]
    depends_on: ["val0"]
    volumes:
      - ./volumes/val1:/etc/opt/ripple
    networks:
      - xrpld_net
  val2:
    image: rippled:latest
    container_name: val2
    hostname: val2
    entrypoint: ["rippled"]
    command: ["--net"]
    depends_on: ["val0"]
    volumes:
      - ./volumes/val2:/etc/opt/ripple
    networks:
      - xrpld_net
  val3:
    image: rippled:latest
    container_name: val3
    hostname: val3
    entrypoint: ["rippled"]
    command: ["--net"]
    depends_on: ["val0"]
    volumes:
      - ./volumes/val3:/etc/opt/ripple
    networks:
      - xrpld_net
  val4:
    image: rippled:latest
    container_name: val4
    hostname: val4
    entrypoint: ["rippled"]
    command: ["--net"]
    depends_on: ["val0"]
    volumes:
      - ./volumes/val4:/etc/opt/ripple
    networks:
      - xrpld_net
  rippled:
    image: rippled:latest
    container_name: rippled
    hostname: rippled
    entrypoint: ["rippled"]
    ports:
      - 6006:6006
    command: ["--net"]
    depends_on: ["val0"]
    volumes:
      - ./volumes/rippled:/etc/opt/ripple
    networks:
      - xrpld_net
networks:
  xrpld_net:
    name: xrpld_net
include: []
