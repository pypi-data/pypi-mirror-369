{"version":3,"sources":["TreeSelect.tsx","index.tsx"],"names":["TreeSelect","state","checked","expanded","checked_changed","expanded_changed","render","nodes","props","args","checkModel","direction","disabled","expandDisabled","expandOnClick","noCascade","onlyLeafCheckboxes","showExpandAll","halfCheckColor","checkColor","showTreeLines","treeLineColor","styleId","styleTag","document","getElementById","createElement","id","head","appendChild","innerHTML","parse_label_html","icons","check","className","uncheck","halfCheck","expandClose","expandOpen","expandAll","collapseAll","parentClose","parentOpen","leaf","onCheck","setState","Streamlit","setComponentValue","onExpand","node","forEach","element","label","parse","children","StreamlitComponentBase","withStreamlitConnection","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.5f2cec95.chunk.js","sourcesContent":["import {\r\n  Streamlit,\r\n  StreamlitComponentBase,\r\n  withStreamlitConnection,\r\n} from \"streamlit-component-lib\"\r\nimport React, { ReactNode } from \"react\"\r\nimport CheckboxTree from 'react-checkbox-tree';\r\nimport parse from 'html-react-parser';\r\n\r\nclass TreeSelect extends StreamlitComponentBase {\r\n  public state = {\r\n    checked: [],\r\n    expanded: [],\r\n    checked_changed: false,\r\n    expanded_changed: false,\r\n  };\r\n\r\n  private parse_label_html(node: any) {\r\n    node.forEach((element: any) => {\r\n      if (element.label && typeof element.label === \"string\")\r\n      {\r\n        element.label = parse(element.label)\r\n      }\r\n      if (element.children) {\r\n        this.parse_label_html(element.children)\r\n      }\r\n    });\r\n\r\n  }\r\n  public render = (): ReactNode => {\r\n\r\n    const nodes = this.props.args['nodes']\r\n    const checkModel = this.props.args['check_model']\r\n    const checked = this.props.args['checked']\r\n    const direction = this.props.args['direction']\r\n    const disabled = this.props.args['disabled']\r\n    const expandDisabled = this.props.args['expand_disabled']\r\n    const expandOnClick = this.props.args['expand_on_click']\r\n    const expanded = this.props.args['expanded']\r\n    const noCascade = this.props.args['no_cascade']\r\n    const onlyLeafCheckboxes = this.props.args['only_leaf_checkboxes']\r\n    const showExpandAll = this.props.args['show_expand_all']\r\n    const halfCheckColor = this.props.args[\"half_check_color\"]\r\n    const checkColor = this.props.args[\"check_color\"]\r\n    const showTreeLines = this.props.args[\"show_tree_lines\"]\r\n    const treeLineColor = this.props.args[\"tree_line_color\"]\r\n\r\n    if (!this.state.checked_changed) {\r\n      this.state.checked = checked;\r\n    };\r\n\r\n    if (!this.state.expanded_changed){\r\n      this.state.expanded = expanded;\r\n    }\r\n\r\n    if(halfCheckColor){\r\n      const styleId = \"dynamic-half-check-color\";\r\n      let styleTag = document.getElementById(styleId) as HTMLStyleElement | null;\r\n      if (!styleTag) {\r\n        styleTag = document.createElement(\"style\");\r\n        styleTag.id = styleId;\r\n        document.head.appendChild(styleTag);\r\n      }\r\n        styleTag.innerHTML = `\r\n        .rct-icons-fa4 .rct-icon-half-check::before {\r\n          color: ${halfCheckColor} !important;\r\n        }\r\n    `;\r\n    }\r\n    if(checkColor){\r\n      const styleId = \"dynamic-check-color\";\r\n      let styleTag = document.getElementById(styleId) as HTMLStyleElement | null;\r\n      if (!styleTag) {\r\n        styleTag = document.createElement(\"style\");\r\n        styleTag.id = styleId;\r\n        document.head.appendChild(styleTag);\r\n      }\r\n        styleTag.innerHTML = `\r\n        .rct-icons-fa4 .rct-icon-check::before {\r\n          color: ${checkColor} !important;\r\n        }\r\n    `;\r\n    }\r\n\r\n    if(showTreeLines){\r\n      const styleId = \"dynamic-tree-lines\";\r\n      let styleTag = document.getElementById(styleId) as HTMLStyleElement | null;\r\n      if (!styleTag) {\r\n        styleTag = document.createElement(\"style\");\r\n        styleTag.id = styleId;\r\n        document.head.appendChild(styleTag);\r\n      }\r\n      styleTag.innerHTML = `\r\n        .rct-node {\r\n          position: relative;\r\n        }\r\n        \r\n        /* Vertical connecting lines - full height for non-last children */\r\n        .rct-node:not(:last-child)::before {\r\n          content: '';\r\n          position: absolute;\r\n          left: -12px;\r\n          top: 0;\r\n          bottom: -8px;\r\n          border-left: 1px solid ${treeLineColor};\r\n          width: 1px;\r\n        }\r\n        \r\n        /* Vertical connecting line for last child - only up to its horizontal line */\r\n        .rct-node:last-child::before {\r\n          content: '';\r\n          position: absolute;\r\n          left: -12px;\r\n          top: 0;\r\n          height: 16px;\r\n          border-left: 1px solid ${treeLineColor};\r\n          width: 1px;\r\n        }\r\n        \r\n        /* Horizontal connecting lines from vertical line to node content */\r\n        .rct-node::after {\r\n          content: '';\r\n          position: absolute;\r\n          left: -12px;\r\n          top: 16px;\r\n          width: 12px;\r\n          border-top: 1px solid ${treeLineColor};\r\n          height: 1px;\r\n        }\r\n        \r\n        /* Longer horizontal lines for leaf nodes (nodes without expand/collapse buttons) */\r\n        .rct-node:not(.rct-node-parent)::after {\r\n          width: 24px;\r\n        }\r\n        \r\n        /* No horizontal line for root level nodes */\r\n        .react-checkbox-tree > ol > .rct-node::after {\r\n          display: none;\r\n        }\r\n        \r\n        /* No vertical line for root level nodes */\r\n        .react-checkbox-tree > ol > .rct-node::before {\r\n          display: none;\r\n        }\r\n      `;\r\n    }\r\n    \r\n    this.parse_label_html(nodes)\r\n    return (<CheckboxTree\r\n      icons={{\r\n        check: <span className=\"rct-icon rct-icon-check\" />,\r\n        uncheck: <span className=\"rct-icon rct-icon-uncheck\" />,\r\n        halfCheck: <span className=\"rct-icon rct-icon-half-check\" />,\r\n        expandClose: <span className=\"rct-icon rct-icon-expand-close\" />,\r\n        expandOpen: <span className=\"rct-icon rct-icon-expand-open\" />,\r\n        expandAll: <span className=\"rct-icon rct-icon-expand-all\" />,\r\n        collapseAll: <span className=\"rct-icon rct-icon-collapse-all\" />,\r\n        parentClose: <span className=\"rct-icon rct-icon-parent-close\" />,\r\n        parentOpen: <span className=\"rct-icon rct-icon-parent-open\" />,\r\n        leaf: <span className=\"rct-icon rct-icon-leaf\" />,\r\n      }}\r\n      nodes={nodes}\r\n      checkModel={checkModel}\r\n      direction={direction}\r\n      disabled={disabled}\r\n      expandDisabled={expandDisabled}\r\n      expandOnClick={expandOnClick}\r\n      noCascade={noCascade}\r\n      onlyLeafCheckboxes={onlyLeafCheckboxes}\r\n      showExpandAll={showExpandAll}\r\n      checked={this.state.checked}\r\n      expanded={this.state.expanded}\r\n      onCheck={(checked) => { this.setState({ checked }); Streamlit.setComponentValue({'checked': checked, 'expanded': this.state.expanded}); this.state.checked_changed = true; }}\r\n      onExpand={(expanded) => {this.setState({ expanded }); Streamlit.setComponentValue({ 'checked': this.state.checked, 'expanded': expanded}); this.state.expanded_changed = true;}}\r\n    />)\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\n// \"withStreamlitConnection\" is a wrapper function. It bootstraps the\r\n// connection between your component and the Streamlit app, and handles\r\n// passing arguments from Python -> Component.\r\n//\r\n// You don't need to edit withStreamlitConnection (but you're welcome to!).\r\nexport default withStreamlitConnection(TreeSelect)\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport TreeSelect from \"./TreeSelect\"\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <TreeSelect />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n)\r\n"],"sourceRoot":""}