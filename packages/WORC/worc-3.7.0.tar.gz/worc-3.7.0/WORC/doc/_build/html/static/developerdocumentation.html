<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Changelog" href="changelog.html" /><link rel="prev" title="FAQ" href="faq.html" />
        <link rel="prefetch" href="../_static/WORC_Logo.svg" as="image" />

    <!-- Generated with Sphinx 8.2.3 and Furo 2025.07.19 -->
        <title>Developer documentation - WORC 3.7.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=25af2a20" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=8dab3a3b" />
    <link rel="stylesheet" type="text/css" href="../_static/extra.css?v=a591123b" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">WORC 3.7.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/WORC_Logo.svg" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">WORC 3.7.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="quick_start.html">Quick start guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_manual.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Radiomics Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="additionalfunctionality.html">Additional functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Developer documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="#references">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../autogen/WORC.html">WORC Package</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of WORC Package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../autogen/WORC.IOparser.html">IOparser Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../autogen/WORC.classification.html">classification Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../autogen/WORC.detectors.html">detectors Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../autogen/WORC.exampledata.html">exampledata Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../autogen/WORC.export.html">export Package</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../autogen/WORC.facade.html">facade Package</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of facade Package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../autogen/WORC.facade.helpers.html">helpers Package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../autogen/WORC.fastrconfig.html">fastrconfig Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../autogen/WORC.featureprocessing.html">featureprocessing Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../autogen/WORC.plotting.html">plotting Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../autogen/WORC.processing.html">processing Package</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../autogen/WORC.resources.html">resources Package</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of resources Package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../autogen/WORC.resources.fastr_tests.html">fastr_tests Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../autogen/WORC.resources.fastr_tools.html">fastr_tools Package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../autogen/WORC.statistics.html">statistics Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../autogen/WORC.tests.html">tests Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../autogen/WORC.tools.html">tools Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../autogen/WORC.validators.html">validators Package</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/static/developerdocumentation.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="developer-documentation">
<h1>Developer documentation<a class="headerlink" href="#developer-documentation" title="Link to this heading">¶</a></h1>
<section id="information-on-the-fastr-workflow-engine">
<h2>Information on the <cite>fastr`</cite> workflow engine<a class="headerlink" href="#information-on-the-fastr-workflow-engine" title="Link to this heading">¶</a></h2>
<p>The <cite>WORC</cite> toolbox makes use of the <cite>fastr</cite> package <a class="footnote-reference brackets" href="#id6" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>, an automated workflow engine.
<cite>fastr</cite> does not provide any actual implementation of the required (radiomics) algorithms,
but serves as a computational workflow engine, which has several advantages.</p>
<p>Firstly, <cite>fastr</cite> requires workflows to be modular and split into standardized components
or <em>tools</em>, with standardized inputs and outputs. This nicely connects to the modular design of <cite>WORC</cite>, for which we therefore wrapped each component as a tool in <cite>fastr</cite>. Alternating between feature extraction toolboxes can be easily done by changing a single field in the <cite>WORC</cite> toolbox configuration.</p>
<p>Second, provenance is automatically tracked by <cite>fastr</cite> to facilitate repeatability and reproducibility.</p>
<p>Third, <cite>fastr</cite> offers support for multiple execution plugins in order to be able to
execute the same workflow on different computational resources or clusters. Examples
include linear execution, local threading on multiple CPUs, and SLURM <a class="footnote-reference brackets" href="#id7" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>.</p>
<p>Fourth, <cite>fastr</cite> is agnostic to software language. Hence, instead of restricting the
user to a single programming language, algorithms (e.g., feature toolboxes) can be
supplied in a variety of languages such as <cite>Python</cite>, <cite>Matlab</cite>, <cite>R</cite>, and command line executables.</p>
<p>Fifth, <cite>fastr</cite> provides a variety of import and export plugins for loading and saving
data. Besides using the local file storage, these include the use of <cite>XNAT</cite> <a class="footnote-reference brackets" href="#id8" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a>.</p>
</section>
<section id="adding-a-feature-processing-toolbox">
<h2>Adding a feature processing toolbox<a class="headerlink" href="#adding-a-feature-processing-toolbox" title="Link to this heading">¶</a></h2>
<p>We suggest to use the wrapping we did around the PyRadiomics toolbox as an example.</p>
<ol class="arabic">
<li><p>Check if config type is in <code class="docutils literal notranslate"><span class="pre">fastr.types</span></code>: else, make your own. See
the <a class="reference external" href="https://github.com/MStarmans91/WORC/tree/master/WORC/resources/fastr_types/">WORC datatypes</a>
for examples.</p></li>
<li><p>Make a fastr tool, which basically is a XML wrapper around your tool telling fastr
what the inputs and outputs are. You can take our wrappers around pyradiomics as example:
see <a class="reference external" href="https://github.com/MStarmans91/WORC/blob/master/WORC/resources/fastr_tools/pyradiomics/pyradiomics.xml/">the command line wrapper</a>
for when your toolbox is command line executable, or the <a class="reference external" href="https://github.com/MStarmans91/WORC/blob/master/WORC/resources/fastr_tools/pyradiomics/CF_pyradiomics.xml/">Python wrapper</a>
for when your toolbox needs an interpreter such as Python. In the latter case, you will also need to include
an actual script using the interpreter, which is by default placed in the bin folder together
with the wrapper. The script will need to parse the arguments defined in the XML,
see <a class="reference external" href="https://github.com/MStarmans91/WORC/blob/master/WORC/resources/fastr_tools/pyradiomics/bin/CF_pyradiomics_tool.py/">here</a>
for the one using PyRadiomics.</p>
<p>For more information, visit <a class="reference external" href="https://fastr.readthedocs.io/en/stable/static/user_manual.html#create-your-own-tool/">the fastr documentation</a>.</p>
</li>
<li><p>In WORC, go to the <a class="reference internal" href="../autogen/WORC.html#WORC.WORC.WORC.add_feature_calculator" title="WORC.WORC.WORC.add_feature_calculator"><code class="xref py py-mod docutils literal notranslate"><span class="pre">WORC.WORC.WORC.add_feature_calculator</span></code></a> function and change the following:</p></li>
</ol>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>Add a converter for your config file if you do not use the .ini format WORC by default uses.</p></li>
<li><p>If you followed a, also add a config safe function to <a class="reference internal" href="../autogen/WORC.html#WORC.WORC.WORC.save_config" title="WORC.WORC.WORC.save_config"><code class="xref py py-mod docutils literal notranslate"><span class="pre">WORC.WORC.WORC.save_config</span></code></a>.</p></li>
<li><p>Make sure you add both the sources and sinks for your tools.</p></li>
<li><p>Link these sources and sinks to the fastr network in the <code class="xref py py-mod docutils literal notranslate"><span class="pre">WORC.WORCWORC.set</span></code> function.</p></li>
<li><p>Add part to feature converter</p></li>
</ol>
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>To convert the feature files from your toolbox to WORC compatible format,
add the neccesary functionality to the <a class="reference internal" href="../autogen/WORC.featureprocessing.html#module-WORC.featureprocessing.FeatureConverter" title="WORC.featureprocessing.FeatureConverter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">WORC.featureprocessing.FeatureConverter</span></code></a>
function.</p></li>
<li><p>Tell WORC to use your feature calculator by changing the relevant config field: <code class="docutils literal notranslate"><span class="pre">config['General']['FeatureCalculators]</span></code>.</p></li>
<li><p>Optionally, add the parameters specifically for your toolbox to the WORC
configuration in <a class="reference internal" href="../autogen/WORC.html#WORC.WORC.WORC.defaultconfig" title="WORC.WORC.WORC.defaultconfig"><code class="xref py py-mod docutils literal notranslate"><span class="pre">WORC.WORC.WORC.defaultconfig</span></code></a>.</p></li>
</ol>
</section>
<section id="testing-and-example-data">
<h2>Testing and example data<a class="headerlink" href="#testing-and-example-data" title="Link to this heading">¶</a></h2>
<p>WIP</p>
</section>
<section id="adding-methods-to-hyperoptimization">
<h2>Adding methods to hyperoptimization<a class="headerlink" href="#adding-methods-to-hyperoptimization" title="Link to this heading">¶</a></h2>
<ol class="arabic">
<li><p>Add the parameters to the relevant parts of the WORC configuration in
<a class="reference internal" href="../autogen/WORC.html#WORC.WORC.WORC.defaultconfig" title="WORC.WORC.WORC.defaultconfig"><code class="xref py py-mod docutils literal notranslate"><span class="pre">WORC.WORC.WORC.defaultconfig</span></code></a>.</p>
<p>Please add a description of these parameters and their potential values to
the documentation, see <a class="reference external" href="https://github.com/MStarmans91/WORC/blob/master/WORC/doc/generate_config.py">https://github.com/MStarmans91/WORC/blob/master/WORC/doc/generate_config.py</a>.</p>
</li>
<li><p>Make sure these fields are adequately parsed by adding parsing to
<a class="reference internal" href="../autogen/WORC.IOparser.html#WORC.IOparser.config_io_classifier.load_config" title="WORC.IOparser.config_io_classifier.load_config"><code class="xref py py-mod docutils literal notranslate"><span class="pre">WORC.IOparser.config_io_classifier.load_config</span></code></a>.</p></li>
<li><p>Define how the parameters you just added are added to the search space
in <a class="reference internal" href="../autogen/WORC.classification.html#WORC.classification.trainclassifier.trainclassifier" title="WORC.classification.trainclassifier.trainclassifier"><code class="xref py py-mod docutils literal notranslate"><span class="pre">WORC.classification.trainclassifier.trainclassifier</span></code></a>, or
<a class="reference internal" href="../autogen/WORC.classification.html#module-WORC.classification.construct_classifier" title="WORC.classification.construct_classifier"><code class="xref py py-mod docutils literal notranslate"><span class="pre">WORC.classification.construct_classifier</span></code></a> both  the
<code class="docutils literal notranslate"><span class="pre">construct_classifier</span></code> and <code class="docutils literal notranslate"><span class="pre">create_param_grid</span></code> functions for machine
learning estimators (e.g. classifiers). For
example, your parameters may define the actual options, or the min-max of
a distribution (e.g. uniform, log-uniform). See the referred function
for some examples. Make sure that the object is iterable.</p></li>
<li><p>These parameters will end up in the function fitting the workflow:
<a class="reference internal" href="../autogen/WORC.classification.html#WORC.classification.fitandscore.fit_and_score" title="WORC.classification.fitandscore.fit_and_score"><code class="xref py py-mod docutils literal notranslate"><span class="pre">WORC.classification.fitandscore.fit_and_score</span></code></a>. Hence,
add a part to that function to embed your method in the workflow. We advice
you to embed your method in a sklearn compatible class, having init,
fit and transform functions. See for example
<a class="reference internal" href="../autogen/WORC.featureprocessing.html#WORC.featureprocessing.Preprocessor.Preprocessor" title="WORC.featureprocessing.Preprocessor.Preprocessor"><code class="xref py py-mod docutils literal notranslate"><span class="pre">WORC.featureprocessing.Preprocessor.Preprocessor</span></code></a>.</p>
<p>In
<a class="reference internal" href="../autogen/WORC.classification.html#WORC.classification.fitandscore.fit_and_score" title="WORC.classification.fitandscore.fit_and_score"><code class="xref py py-mod docutils literal notranslate"><span class="pre">WORC.classification.fitandscore.fit_and_score</span></code></a>, make sure
that after fitting your object, the parameters used are deleted from the
config, as is done for the other methods as well.</p>
<p>Lastly, in <a class="reference internal" href="../autogen/WORC.classification.html#WORC.classification.fitandscore.fit_and_score" title="WORC.classification.fitandscore.fit_and_score"><code class="xref py py-mod docutils literal notranslate"><span class="pre">WORC.classification.fitandscore.fit_and_score</span></code></a>,
make sure the fitted object is returned. We recommend looking at the
<code class="docutils literal notranslate"><span class="pre">imputer</span></code> object and similarly including your object.</p>
<p>This is given to various objects
in the <a class="reference internal" href="../autogen/WORC.classification.html#module-WORC.classification.SearchCV" title="WORC.classification.SearchCV"><code class="xref py py-mod docutils literal notranslate"><span class="pre">WORC.classification.SearchCV</span></code></a> module. Therefore,
add the returned object to all the parts were fitted objects are used: we
recommend looking everywhere the <code class="docutils literal notranslate"><span class="pre">imputer</span></code> is stated in
<a class="reference internal" href="../autogen/WORC.classification.html#module-WORC.classification.SearchCV" title="WORC.classification.SearchCV"><code class="xref py py-mod docutils literal notranslate"><span class="pre">WORC.classification.SearchCV</span></code></a>, copying those five statements
and replace <code class="docutils literal notranslate"><span class="pre">imputer</span></code> with however you called your methods. You can see
that this is also similar to e.g. the <code class="docutils literal notranslate"><span class="pre">scaler</span></code>, <code class="docutils literal notranslate"><span class="pre">pca</span></code>, and <code class="docutils literal notranslate"><span class="pre">groupsel</span></code>
objects.</p>
</li>
<li><p>If you want your new method to be used by the <code class="docutils literal notranslate"><span class="pre">SimpleWORC</span></code> or a child
facade, check <code class="xref py py-mod docutils literal notranslate"><span class="pre">WORC.facade.SimpleWORC</span></code> to see if you need to add it,
e.g. whitelist a classifier.</p></li>
</ol>
</section>
<section id="adding-a-plotting-tool-to-the-worc-evaluation-pipeline">
<h2>Adding a (plotting) tool to the WORC evaluation pipeline<a class="headerlink" href="#adding-a-plotting-tool-to-the-worc-evaluation-pipeline" title="Link to this heading">¶</a></h2>
<p>We illustrate here how plotting the ROC curves is embedded in <code class="docutils literal notranslate"><span class="pre">WORC</span></code>, and
to follow or even copy-paste this example to add your own tools.</p>
<ol class="arabic simple">
<li><p>Write a script to perform the actual analysis, preferably stored in the
plotting subfolder. See for example the one of the
<a class="reference external" href="https://github.com/MStarmans91/WORC/blob/master/WORC/plotting/plot_ROC.py/">ROC curves</a>.</p></li>
<li><p>Make it command-line executable and able to parse input arguments. For the ROC curves, we did this
in the above script as well, but that is optional. It should be stored in
<a class="reference external" href="https://github.com/MStarmans91/WORC/tree/master/WORC/resources/fastr_tools/worc/bin/">the WORC fastr_tools folder</a>,
see also the <a class="reference external" href="https://github.com/MStarmans91/WORC/blob/master/WORC/resources/fastr_tools/worc/bin/PlotROC.py/">ROC script in that folder</a>,
for step 3. Make sure it both is able to take in input arguments (parameters, file names) and output arguments (file names)
to store the results in.</p></li>
<li><p>Make a fastr tool, i.e., a wrapper around your <code class="docutils literal notranslate"><span class="pre">main</span></code> function that fastr can call. See
<a class="reference external" href="https://fastr.readthedocs.io/en/stable/static/user_manual.html#create-your-own-tool/">the general fastr documentation on creating your own tool</a>,
and the <cite>WORC tool for the ROC curve plotting&lt; https://github.com/MStarmans91/WORC/blob/master/WORC/resources/fastr_tools/worc/PlotROC.xml/`</cite>&gt;_.
You can see we call the script from step 2 for this. For the input and output files, you can run <code class="docutils literal notranslate"><span class="pre">fastr.types</span></code> to see which
datatypes are in your current <code class="docutils literal notranslate"><span class="pre">fastr</span></code> installation. You an see we added
several in <code class="docutils literal notranslate"><span class="pre">WORC</span></code>, see also <a class="reference external" href="https://github.com/MStarmans91/WORC/tree/master/WORC/resources/fastr_types/">the WORC fastr_types folder</a>.</p></li>
<li><p>Now add it the the <a class="reference external" href="https://github.com/MStarmans91/WORC/blob/master/WORC/tools/Evaluate.py/">Evaluation part of WORC</a>.
If you are new to creating fastr networks, you may want to check out
<a class="reference external" href="https://fastr.readthedocs.io/en/stable/static/quick_start.html#creating-a-simple-network/">the fastr documentation</a>,
but in principle you can just copy paste again the parts of the plotting of the ROC curve. Make sure you add: the
additional sources (inputs) your tool requires if they are not already in the rest of WORC, the actual tool you made,
and sinks (outputs) so the output is also actually stored when your tool is done in an output folder.</p></li>
</ol>
</section>
</section>
<section id="references">
<span id="id5"></span><h1>References<a class="headerlink" href="#references" title="Link to this heading">¶</a></h1>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id6" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>Achterberg, H. C., Koek, M., &amp; Niessen, W. J. (2016). <em>Fastr: A Workflow Engine for Advanced Data Flows in Medical Image Analysis</em>. Frontiers in ICT, 3, 15. <a class="reference external" href="https://doi.org/10.3389/fict.2016.00015">https://doi.org/10.3389/fict.2016.00015</a></p>
</aside>
<aside class="footnote brackets" id="id7" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p>Yoo, A. B., Jette, M. A., &amp; Grondona, M. (2003). <em>SLURM: Simple Linux Utility for Resource Management</em>. Job Scheduling Strategies for Parallel Processing, Lecture Notes in Computer Science, 2862, 44–60. <a class="reference external" href="https://doi.org/10.1007/10968987_3">https://doi.org/10.1007/10968987_3</a></p>
</aside>
<aside class="footnote brackets" id="id8" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">3</a><span class="fn-bracket">]</span></span>
<p>Marcus, D. S., Olsen, T. R., Ramaratnam, M., &amp; Buckner, R. L. (2007). <em>The extensible neuroimaging archive toolkit</em>. Neuroinformatics, 5(1), 11–33. <a class="reference external" href="https://doi.org/10.1385/NI:5:1:11">https://doi.org/10.1385/NI:5:1:11</a></p>
</aside>
</aside>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="changelog.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Changelog</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="faq.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">FAQ</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2016 -- 2025, Biomedical Imaging Group Rotterdam, Department of Radiology and Nuclear Medicine, Erasmus University Medical Center, Rotterdam, The Netherlands
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Developer documentation</a><ul>
<li><a class="reference internal" href="#information-on-the-fastr-workflow-engine">Information on the <cite>fastr`</cite> workflow engine</a></li>
<li><a class="reference internal" href="#adding-a-feature-processing-toolbox">Adding a feature processing toolbox</a></li>
<li><a class="reference internal" href="#testing-and-example-data">Testing and example data</a></li>
<li><a class="reference internal" href="#adding-methods-to-hyperoptimization">Adding methods to hyperoptimization</a></li>
<li><a class="reference internal" href="#adding-a-plotting-tool-to-the-worc-evaluation-pipeline">Adding a (plotting) tool to the WORC evaluation pipeline</a></li>
</ul>
</li>
<li><a class="reference internal" href="#references">References</a></li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=229cbe3b"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=46bd48cc"></script>
    </body>
</html>