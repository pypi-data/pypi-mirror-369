#count: &aa 20
count: &aa 1000
#count: &aa 4800
#count: &aa  160000
detector:
  ip: 0.0.0.0
  port: '6667'
  scan:
  #type: "flyscan"
    type: stepscan
    count: *aa
    #count: &dd 160000
#  files: [{datasetname: "/entry/data/data", shape: "(1,7)", dtype: "float64"}]
    batch: 4
    #batch: 1000
    files:
    - {docname: name, datasetname: /entry/data/data, shape: [*aa,1,7], dtype: float64}
    #- {docname: doc,datasetname: /entry/data/data, shape: [*aa,4,4096], dtype: uint32}
    #- {datasetname: /entry/data/data, shape: [*aa,4,4096], dtype: uint32}

gui:
  ip: 0.0.0.0
  #ip: 10.8.31.3
  port: "6668"

storage:
  enable: true
  count: *aa
  ip: 0.0.0.0
  #ip: 192.168.180.48
  #ip: 192.168.60.202
  port: 6700
  #fileservice: 192.168.180.48:6800
  fileservice: 0.0.0.0:6800
  clients: [192.168.1.1,192.168.1.2]
  files:
    file1:
      filename: result.h5
      directorypath: /home/mamba/mdw_result
      #time_suffix: false
      time_suffix: True
      #init: /home/mamba/.mdw/4w1A_scan_RunID.json
      #init: 
      stepscan:
        start:
          #time: {datasetname: /entry/instrument/starttime}
          time: {datasetname: /entry/start_time}
        collect:
          name: {datasetname: /entry/instrument/pandabox, miss: hold,default: 123,split: False,splitSize: 2}
          data: {datasetname: /entry/data/data, miss: hold,default: 123,split: False,splitSize: 2}
          data1: {datasetname: /entry/data/data1, miss: hold,default: 123,split: False,splitSize: 2}
          #M_Sample2_Theta: {datasetname: /entry/data/proj_angle,miss:hold,default:123}
          #name: {datasetname: /entry/instrument/pandabox,miss:hold,default:123}
          #D_ad_image: {datasetname: /entry/data/data, miss: hold,default: 123,split: False,splitSize: 2}
          #D_HAMA_image: {datasetname: /entry/data/D_HAMA_image, miss: hold,default: 123,split: False,splitSize: 2}
        stop:
          #time: {datasetname: /entry/instrument/stoptime}
          time: {datasetname: /entry/end_time}
      flyscan:
        start:
          #time: {datasetname: /entry/instrument/starttime}
          time: {datasetname: /entry/start_time}
        collect:
          #name: {datasetname: /entry/instrument/pandabox, miss: hold,default: 123,split: False,splitSize: 2}
          #doc: {datasetname: /entry/data/data, miss: hold,default: 123,split: False,splitSize: 2}
          #receive batch
          name: {datasetname: /entry/instrument/pandabox, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          doc: {datasetname: /entry/data/data, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #M_Sample2_Theta: {datasetname: /entry/data/proj_angle,miss:hold,default:123}
          #name: {datasetname: /entry/instrument/pandabox,miss:hold,default:123}
          #D_ad_image: {datasetname: /entry/data/data, miss: hold,default: 123,split: False,splitSize: 2}
          #D_HAMA_image: {datasetname: /entry/data/D_HAMA_image, miss: hold,default: 123,split: False,splitSize: 2}
        stop:
          #time: {datasetname: /entry/instrument/stoptime}
          time: {datasetname: /entry/end_time}
      Tomography:
        start:
          #time: {datasetname: /entry/instrument/starttime}
          time: {datasetname: /entry/start_time}
        collect:
          #name: {datasetname: /entry/instrument/pandabox, miss: hold,default: 123,split: False,splitSize: 2}
          #doc: {datasetname: /entry/data/data, miss: hold,default: 123,split: False,splitSize: 2}
          #receive batch
          data: {datasetname: /entry/instrument/pandabox, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #xsp3_1_image: {datasetname: /entry/data/data, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #M_Sample2_Theta: {datasetname: /entry/data/proj_angle,miss:hold,default:123}
          #name: {datasetname: /entry/instrument/pandabox,miss:hold,default:123}
          #D_ad_image: {datasetname: /entry/data/data, miss: hold,default: 123,split: False,splitSize: 2}
          #D_HAMA_image: {datasetname: /entry/data/D_HAMA_image, miss: hold,default: 123,split: False,splitSize: 2}
        stop:
          #time: {datasetname: /entry/instrument/stoptime}
          time: {datasetname: /entry/end_time}
      Count:
        start:
          #time: {datasetname: /entry/instrument/starttime}
          time: {datasetname: /entry/start_time}
        collect:
          #name: {datasetname: /entry/instrument/pandabox, miss: hold,default: 123,split: False,splitSize: 2}
          #doc: {datasetname: /entry/data/data, miss: hold,default: 123,split: False,splitSize: 2}
          #receive batch
          data: {datasetname: /entry/instrument/pandabox, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #xsp3_1_image: {datasetname: /entry/data/data, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #M_Sample2_Theta: {datasetname: /entry/data/proj_angle,miss:hold,default:123}
          #name: {datasetname: /entry/instrument/pandabox,miss:hold,default:123}
          #D_ad_image: {datasetname: /entry/data/data, miss: hold,default: 123,split: False,splitSize: 2}
          #D_HAMA_image: {datasetname: /entry/data/D_HAMA_image, miss: hold,default: 123,split: False,splitSize: 2}
        stop:
          #time: {datasetname: /entry/instrument/stoptime}
          time: {datasetname: /entry/end_time}
      oneD:
        start:
          #time: {datasetname: /entry/instrument/starttime}
          time: {datasetname: /entry/start_time}
        collect:
          data_fs: {datasetname: /entry/data/data_fs, miss: hold,default: 123,split: True,splitSize: 100,batch: False}
          D_XBPM_I_A: {datasetname: /entry/instrument/D_XBPM_I_A, default: 123,split: False,splitSize: 2,batch: False}
          D_XBPM_I_B: {datasetname: /entry/instrument/D_XBPM_I_B, default: 123,split: False,splitSize: 2,batch: False}
          D_XBPM_I_C: {datasetname: /entry/instrument/D_XBPM_I_C, default: 123,split: False,splitSize: 2,batch: False}
          D_XBPM_I_E: {datasetname: /entry/instrument/D_XBPM_I_E, default: 123,split: False,splitSize: 2,batch: False}
          M_DCM_Pitch_R: {datasetname: /entry/instrument/M_DCM_Pitch_R, default: 123,split: False,splitSize: 2,batch: False}
          M_DCM_B8: {datasetname: /entry/instrument/M_DCM_8, default: 123,split: False,splitSize: 2,batch: False}
          M_QXBPM_X: {datasetname: /entry/instrument/M_QXBPM_X, default: 123,split: False,splitSize: 2,batch: False}
          M_QXBPM_Z: {datasetname: /entry/instrument/M_QXBPM_Z, default: 123,split: False,splitSize: 2,batch: False}
          #M_FS3_Axis: {datasetname: /entry/instrument/M_FS3_Axis, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          M_FS3_Axis: {datasetname: /entry/instrument/M_FS3_Axis, default: 123,split: False,splitSize: 2,batch: False}
          M_FS2_Axis: {datasetname: /entry/instrument/M_FS2_Axis, default: 123,split: False,splitSize: 2,batch: False}
          M_WXBPM1_X: {datasetname: /entry/instrument/M_WXBPM1_X, default: 123,split: False,splitSize: 2,batch: False}
          M_WXBPM1_Z: {datasetname: /entry/instrument/M_WXBPM1_Z, default: 123,split: False,splitSize: 2,batch: False}
          M_FS1_Axis: {datasetname: /entry/instrument/M_FS1_Axis, default: 123,split: False,splitSize: 2,batch: False}
          #name: {datasetname: /entry/instrument/pandabox, miss: hold,default: 123,split: False,splitSize: 2}
          #doc: {datasetname: /entry/data/data, miss: hold,default: 123,split: False,splitSize: 2}
          #receive batch
          #data: {datasetname: /entry/instrument/data, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #data_fs: {datasetname: /entry/data/data_fs, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          ##xsp3_1_image: {datasetname: /entry/data/data, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #D_XBPM_I_A: {datasetname: /entry/instrument/D_XBPM_I_A, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #D_XBPM_I_B: {datasetname: /entry/instrument/D_XBPM_I_B, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #D_XBPM_I_C: {datasetname: /entry/instrument/D_XBPM_I_C, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #D_XBPM_I_E: {datasetname: /entry/instrument/D_XBPM_I_E, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #M_DCM_Pitch_R: {datasetname: /entry/instrument/M_DCM_Pitch_R, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #M_DCM_B8: {datasetname: /entry/instrument/M_DCM_8, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #M_QXBPM_X: {datasetname: /entry/instrument/M_QXBPM_X, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #M_QXBPM_Z: {datasetname: /entry/instrument/M_QXBPM_Z, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #M_FS3_Axis: {datasetname: /entry/instrument/M_FS3_Axis, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #M_FS2_Axis: {datasetname: /entry/instrument/M_FS2_Axis, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #M_WXBPM1_X: {datasetname: /entry/instrument/M_WXBPM1_X, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #M_WXBPM1_Z: {datasetname: /entry/instrument/M_WXBPM1_Z, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #M_FS1_Axis: {datasetname: /entry/instrument/M_FS1_Axis, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #M_Sample2_Theta: {datasetname: /entry/data/proj_angle,miss:hold,default:123}
          #name: {datasetname: /entry/instrument/pandabox,miss:hold,default:123}
          #D_ad_image: {datasetname: /entry/data/data, miss: hold,default: 123,split: False,splitSize: 2}
          #D_HAMA_image: {datasetname: /entry/data/D_HAMA_image, miss: hold,default: 123,split: False,splitSize: 2}
        stop:
          #time: {datasetname: /entry/instrument/stoptime}
          time: {datasetname: /entry/end_time}
      twoD:
        start:
          #time: {datasetname: /entry/instrument/starttime}
          time: {datasetname: /entry/start_time}
        collect:
          #name: {datasetname: /entry/instrument/pandabox, miss: hold,default: 123,split: False,splitSize: 2}
          #doc: {datasetname: /entry/data/data, miss: hold,default: 123,split: False,splitSize: 2}
          #receive batch
          #data: {datasetname: /entry/instrument/data, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          data_fs: {datasetname: /entry/data/data_fs, miss: hold,default: 123,split: True,splitSize: 100,batch: False}
          D_XBPM_I_A: {datasetname: /entry/instrument/D_XBPM_I_A, default: 123,split: False,splitSize: 2,batch: False}
          D_XBPM_I_B: {datasetname: /entry/instrument/D_XBPM_I_B, default: 123,split: False,splitSize: 2,batch: False}
          D_XBPM_I_C: {datasetname: /entry/instrument/D_XBPM_I_C, default: 123,split: False,splitSize: 2,batch: False}
          D_XBPM_I_E: {datasetname: /entry/instrument/D_XBPM_I_E, default: 123,split: False,splitSize: 2,batch: False}
          M_DCM_Pitch_R: {datasetname: /entry/instrument/M_DCM_Pitch_R, default: 123,split: False,splitSize: 2,batch: False}
          M_DCM_B8: {datasetname: /entry/instrument/M_DCM_8, default: 123,split: False,splitSize: 2,batch: False}
          M_QXBPM_X: {datasetname: /entry/instrument/M_QXBPM_X, default: 123,split: False,splitSize: 2,batch: False}
          M_QXBPM_Z: {datasetname: /entry/instrument/M_QXBPM_Z, default: 123,split: False,splitSize: 2,batch: False}
          #M_FS3_Axis: {datasetname: /entry/instrument/M_FS3_Axis, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          M_FS3_Axis: {datasetname: /entry/instrument/M_FS3_Axis, default: 123,split: False,splitSize: 2,batch: False}
          M_FS2_Axis: {datasetname: /entry/instrument/M_FS2_Axis, default: 123,split: False,splitSize: 2,batch: False}
          M_WXBPM1_X: {datasetname: /entry/instrument/M_WXBPM1_X, default: 123,split: False,splitSize: 2,batch: False}
          M_WXBPM1_Z: {datasetname: /entry/instrument/M_WXBPM1_Z, default: 123,split: False,splitSize: 2,batch: False}
          M_FS1_Axis: {datasetname: /entry/instrument/M_FS1_Axis, default: 123,split: False,splitSize: 2,batch: False}
          #D_XBPM_I_A: {datasetname: /entry/instrument/D_XBPM_I_A, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #D_XBPM_I_B: {datasetname: /entry/instrument/D_XBPM_I_B, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #D_XBPM_I_C: {datasetname: /entry/instrument/D_XBPM_I_C, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #D_XBPM_I_E: {datasetname: /entry/instrument/D_XBPM_I_E, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #M_DCM_Pitch_R: {datasetname: /entry/instrument/M_DCM_Pitch_R, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #M_DCM_B8: {datasetname: /entry/instrument/M_DCM_8, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #M_QXBPM_X: {datasetname: /entry/instrument/M_QXBPM_X, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #M_QXBPM_Z: {datasetname: /entry/instrument/M_QXBPM_Z, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          ##M_FS3_Axis: {datasetname: /entry/instrument/M_FS3_Axis, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #M_FS3_Axis: {datasetname: /entry/instrument/M_FS3_Axis, default: 123,split: False,splitSize: 2,batch: False}
          #M_FS2_Axis: {datasetname: /entry/instrument/M_FS2_Axis, default: 123,split: False,splitSize: 2,batch: False}
          #M_WXBPM1_X: {datasetname: /entry/instrument/M_WXBPM1_X, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #M_WXBPM1_Z: {datasetname: /entry/instrument/M_WXBPM1_Z, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #M_FS1_Axis: {datasetname: /entry/instrument/M_FS1_Axis, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          ##xsp3_1_image: {datasetname: /entry/data/data, miss: hold,default: 123,split: False,splitSize: 2,batch: False}
          #M_Sample2_Theta: {datasetname: /entry/data/proj_angle,miss:hold,default:123}
          #name: {datasetname: /entry/instrument/pandabox,miss:hold,default:123}
          #D_ad_image: {datasetname: /entry/data/data, miss: hold,default: 123,split: False,splitSize: 2}
          #D_HAMA_image: {datasetname: /entry/data/D_HAMA_image, miss: hold,default: 123,split: False,splitSize: 2}
        stop:
          #time: {datasetname: /entry/instrument/stoptime}
          time: {datasetname: /entry/end_time}

function: /home/mamba/.mdw

buffer:
    ip: 0.0.0.0
    port: 6379
    db: 0
    bufferWorker:
        ip: 0.0.0.0
        port: 6378


recast3d:
 #Ti+w
 #shaft: 1058
 #bone
 #shaft: 934
 #97dactyl
 #shaft: 1127
 skip: 1 
 #skip:  0
 resize: False
 row: [2,3]
 
computerCenter:
 #enable: True
 enable: False
 ip: 192.168.23.56
 port: 9092
 topic: 4W1B
 #mod: 0o444
 mod: 0o744


