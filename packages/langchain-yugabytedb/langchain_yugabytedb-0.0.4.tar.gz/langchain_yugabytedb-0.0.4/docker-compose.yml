name: langchain-yugabytedb

services:
  yugabytedb-node1:
    container_name: yugabytedb-node1
    hostname: yugabytedb-node1
    image: yugabytedb/yugabyte:2025.1.0.0-b168
    platform: linux/amd64
    command:
    - sh
    - -c
    - |
      bin/yugabyted start --background=false 
    restart: unless-stopped
    cap_add:
      - NET_ADMIN
    ports:
      - "7000:7000"
      - "9000:9000"
      - "5433:5433"
      - "15433:15433"
    healthcheck:
       test: ["CMD", "/home/yugabyte/bin/yugabyted", "status"]
       interval: 30s
       timeout: 10s
       retries: 10
