============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.4.1, pluggy-1.6.0 -- /home/jenner/code/treesitter-chunker/.fullenv/bin/python3.12
cachedir: .pytest_cache
rootdir: /home/jenner/code/treesitter-chunker
configfile: pyproject.toml
testpaths: tests
collecting ... collected 802 items / 621 deselected / 181 selected
run-last-failure: rerun previous 181 failures (skipped 106 files)

tests/test_api_endpoints_extended.py::test_export_postgres_endpoint PASSED [  0%]
tests/test_api_endpoints_extended.py::test_graph_xref_endpoint PASSED    [  1%]
tests/test_api_endpoints_extended.py::test_nearest_tests_endpoint PASSED [  1%]
tests/test_haskell_language.py::TestHaskellBasicChunking::test_module_structure FAILED [  2%]
tests/test_haskell_language.py::TestHaskellEdgeCases::test_lambda_expressions FAILED [  2%]
tests/test_hierarchical_chunker.py::TestHierarchicalChunker::test_leaf_node_preservation FAILED [  3%]
tests/test_incremental_integration.py::TestIncrementalIntegration::test_incremental_workflow FAILED [  3%]
tests/test_integration.py::TestAllLanguages::test_language_metadata_consistency FAILED [  4%]
tests/test_julia_language.py::TestJuliaBasicChunking::test_simple_function FAILED [  4%]
tests/test_julia_language.py::TestJuliaBasicChunking::test_struct_definitions FAILED [  5%]
tests/test_julia_language.py::TestJuliaBasicChunking::test_abstract_and_primitive_types FAILED [  6%]
tests/test_julia_language.py::TestJuliaEdgeCases::test_julia_with_metaprogramming FAILED [  6%]
tests/test_kotlin_language.py::TestKotlinLanguage::test_kotlin_basic_chunking FAILED [  7%]
tests/test_kotlin_language.py::TestKotlinLanguage::test_kotlin_interfaces_sealed FAILED [  7%]
tests/test_kotlin_language.py::TestKotlinLanguage::test_kotlin_extension_functions FAILED [  8%]
tests/test_kotlin_language.py::TestKotlinLanguage::test_kotlin_coroutines FAILED [  8%]
tests/test_kotlin_language.py::TestKotlinLanguage::test_kotlin_dsl_builders FAILED [  9%]
tests/test_kotlin_language.py::TestKotlinLanguage::test_kotlin_companion_object FAILED [  9%]
tests/test_kotlin_language.py::TestKotlinLanguage::test_kotlin_file_extensions[.kt] FAILED [ 10%]
tests/test_kotlin_language.py::TestKotlinLanguage::test_kotlin_file_extensions[.kts] FAILED [ 11%]
tests/test_kotlin_language.py::TestKotlinLanguage::test_kotlin_file_extensions[.ktm] FAILED [ 11%]
tests/test_language_config.py::TestLanguageConfigRegistry::test_clear_registry FAILED [ 12%]
tests/test_language_integration.py::TestLanguageIntegration::test_python_config_registered FAILED [ 12%]
tests/test_language_integration.py::TestChunkerIntegration::test_config_none_vs_defaults FAILED [ 13%]
tests/test_log_processor.py::TestLogProcessor::test_invalid_configuration FAILED [ 13%]
tests/test_log_processor_integration.py::TestLogProcessorIntegration::test_session_tracking_scenario FAILED [ 14%]
tests/test_log_processor_integration.py::TestLogProcessorIntegration::test_error_analysis_workflow FAILED [ 14%]
tests/test_markdown_processor.py::TestMarkdownProcessor::test_validate_chunk FAILED [ 15%]
tests/test_matlab_language.py::TestMATLABBasicChunking::test_matlab_script FAILED [ 16%]
tests/test_matlab_language.py::TestMATLABBasicChunking::test_matlab_classdef FAILED [ 16%]
tests/test_matlab_language.py::TestMATLABEdgeCases::test_matlab_with_only_comments FAILED [ 17%]
tests/test_matlab_language.py::TestMATLABEdgeCases::test_matlab_with_anonymous_functions FAILED [ 17%]
tests/test_matlab_language.py::TestMATLABEdgeCases::test_matlab_with_events_enumeration FAILED [ 18%]
tests/test_metadata_extraction.py::TestIntegrationWithChunker::test_chunk_with_metadata_javascript FAILED [ 18%]
tests/test_multi_language.py::TestMultiLanguageProcessor::test_group_by_feature FAILED [ 19%]
tests/test_nasm_language.py::TestNASMPlugin::test_label_chunking FAILED  [ 19%]
tests/test_nasm_language.py::TestNASMPlugin::test_section_chunking FAILED [ 20%]
tests/test_nasm_language.py::TestNASMPlugin::test_macro_chunking FAILED  [ 20%]
tests/test_nasm_language.py::TestNASMPlugin::test_struc_chunking FAILED  [ 21%]
tests/test_nasm_language.py::TestNASMPlugin::test_global_extern_directives FAILED [ 22%]
tests/test_nasm_language.py::TestNASMPlugin::test_complex_assembly_file FAILED [ 22%]
tests/test_ocaml_language.py::TestOCamlBasicChunking::test_simple_functions FAILED [ 23%]
tests/test_ocaml_language.py::TestOCamlBasicChunking::test_type_definitions FAILED [ 23%]
tests/test_ocaml_language.py::TestOCamlBasicChunking::test_module_definitions FAILED [ 24%]
tests/test_ocaml_language.py::TestOCamlBasicChunking::test_exception_definitions FAILED [ 24%]
tests/test_ocaml_language.py::TestOCamlBasicChunking::test_class_definitions FAILED [ 25%]
tests/test_ocaml_language.py::TestOCamlContractCompliance::test_get_semantic_chunks FAILED [ 25%]
tests/test_ocaml_language.py::TestOCamlEdgeCases::test_empty_ocaml_file FAILED [ 26%]
tests/test_ocaml_language.py::TestOCamlEdgeCases::test_ocaml_with_only_comments FAILED [ 27%]
tests/test_ocaml_language.py::TestOCamlEdgeCases::test_ocaml_with_operators FAILED [ 27%]
tests/test_ocaml_language.py::TestOCamlEdgeCases::test_ocaml_with_gadt FAILED [ 28%]
tests/test_ocaml_language.py::TestOCamlEdgeCases::test_ocaml_interface_file FAILED [ 28%]
tests/test_optimization.py::TestChunkOptimizer::test_coherence_score_calculation FAILED [ 29%]
tests/test_overlapping_fallback_isolated.py::TestOverlappingFallbackChunker::test_fixed_overlap_by_lines FAILED [ 29%]
tests/test_parallel.py::TestFailureHandling::test_permission_denied_handling FAILED [ 30%]
tests/test_parallel.py::TestFailureHandling::test_worker_crash_handling FAILED [ 30%]
tests/test_parallel_error_handling.py::TestParallelErrorHandling::test_worker_process_crash_recovery ERROR [ 31%]
tests/test_parallel_error_handling.py::TestParallelErrorHandling::test_worker_timeout_handling ERROR [ 32%]
tests/test_parallel_error_handling.py::TestParallelErrorHandling::test_resource_cleanup_after_errors ERROR [ 32%]
tests/test_parallel_error_handling.py::TestParallelErrorHandling::test_progress_tracking_with_failures ERROR [ 33%]
tests/test_parallel_error_handling.py::TestParallelErrorHandling::test_deadlock_prevention ERROR [ 33%]
tests/test_parallel_error_handling.py::TestParallelErrorHandling::test_memory_leak_detection ERROR [ 34%]
tests/test_parser_plugin_integration.py::TestParserPoolManagement::test_parser_pool_size_limits_for_plugins FAILED [ 34%]
tests/test_parser_plugin_integration.py::TestIntegrationPatterns::test_fallback_pattern FAILED [ 35%]
tests/test_phase10_full_integration.py::TestPhase10FullIntegration::test_complete_phase10_workflow ERROR [ 35%]
tests/test_phase10_full_integration.py::TestPhase10FullIntegration::test_error_handling_and_edge_cases ERROR [ 36%]
tests/test_phase10_full_integration.py::TestPhase10FullIntegration::test_performance_with_large_codebase ERROR [ 37%]
tests/test_phase10_interface_compatibility.py::TestPhase10InterfaceCompatibility::test_incremental_with_optimization FAILED [ 37%]
tests/test_phase11_comprehensive_integration.py::TestPhase11ComprehensiveIntegration::test_config_file_processing FAILED [ 38%]
tests/test_phase11_comprehensive_integration.py::TestPhase11ComprehensiveIntegration::test_mixed_content_repository FAILED [ 38%]
tests/test_phase11_comprehensive_integration.py::TestPhase11ComprehensiveIntegration::test_performance_with_large_files FAILED [ 39%]
tests/test_phase13_distribution_real.py::TestDistributionIntegrationReal::test_pypi_publishing_validates_package FAILED [ 39%]
tests/test_phase13_distribution_real.py::TestDistributionIntegrationReal::test_docker_image_works_cross_platform FAILED [ 40%]
tests/test_phase13_integration.py::TestDistributionIntegration::test_release_process_updates_all_locations FAILED [ 40%]
tests/test_phase13_real_integration.py::TestPhase13RealIntegration::test_cross_component_integration FAILED [ 41%]
tests/test_phase19_contract_compliance.py::test_template_generator_contract_compliance ERROR [ 41%]
tests/test_phase19_contract_compliance.py::test_grammar_manager_contract_compliance ERROR [ 42%]
tests/test_phase19_contract_compliance.py::test_language_plugin_contract_compliance ERROR [ 43%]
tests/test_php_language.py::TestPHPLanguage::test_php_basic_chunking FAILED [ 43%]
tests/test_php_language.py::TestPHPLanguage::test_php_interface_abstract FAILED [ 44%]
tests/test_php_language.py::TestPHPLanguage::test_php_anonymous_functions FAILED [ 44%]
tests/test_php_language.py::TestPHPLanguage::test_php_modern_syntax FAILED [ 45%]
tests/test_php_language.py::TestPHPLanguage::test_php_mixed_content FAILED [ 45%]
tests/test_php_language.py::TestPHPLanguage::test_php_namespace_use FAILED [ 46%]
tests/test_php_language.py::TestPHPLanguage::test_php_file_extensions[.php] FAILED [ 46%]
tests/test_php_language.py::TestPHPLanguage::test_php_file_extensions[.php3] FAILED [ 47%]
tests/test_php_language.py::TestPHPLanguage::test_php_file_extensions[.php4] FAILED [ 48%]
tests/test_php_language.py::TestPHPLanguage::test_php_file_extensions[.php5] FAILED [ 48%]
tests/test_php_language.py::TestPHPLanguage::test_php_file_extensions[.phtml] FAILED [ 49%]
tests/test_plugin_initialization_failures.py::TestPluginInitializationFailures::test_plugin_constructor_exception FAILED [ 49%]
tests/test_plugin_initialization_failures.py::TestPluginInitializationFailures::test_plugin_missing_required_properties FAILED [ 50%]
tests/test_plugin_initialization_failures.py::TestPluginInitializationFailures::test_plugin_parser_initialization_failure FAILED [ 50%]
tests/test_plugin_initialization_failures.py::TestPluginInitializationFailures::test_plugin_with_invalid_language_name FAILED [ 51%]
tests/test_plugin_initialization_failures.py::TestPluginInitializationFailures::test_plugin_configuration_validation_failure FAILED [ 51%]
tests/test_query_advanced.py::TestNaturalLanguageQueryEngine::test_structured_search FAILED [ 52%]
tests/test_query_advanced.py::TestAdvancedQueryIndex::test_tokenization FAILED [ 53%]
tests/test_query_advanced.py::TestAdvancedQueryIndex::test_statistics FAILED [ 53%]
tests/test_query_advanced.py::TestSmartQueryOptimizer::test_query_suggestions FAILED [ 54%]
tests/test_query_advanced.py::TestSmartQueryOptimizer::test_empty_query_optimization FAILED [ 54%]
tests/test_query_advanced.py::TestSmartQueryOptimizer::test_preserve_query_structure FAILED [ 55%]
tests/test_r_language.py::TestRBasicChunking::test_simple_function FAILED [ 55%]
tests/test_r_language.py::TestRBasicChunking::test_nested_functions FAILED [ 56%]
tests/test_r_language.py::TestRBasicChunking::test_s3_methods FAILED     [ 56%]
tests/test_r_language.py::TestREdgeCases::test_r_with_complex_assignments FAILED [ 57%]
tests/test_r_language.py::TestREdgeCases::test_r_markdown_chunks FAILED  [ 58%]
tests/test_r_language.py::TestREdgeCases::test_r_with_s4_classes FAILED  [ 58%]
tests/test_relationship_tracker.py::TestASTRelationshipTracker::test_infer_javascript_inheritance FAILED [ 59%]
tests/test_relationship_tracker.py::TestASTRelationshipTracker::test_infer_javascript_calls FAILED [ 59%]
tests/test_relationships.py::test_chunk_id_generation FAILED             [ 60%]
tests/test_relationships.py::test_parent_child_relationships FAILED      [ 60%]
tests/test_scala_language.py::TestScalaBasicChunking::test_classes_and_objects FAILED [ 61%]
tests/test_semantic_chunker.py::TestSemanticChunker::test_basic_chunking FAILED [ 61%]
tests/test_semantic_chunker.py::TestSemanticChunker::test_complexity_splitting FAILED [ 62%]
tests/test_semantic_chunker.py::TestSemanticChunker::test_semantic_boundaries FAILED [ 62%]
tests/test_sliding_integration.py::TestSlidingWindowIntegration::test_processor_selection FAILED [ 63%]
tests/test_sliding_integration.py::TestSlidingWindowIntegration::test_error_handling FAILED [ 64%]
tests/test_sliding_integration.py::TestProcessorPerformance::test_large_file_processing ERROR [ 64%]
tests/test_sliding_integration.py::TestIntegrationScenarios::test_mixed_content_repository ERROR [ 65%]
tests/test_sliding_integration.py::TestIntegrationScenarios::test_custom_plugin_loading ERROR [ 65%]
tests/test_sql_language.py::TestSQLBasicChunking::test_simple_create_table FAILED [ 66%]
tests/test_sql_language.py::TestSQLBasicChunking::test_multiple_statements FAILED [ 66%]
tests/test_sql_language.py::TestSQLBasicChunking::test_create_function FAILED [ 67%]
tests/test_sql_language.py::TestSQLBasicChunking::test_create_procedure FAILED [ 67%]
tests/test_sql_language.py::TestSQLBasicChunking::test_complex_select_with_cte FAILED [ 68%]
tests/test_sql_language.py::TestSQLContractCompliance::test_get_semantic_chunks FAILED [ 69%]
tests/test_sql_language.py::TestSQLEdgeCases::test_empty_sql_file FAILED [ 69%]
tests/test_sql_language.py::TestSQLEdgeCases::test_sql_with_only_comments FAILED [ 70%]
tests/test_sql_language.py::TestSQLEdgeCases::test_sql_with_transactions FAILED [ 70%]
tests/test_sql_language.py::TestSQLEdgeCases::test_sql_with_views FAILED [ 71%]
tests/test_sql_language.py::TestSQLEdgeCases::test_sql_with_triggers FAILED [ 71%]
tests/test_structured_export_integration.py::TestStructuredExportIntegration::test_end_to_end_jsonl_export FAILED [ 72%]
tests/test_structured_export_integration.py::TestStructuredExportIntegration::test_end_to_end_dot_export FAILED [ 72%]
tests/test_structured_export_integration.py::TestStructuredExportIntegration::test_relationship_tracking_javascript FAILED [ 73%]
tests/test_swift_language.py::TestSwiftLanguage::test_swift_basic_chunking FAILED [ 74%]
tests/test_swift_language.py::TestSwiftLanguage::test_swift_protocols_extensions FAILED [ 74%]
tests/test_swift_language.py::TestSwiftLanguage::test_swift_enums_associated_values FAILED [ 75%]
tests/test_swift_language.py::TestSwiftLanguage::test_swift_async_await FAILED [ 75%]
tests/test_swift_language.py::TestSwiftLanguage::test_swift_property_wrappers FAILED [ 76%]
tests/test_swift_language.py::TestSwiftLanguage::test_swift_generics_constraints FAILED [ 76%]
tests/test_swift_language.py::TestSwiftLanguage::test_swift_file_extensions[.swift] FAILED [ 77%]
tests/test_token_integration.py::TestTokenAwareChunker::test_multiple_languages FAILED [ 77%]
tests/test_types.py::TestChunkIdGeneration::test_auto_id_generation_on_init FAILED [ 78%]
tests/test_types.py::TestChunkIdGeneration::test_id_generation_uniqueness FAILED [ 79%]
tests/test_types.py::TestDataclassFeatures::test_equality FAILED         [ 79%]
tests/test_typescript_language.py::TestTypeScriptLanguage::test_typescript_basic_chunking FAILED [ 80%]
tests/test_typescript_language.py::TestTypeScriptLanguage::test_tsx_component_chunking FAILED [ 80%]
tests/test_typescript_language.py::TestTypeScriptLanguage::test_typescript_generics FAILED [ 81%]
tests/test_typescript_language.py::TestTypeScriptLanguage::test_typescript_decorators FAILED [ 81%]
tests/test_typescript_language.py::TestTypeScriptLanguage::test_typescript_namespace FAILED [ 82%]
tests/test_typescript_language.py::TestTypeScriptLanguage::test_typescript_enum_chunking FAILED [ 82%]
tests/test_typescript_language.py::TestTypeScriptLanguage::test_typescript_file_extensions[.ts] FAILED [ 83%]
tests/test_typescript_language.py::TestTypeScriptLanguage::test_typescript_file_extensions[.tsx] FAILED [ 83%]
tests/test_typescript_language.py::TestTypeScriptLanguage::test_typescript_file_extensions[.d.ts] FAILED [ 84%]
tests/test_visualize_ast_script.py::test_visualize_ast_script FAILED     [ 85%]
tests/test_wasm_language.py::TestWASMPlugin::test_module_chunking FAILED [ 85%]
tests/test_wasm_language.py::TestWASMPlugin::test_function_chunking FAILED [ 86%]
tests/test_wasm_language.py::TestWASMPlugin::test_memory_chunking FAILED [ 86%]
tests/test_wasm_language.py::TestWASMPlugin::test_table_chunking FAILED  [ 87%]
tests/test_wasm_language.py::TestWASMPlugin::test_global_chunking FAILED [ 87%]
tests/test_wasm_language.py::TestWASMPlugin::test_import_export_chunking FAILED [ 88%]
tests/test_wasm_language.py::TestWASMPlugin::test_type_definitions FAILED [ 88%]
tests/test_wasm_language.py::TestWASMPlugin::test_should_chunk_node PASSED [ 89%]
tests/test_wasm_language.py::TestWASMPlugin::test_get_node_context PASSED [ 90%]
tests/test_wasm_language.py::TestWASMPlugin::test_complex_wasm_module FAILED [ 90%]
tests/test_wasm_language.py::TestWASMPlugin::test_function_metadata PASSED [ 91%]
tests/test_xref_graph.py::test_xref_builds_edges_from_metadata_and_parent FAILED [ 91%]
tests/test_zig_language.py::TestZigPlugin::test_enum_chunking FAILED     [ 92%]
tests/test_zig_language.py::TestZigPlugin::test_test_declaration_chunking FAILED [ 92%]
tests/test_zig_language.py::TestZigPlugin::test_union_chunking FAILED    [ 93%]
tests/test_zig_language.py::TestZigPlugin::test_error_set_chunking FAILED [ 93%]
tests/test_zig_language.py::TestZigPlugin::test_comptime_chunking FAILED [ 94%]
tests/test_zig_language.py::TestZigPlugin::test_complex_zig_file FAILED  [ 95%]
tests/unit/context/test_context_extractor.py::TestBaseContextExtractor::test_build_context_prefix_empty FAILED [ 95%]
tests/unit/distribution/test_pypi_publisher.py::TestPyPIPublisher::test_publish_validates_packages PASSED [ 96%]
tests/unit/distribution/test_pypi_publisher.py::TestPyPIPublisher::test_publish_to_pypi FAILED [ 96%]
tests/unit/distribution/test_verifier.py::TestInstallationVerifier::test_verify_docker_installation FAILED [ 97%]
tests/unit/distribution/test_verifier.py::TestInstallationVerifier::test_verify_homebrew_installation FAILED [ 97%]
tests/unit/grammar/test_manager.py::TestTreeSitterGrammarManager::test_fetch_grammar_clone FAILED [ 98%]
tests/unit/grammar/test_manager.py::TestTreeSitterGrammarManager::test_fetch_grammar_update FAILED [ 98%]
tests/unit/grammar/test_manager.py::TestTreeSitterGrammarManager::test_build_grammar FAILED [ 99%]
tests/unit/grammar/test_manager.py::TestTreeSitterGrammarManager::test_validate_grammar FAILED [100%]

==================================== ERRORS ====================================
_ ERROR at setup of TestParallelErrorHandling.test_worker_process_crash_recovery _
file /home/jenner/code/treesitter-chunker/tests/test_parallel_error_handling.py, line 36
      @classmethod
      def test_worker_process_crash_recovery(
E       fixture 'resource_monitor' not found
>       available fixtures: build_system, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, doctest_namespace, error_tracking_context, monkeypatch, platform_support, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, temp_workspace, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory
>       use 'pytest --fixtures [testpath]' for help on them.

/home/jenner/code/treesitter-chunker/tests/test_parallel_error_handling.py:36
___ ERROR at setup of TestParallelErrorHandling.test_worker_timeout_handling ___
file /home/jenner/code/treesitter-chunker/tests/test_parallel_error_handling.py, line 82
      def test_worker_timeout_handling(
E       fixture 'parallel_test_environment' not found
>       available fixtures: build_system, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, doctest_namespace, error_tracking_context, monkeypatch, platform_support, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, temp_workspace, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory
>       use 'pytest --fixtures [testpath]' for help on them.

/home/jenner/code/treesitter-chunker/tests/test_parallel_error_handling.py:82
_ ERROR at setup of TestParallelErrorHandling.test_resource_cleanup_after_errors _
file /home/jenner/code/treesitter-chunker/tests/test_parallel_error_handling.py, line 188
      @classmethod
      def test_resource_cleanup_after_errors(
E       fixture 'resource_monitor' not found
>       available fixtures: build_system, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, doctest_namespace, error_tracking_context, monkeypatch, platform_support, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, temp_workspace, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory
>       use 'pytest --fixtures [testpath]' for help on them.

/home/jenner/code/treesitter-chunker/tests/test_parallel_error_handling.py:188
_ ERROR at setup of TestParallelErrorHandling.test_progress_tracking_with_failures _
file /home/jenner/code/treesitter-chunker/tests/test_parallel_error_handling.py, line 232
      @staticmethod
      def test_progress_tracking_with_failures(_temp_workspace):
E       fixture '_temp_workspace' not found
>       available fixtures: build_system, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, doctest_namespace, error_tracking_context, monkeypatch, platform_support, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, temp_workspace, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory
>       use 'pytest --fixtures [testpath]' for help on them.

/home/jenner/code/treesitter-chunker/tests/test_parallel_error_handling.py:232
_____ ERROR at setup of TestParallelErrorHandling.test_deadlock_prevention _____
file /home/jenner/code/treesitter-chunker/tests/test_parallel_error_handling.py, line 337
      @classmethod
      def test_deadlock_prevention(
E       fixture 'resource_monitor' not found
>       available fixtures: build_system, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, doctest_namespace, error_tracking_context, monkeypatch, platform_support, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, temp_workspace, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory
>       use 'pytest --fixtures [testpath]' for help on them.

/home/jenner/code/treesitter-chunker/tests/test_parallel_error_handling.py:337
____ ERROR at setup of TestParallelErrorHandling.test_memory_leak_detection ____
file /home/jenner/code/treesitter-chunker/tests/test_parallel_error_handling.py, line 431
      @classmethod
      def test_memory_leak_detection(cls, resource_monitor, temp_workspace):
E       fixture 'resource_monitor' not found
>       available fixtures: build_system, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, doctest_namespace, error_tracking_context, monkeypatch, platform_support, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, temp_workspace, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory
>       use 'pytest --fixtures [testpath]' for help on them.

/home/jenner/code/treesitter-chunker/tests/test_parallel_error_handling.py:431
_ ERROR at setup of TestPhase10FullIntegration.test_complete_phase10_workflow __
tests/test_phase10_full_integration.py:37: in setup_method
    Path(Path(self.backend_file).mkdir(parents=True).parent, exist_ok=True)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'NoneType' object has no attribute 'parent'
_ ERROR at setup of TestPhase10FullIntegration.test_error_handling_and_edge_cases _
tests/test_phase10_full_integration.py:37: in setup_method
    Path(Path(self.backend_file).mkdir(parents=True).parent, exist_ok=True)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'NoneType' object has no attribute 'parent'
_ ERROR at setup of TestPhase10FullIntegration.test_performance_with_large_codebase _
tests/test_phase10_full_integration.py:37: in setup_method
    Path(Path(self.backend_file).mkdir(parents=True).parent, exist_ok=True)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'NoneType' object has no attribute 'parent'
________ ERROR at setup of test_template_generator_contract_compliance _________
file /home/jenner/code/treesitter-chunker/tests/test_phase19_contract_compliance.py, line 11
  def test_template_generator_contract_compliance(implementation_class):
E       fixture 'implementation_class' not found
>       available fixtures: build_system, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, doctest_namespace, error_tracking_context, monkeypatch, platform_support, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, temp_workspace, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory
>       use 'pytest --fixtures [testpath]' for help on them.

/home/jenner/code/treesitter-chunker/tests/test_phase19_contract_compliance.py:11
__________ ERROR at setup of test_grammar_manager_contract_compliance __________
file /home/jenner/code/treesitter-chunker/tests/test_phase19_contract_compliance.py, line 42
  def test_grammar_manager_contract_compliance(implementation_class):
E       fixture 'implementation_class' not found
>       available fixtures: build_system, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, doctest_namespace, error_tracking_context, monkeypatch, platform_support, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, temp_workspace, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory
>       use 'pytest --fixtures [testpath]' for help on them.

/home/jenner/code/treesitter-chunker/tests/test_phase19_contract_compliance.py:42
__________ ERROR at setup of test_language_plugin_contract_compliance __________
file /home/jenner/code/treesitter-chunker/tests/test_phase19_contract_compliance.py, line 69
  def test_language_plugin_contract_compliance(implementation_class):
E       fixture 'implementation_class' not found
>       available fixtures: build_system, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, doctest_namespace, error_tracking_context, monkeypatch, platform_support, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, temp_workspace, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory
>       use 'pytest --fixtures [testpath]' for help on them.

/home/jenner/code/treesitter-chunker/tests/test_phase19_contract_compliance.py:69
____ ERROR at setup of TestProcessorPerformance.test_large_file_processing _____
file /home/jenner/code/treesitter-chunker/tests/test_sliding_integration.py, line 394
      @classmethod
      def test_large_file_processing(cls, fallback):
E       fixture 'fallback' not found
>       available fixtures: build_system, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, doctest_namespace, error_tracking_context, monkeypatch, platform_support, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, temp_workspace, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory
>       use 'pytest --fixtures [testpath]' for help on them.

/home/jenner/code/treesitter-chunker/tests/test_sliding_integration.py:394
___ ERROR at setup of TestIntegrationScenarios.test_mixed_content_repository ___
file /home/jenner/code/treesitter-chunker/tests/test_sliding_integration.py, line 412
      @classmethod
      def test_mixed_content_repository(cls, temp_dir):
E       fixture 'temp_dir' not found
>       available fixtures: build_system, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, doctest_namespace, error_tracking_context, monkeypatch, platform_support, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, temp_workspace, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory
>       use 'pytest --fixtures [testpath]' for help on them.

/home/jenner/code/treesitter-chunker/tests/test_sliding_integration.py:412
____ ERROR at setup of TestIntegrationScenarios.test_custom_plugin_loading _____
file /home/jenner/code/treesitter-chunker/tests/test_sliding_integration.py, line 454
      @classmethod
      def test_custom_plugin_loading(cls, temp_dir):
E       fixture 'temp_dir' not found
>       available fixtures: build_system, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, doctest_namespace, error_tracking_context, monkeypatch, platform_support, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, temp_workspace, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory
>       use 'pytest --fixtures [testpath]' for help on them.

/home/jenner/code/treesitter-chunker/tests/test_sliding_integration.py:454
=================================== FAILURES ===================================
________________ TestHaskellBasicChunking.test_module_structure ________________
tests/test_haskell_language.py:114: in test_module_structure
    assert any("module_declaration" in c.node_type for c in chunks)
E   assert False
E    +  where False = any(<generator object TestHaskellBasicChunking.test_module_structure.<locals>.<genexpr> at 0x73e4d83b5700>)
_________________ TestHaskellEdgeCases.test_lambda_expressions _________________
tests/test_haskell_language.py:304: in test_lambda_expressions
    assert any("double" in c.content for c in chunks)
E   assert False
E    +  where False = any(<generator object TestHaskellEdgeCases.test_lambda_expressions.<locals>.<genexpr> at 0x73e4d83b6e90>)
_____________ TestHierarchicalChunker.test_leaf_node_preservation ______________
tests/test_hierarchical_chunker.py:175: in test_leaf_node_preservation
    assert len(with_leaves) != len(without_leaves)
E   AssertionError: assert 2 != 2
E    +  where 2 = len([CodeChunk(language='python', file_path='test.py', node_type='function_definition', start_line=2, end_line=3, byte_start=1, byte_end=30, parent_context='root', content='def function1():\n    return 1', chunk_id='dbf902bf46662bb3', parent_chunk_id=None, references=[], dependencies=[], metadata={'name': 'function1', 'child_count': 5, 'line_count': 2, 'hierarchy_level': 1, 'hierarchy_depth': 1}, node_id='5097a45ee80b12f5ee167c10510020909feaa5d5', file_id='c01476dc52ec07aad08831f20e0c17f3c97b7037', symbol_id=None, parent_route=[]), CodeChunk(language='python', file_path='test.py', node_type='function_definition', start_line=5, end_line=6, byte_start=32, byte_end=61, parent_context='root', content='def function2():\n    return 2', chunk_id='119932e62cb62fc1', parent_chunk_id=None, references=[], dependencies=[], metadata={'name': 'function2', 'child_count': 5, 'line_count': 2, 'hierarchy_level': 1, 'hierarchy_depth': 1}, node_id='18d5e1b3fcbdeda528ed528759a6a055408b5333', file_id='c01476dc52ec07aad08831f20e0c17f3c97b7037', symbol_id=None, parent_route=[])])
E    +  and   2 = len([CodeChunk(language='python', file_path='test.py', node_type='function_definition', start_line=2, end_line=3, byte_start=1, byte_end=30, parent_context='root', content='def function1():\n    return 1', chunk_id='dbf902bf46662bb3', parent_chunk_id=None, references=[], dependencies=[], metadata={'name': 'function1', 'child_count': 5, 'line_count': 2, 'hierarchy_level': 1, 'hierarchy_depth': 1}, node_id='5097a45ee80b12f5ee167c10510020909feaa5d5', file_id='c01476dc52ec07aad08831f20e0c17f3c97b7037', symbol_id=None, parent_route=[]), CodeChunk(language='python', file_path='test.py', node_type='function_definition', start_line=5, end_line=6, byte_start=32, byte_end=61, parent_context='root', content='def function2():\n    return 2', chunk_id='119932e62cb62fc1', parent_chunk_id=None, references=[], dependencies=[], metadata={'name': 'function2', 'child_count': 5, 'line_count': 2, 'hierarchy_level': 1, 'hierarchy_depth': 1}, node_id='18d5e1b3fcbdeda528ed528759a6a055408b5333', file_id='c01476dc52ec07aad08831f20e0c17f3c97b7037', symbol_id=None, parent_route=[])])
_____________ TestIncrementalIntegration.test_incremental_workflow _____________
/usr/lib/python3.12/unittest/mock.py:1387: in patched
    with self.decoration_helper(patched,
/usr/lib/python3.12/contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1369: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/contextlib.py:526: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1458: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1431: in get_original
    raise AttributeError(
E   AttributeError: <module 'chunker.chunker' from '/home/jenner/code/treesitter-chunker/chunker/chunker.py'> does not have the attribute 'get_parser'
_____________ TestAllLanguages.test_language_metadata_consistency ______________
tests/test_integration.py:180: in test_language_metadata_consistency
    assert "language_version" in info.capabilities
E   AssertionError: assert 'language_version' in {'external_scanner': True, 'compatible': True}
E    +  where {'external_scanner': True, 'compatible': True} = LanguageMetadata(name='haskell', version='unknown', node_types_count=0, has_scanner=True, symbol_name='tree_sitter_haskell', capabilities={'external_scanner': True, 'compatible': True}).capabilities
_________________ TestJuliaBasicChunking.test_simple_function __________________
tests/test_julia_language.py:33: in test_simple_function
    assert len(func_chunks) == 3
E   AssertionError: assert 2 == 3
E    +  where 2 = len([CodeChunk(language='julia', file_path='/tmp/pytest-of-jenner/pytest-55/test_simple_function0/simple.jl', node_type='function_definition', start_line=2, end_line=4, byte_start=18, byte_end=57, parent_context='', content='function add(a, b)\n    return a + b\nend', chunk_id='4e59f4907b7ceff40dff682abdf4177be4b86c96', parent_chunk_id=None, references=[], dependencies=[], metadata={}, node_id='4e59f4907b7ceff40dff682abdf4177be4b86c96', file_id='0cccfead1ef8dc4d65ebdc99bd8b0244c3f20e32', symbol_id=None, parent_route=['function_definition']), CodeChunk(language='julia', file_path='/tmp/pytest-of-jenner/pytest-55/test_simple_function0/simple.jl', node_type='function_definition', start_line=10, end_line=12, byte_start=137, byte_end=212, parent_context='', content='function typed_divide(x::Float64, y::Float64)::Float64\n    return x / y\nend', chunk_id='d3a7c153b91dddc3d6f46d43548fb5732f6a592a', parent_chunk_id=None, references=[], dependencies=[], metadata={}, node_id='d3a7c153b91dddc3d6f46d43548fb5732f6a592a', file_id='0cccfead1ef8dc4d65ebdc99bd8b0244c3f20e32', symbol_id=None, parent_route=['function_definition'])])
________________ TestJuliaBasicChunking.test_struct_definitions ________________
tests/test_julia_language.py:83: in test_struct_definitions
    assert any(
E   assert False
E    +  where False = any(<generator object TestJuliaBasicChunking.test_struct_definitions.<locals>.<genexpr> at 0x73e4d638e9b0>)
___________ TestJuliaBasicChunking.test_abstract_and_primitive_types ___________
tests/test_julia_language.py:192: in test_abstract_and_primitive_types
    assert len(abstract_chunks) >= 4
E   assert 0 >= 4
E    +  where 0 = len([])
______________ TestJuliaEdgeCases.test_julia_with_metaprogramming ______________
tests/test_julia_language.py:370: in test_julia_with_metaprogramming
    assert any("@generated" in c.content for c in chunks)
E   assert False
E    +  where False = any(<generator object TestJuliaEdgeCases.test_julia_with_metaprogramming.<locals>.<genexpr> at 0x73e4d638f850>)
________________ TestKotlinLanguage.test_kotlin_basic_chunking _________________
tests/test_kotlin_language.py:52: in test_kotlin_basic_chunking
    assert len(chunks) >= 4
E   assert 0 >= 4
E    +  where 0 = len([])
_______________ TestKotlinLanguage.test_kotlin_interfaces_sealed _______________
tests/test_kotlin_language.py:88: in test_kotlin_interfaces_sealed
    assert len(chunks) >= 3
E   assert 0 >= 3
E    +  where 0 = len([])
______________ TestKotlinLanguage.test_kotlin_extension_functions ______________
tests/test_kotlin_language.py:124: in test_kotlin_extension_functions
    assert len(chunks) >= 5
E   assert 0 >= 5
E    +  where 0 = len([])
__________________ TestKotlinLanguage.test_kotlin_coroutines ___________________
tests/test_kotlin_language.py:165: in test_kotlin_coroutines
    assert len(chunks) >= 1
E   assert 0 >= 1
E    +  where 0 = len([])
_________________ TestKotlinLanguage.test_kotlin_dsl_builders __________________
tests/test_kotlin_language.py:208: in test_kotlin_dsl_builders
    assert len(chunks) >= 4
E   assert 0 >= 4
E    +  where 0 = len([])
_______________ TestKotlinLanguage.test_kotlin_companion_object ________________
tests/test_kotlin_language.py:249: in test_kotlin_companion_object
    assert len(chunks) >= 2
E   assert 0 >= 2
E    +  where 0 = len([])
_____________ TestKotlinLanguage.test_kotlin_file_extensions[.kt] ______________
tests/test_kotlin_language.py:256: in test_kotlin_file_extensions
    assert config is not None
E   assert None is not None
_____________ TestKotlinLanguage.test_kotlin_file_extensions[.kts] _____________
tests/test_kotlin_language.py:256: in test_kotlin_file_extensions
    assert config is not None
E   assert None is not None
_____________ TestKotlinLanguage.test_kotlin_file_extensions[.ktm] _____________
tests/test_kotlin_language.py:256: in test_kotlin_file_extensions
    assert config is not None
E   assert None is not None
________________ TestLanguageConfigRegistry.test_clear_registry ________________
tests/test_language_config.py:380: in test_clear_registry
    assert registry.get("python") is None
E   AssertionError: assert PythonConfig(language_id='python', chunk_types=3, ignore_types=2, rules=1) is None
E    +  where PythonConfig(language_id='python', chunk_types=3, ignore_types=2, rules=1) = get('python')
E    +    where get = <chunker.languages.base.LanguageConfigRegistry object at 0x73e4d5bcb8c0>.get
____________ TestLanguageIntegration.test_python_config_registered _____________
tests/test_language_integration.py:25: in test_python_config_registered
    assert language_config_registry.get("py") == config
E   AssertionError: assert None == PythonConfig(language_id='python', chunk_types=3, ignore_types=2, rules=1)
E    +  where None = get('py')
E    +    where get = <chunker.languages.base.LanguageConfigRegistry object at 0x73e52f593b00>.get
_____________ TestChunkerIntegration.test_config_none_vs_defaults ______________
tests/test_language_integration.py:296: in test_config_none_vs_defaults
    assert "lambda" not in chunk_types_no_config
E   AssertionError: assert 'lambda' not in {'lambda', 'function_definition', 'class_definition'}
_________________ TestLogProcessor.test_invalid_configuration __________________
tests/test_log_processor.py:307: in test_invalid_configuration
    with pytest.raises(ValueError, match="Invalid chunk_by"):
E   Failed: DID NOT RAISE <class 'ValueError'>
__________ TestLogProcessorIntegration.test_session_tracking_scenario __________
tests/test_log_processor_integration.py:90: in test_session_tracking_scenario
    assert "bob" not in lines
E   AssertionError: assert 'bob' not in '2024-01-01 08:00:03 [info] user alice accessed /dashboard\n2024-01-01 08:00:04 [info] user alice accessed /profile\n2024-01-01 08:00:05 [info] user alice initiated logout\n2024-01-01 08:00:06 [info] session ended for user alice\n2024-01-01 08:01:00 [info] user bob attempting login\n2024-01-01 08:01:01 [error] authentication failed for bob: invalid password\n2024-01-01 08:01:02 [info] user bob attempting login (retry)\n2024-01-01 08:01:03 [info] authentication successful for bob\n2024-01-01 08:01:04 [info] session started for user bob (session_id: def456)\n2024-01-01 08:01:05 [info] user bob accessed /dashboard'
E     
E     'bob' is contained here:
E       2024-01-01 08:00:03 [info] user alice accessed /dashboard
E       2024-01-01 08:00:04 [info] user alice accessed /profile
E       2024-01-01 08:00:05 [info] user alice initiated logout
E       2024-01-01 08:00:06 [info] session ended for user alice
E       2024-01-01 08:01:00 [info] user bob attempting login
E     ?                                 +++
E       2024-01-01 08:01:01 [error] authentication failed for bob: invalid password
E       2024-01-01 08:01:02 [info] user bob attempting login (retry)
E       2024-01-01 08:01:03 [info] authentication successful for bob
E       2024-01-01 08:01:04 [info] session started for user bob (session_id: def456)
E       2024-01-01 08:01:05 [info] user bob accessed /dashboard
___________ TestLogProcessorIntegration.test_error_analysis_workflow ___________
tests/test_log_processor_integration.py:122: in test_error_analysis_workflow
    assert len(error_periods) >= 2
E   AssertionError: assert 1 >= 2
E    +  where 1 = len([TextChunk(content='2024-01-01 08:00:00 [INFO] System healthy\n2024-01-01 08:00:30 [INFO] Processing batch 1\n2024-01-01 08:01:00 [ERROR] Failed to process item 42\n2024-01-01 08:01:01 [ERROR] Database timeout\n2024-01-01 08:01:02 [ERROR] Retry failed\n2024-01-01 08:01:30 [INFO] Switching to backup database\n2024-01-01 08:02:00 [INFO] Processing resumed\n2024-01-01 08:02:30 [INFO] Batch 2 completed\n2024-01-01 08:03:00 [CRITICAL] Out of memory error\n2024-01-01 08:03:01 [INFO] Emergency garbage collection\n2024-01-01 08:03:30 [INFO] Memory recovered', start_line=1, end_line=11, start_byte=0, end_byte=515, metadata={'entry_count': 11, 'formats': ['iso_timestamp'], 'levels': ['INFO', 'ERROR', 'CRITICAL'], 'has_errors': True, 'error_count': 4}, chunk_type='log')])
__________________ TestMarkdownProcessor.test_validate_chunk ___________________
tests/test_markdown_processor.py:362: in test_validate_chunk
    assert not processor.validate_chunk(short_chunk)
E   AssertionError: assert not True
E    +  where True = validate_chunk(CodeChunk(language='markdown', file_path='test.md', node_type='paragraph', start_line=1, end_line=1, byte_start=0, byte_end=2, parent_context='', content='Hi', chunk_id='94dd9e08c129c785', parent_chunk_id=None, references=[], dependencies=[], metadata={'tokens': 1}, node_id='ff0a24a2df54df7607b54a4610cca275c4fea98f', file_id='3a18941dbd7f493a53d8de17630361e3be6a9fa4', symbol_id=None, parent_route=[]))
E    +    where validate_chunk = <chunker.processors.markdown.MarkdownProcessor object at 0x73e4d5bb8560>.validate_chunk
__________________ TestMATLABBasicChunking.test_matlab_script __________________
tests/test_matlab_language.py:72: in test_matlab_script
    assert len(chunks) >= 1
E   assert 0 >= 1
E    +  where 0 = len([])
_________________ TestMATLABBasicChunking.test_matlab_classdef _________________
tests/test_matlab_language.py:116: in test_matlab_classdef
    assert any("properties" in t for t in chunk_types)
E   assert False
E    +  where False = any(<generator object TestMATLABBasicChunking.test_matlab_classdef.<locals>.<genexpr> at 0x73e4d5be8ba0>)
______________ TestMATLABEdgeCases.test_matlab_with_only_comments ______________
tests/test_matlab_language.py:264: in test_matlab_with_only_comments
    assert len(comment_chunks) >= 1
E   assert 0 >= 1
E    +  where 0 = len([])
___________ TestMATLABEdgeCases.test_matlab_with_anonymous_functions ___________
tests/test_matlab_language.py:281: in test_matlab_with_anonymous_functions
    assert len(chunks) >= 1
E   assert 0 >= 1
E    +  where 0 = len([])
___________ TestMATLABEdgeCases.test_matlab_with_events_enumeration ____________
tests/test_matlab_language.py:315: in test_matlab_with_events_enumeration
    assert any("events" in t for t in chunk_types)
E   assert False
E    +  where False = any(<generator object TestMATLABEdgeCases.test_matlab_with_events_enumeration.<locals>.<genexpr> at 0x73e4d5c0d2f0>)
________ TestIntegrationWithChunker.test_chunk_with_metadata_javascript ________
tests/test_metadata_extraction.py:545: in test_chunk_with_metadata_javascript
    greet_chunk = next(c for c in chunks if c.node_type == "function_declaration")
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   StopIteration
_______________ TestMultiLanguageProcessor.test_group_by_feature _______________
tests/test_multi_language.py:743: in test_group_by_feature
    assert len(groups["users"]) == 2  # UserService and UserController
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AssertionError: assert 1 == 2
E    +  where 1 = len([CodeChunk(language='python', file_path='features/users/backend/user_service.py', node_type='class_definition', start_line=1, end_line=40, byte_start=0, byte_end=800, parent_context='', content='class UserService:\n    def get_user(self): pass', chunk_id='709833e2d09e46c6', parent_chunk_id=None, references=[], dependencies=[], metadata={}, node_id='361703266cb165f42b4493347c05ebebafd63571', file_id='87ee3b9aeea3903ca28fee817158dd2d78590413', symbol_id=None, parent_route=[])])
______________________ TestNASMPlugin.test_label_chunking ______________________
tests/test_nasm_language.py:67: in test_label_chunking
    assert len(global_labels) >= 1
E   assert 0 >= 1
E    +  where 0 = len([])
_____________________ TestNASMPlugin.test_section_chunking _____________________
tests/test_nasm_language.py:89: in test_section_chunking
    assert len(section_chunks) >= 3
E   assert 0 >= 3
E    +  where 0 = len([])
______________________ TestNASMPlugin.test_macro_chunking ______________________
tests/test_nasm_language.py:116: in test_macro_chunking
    assert len(macro_chunks) >= 2
E   assert 0 >= 2
E    +  where 0 = len([])
______________________ TestNASMPlugin.test_struc_chunking ______________________
tests/test_nasm_language.py:140: in test_struc_chunking
    assert len(struct_chunks) >= 2
E   assert 0 >= 2
E    +  where 0 = len([])
_________________ TestNASMPlugin.test_global_extern_directives _________________
tests/test_nasm_language.py:154: in test_global_extern_directives
    assert len(global_chunks) >= 2
E   assert 0 >= 2
E    +  where 0 = len([])
__________________ TestNASMPlugin.test_complex_assembly_file ___________________
tests/test_nasm_language.py:281: in test_complex_assembly_file
    assert len(section_chunks) >= 3
E   assert 0 >= 3
E    +  where 0 = len([])
_________________ TestOCamlBasicChunking.test_simple_functions _________________
tests/test_ocaml_language.py:34: in test_simple_functions
    chunks = chunk_file(src, "ocaml")
             ^^^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'ocaml' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=ocaml, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
_________________ TestOCamlBasicChunking.test_type_definitions _________________
tests/test_ocaml_language.py:82: in test_type_definitions
    chunks = chunk_file(src, "ocaml")
             ^^^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'ocaml' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=ocaml, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
________________ TestOCamlBasicChunking.test_module_definitions ________________
tests/test_ocaml_language.py:140: in test_module_definitions
    chunks = chunk_file(src, "ocaml")
             ^^^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'ocaml' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=ocaml, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
______________ TestOCamlBasicChunking.test_exception_definitions _______________
tests/test_ocaml_language.py:179: in test_exception_definitions
    chunks = chunk_file(src, "ocaml")
             ^^^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'ocaml' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=ocaml, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
________________ TestOCamlBasicChunking.test_class_definitions _________________
tests/test_ocaml_language.py:226: in test_class_definitions
    chunks = chunk_file(src, "ocaml")
             ^^^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'ocaml' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=ocaml, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
_____________ TestOCamlContractCompliance.test_get_semantic_chunks _____________
tests/test_ocaml_language.py:252: in test_get_semantic_chunks
    parser = get_parser("ocaml")
             ^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'ocaml' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=ocaml, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
___________________ TestOCamlEdgeCases.test_empty_ocaml_file ___________________
tests/test_ocaml_language.py:322: in test_empty_ocaml_file
    chunks = chunk_file(src, "ocaml")
             ^^^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'ocaml' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=ocaml, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
_______________ TestOCamlEdgeCases.test_ocaml_with_only_comments _______________
tests/test_ocaml_language.py:337: in test_ocaml_with_only_comments
    chunks = chunk_file(src, "ocaml")
             ^^^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'ocaml' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=ocaml, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
_________________ TestOCamlEdgeCases.test_ocaml_with_operators _________________
tests/test_ocaml_language.py:377: in test_ocaml_with_operators
    chunks = chunk_file(src, "ocaml")
             ^^^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'ocaml' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=ocaml, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
___________________ TestOCamlEdgeCases.test_ocaml_with_gadt ____________________
tests/test_ocaml_language.py:409: in test_ocaml_with_gadt
    chunks = chunk_file(src, "ocaml")
             ^^^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'ocaml' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=ocaml, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
_________________ TestOCamlEdgeCases.test_ocaml_interface_file _________________
tests/test_ocaml_language.py:446: in test_ocaml_interface_file
    chunks = chunk_file(src, "ocaml")
             ^^^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'ocaml' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=ocaml, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
_____________ TestChunkOptimizer.test_coherence_score_calculation ______________
tests/test_optimization.py:367: in test_coherence_score_calculation
    assert 0 < metrics.coherence_score < 1
E   assert 1.0 < 1
E    +  where 1.0 = OptimizationMetrics(original_count=2, optimized_count=2, avg_tokens_before=13.5, avg_tokens_after=13.5, coherence_score=1.0, token_efficiency=0.135).coherence_score
__________ TestOverlappingFallbackChunker.test_fixed_overlap_by_lines __________
tests/test_overlapping_fallback_isolated.py:92: in test_fixed_overlap_by_lines
    assert lines == 5
E   assert 6 == 5
_____________ TestFailureHandling.test_permission_denied_handling ______________
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/lib/python3.12/concurrent/futures/process.py", line 263, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jenner/code/treesitter-chunker/chunker/parallel.py", line 44, in _process_single_file
    chunks = chunk_file(file_path, self.language)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jenner/code/treesitter-chunker/chunker/core.py", line 505, in chunk_file
    src = Path(path).read_text(encoding="utf-8")
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/pathlib.py", line 1029, in read_text
    with self.open(mode='r', encoding=encoding, errors=errors) as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/pathlib.py", line 1015, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
PermissionError: [Errno 13] Permission denied: '/tmp/tmpfaj31ujq/restricted.py'
"""

The above exception was the direct cause of the following exception:
tests/test_parallel.py:201: in test_permission_denied_handling
    results = chunker.chunk_files_parallel([restricted_file])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/parallel.py:70: in chunk_files_parallel
    file_path, chunks = future.result()
                        ^^^^^^^^^^^^^^^
/usr/lib/python3.12/concurrent/futures/_base.py:449: in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
E   PermissionError: [Errno 13] Permission denied: '/tmp/tmpfaj31ujq/restricted.py'
________________ TestFailureHandling.test_worker_crash_handling ________________
concurrent.futures.process._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/lib/python3.12/multiprocessing/queues.py", line 264, in _feed
    obj = _ForkingPickler.dumps(obj)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/multiprocessing/reduction.py", line 51, in dumps
    cls(buf, protocol).dump(obj)
_pickle.PicklingError: Can't pickle <class 'unittest.mock.MagicMock'>: it's not the same object as unittest.mock.MagicMock
"""

The above exception was the direct cause of the following exception:
tests/test_parallel.py:222: in test_worker_crash_handling
    results = chunker.chunk_files_parallel([temp_file])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/parallel.py:70: in chunk_files_parallel
    file_path, chunks = future.result()
                        ^^^^^^^^^^^^^^^
/usr/lib/python3.12/concurrent/futures/_base.py:449: in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
/usr/lib/python3.12/multiprocessing/queues.py:264: in _feed
    obj = _ForkingPickler.dumps(obj)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/multiprocessing/reduction.py:51: in dumps
    cls(buf, protocol).dump(obj)
E   _pickle.PicklingError: Can't pickle <class 'unittest.mock.MagicMock'>: it's not the same object as unittest.mock.MagicMock
______ TestParserPoolManagement.test_parser_pool_size_limits_for_plugins _______
tests/test_parser_plugin_integration.py:118: in test_parser_pool_size_limits_for_plugins
    self.parser_factory._pools[dynamic_lang].put_nowait(parser)
/usr/lib/python3.12/queue.py:191: in put_nowait
    return self.put(item, block=False)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/queue.py:137: in put
    raise Full
E   queue.Full
________________ TestIntegrationPatterns.test_fallback_pattern _________________
tests/test_parser_plugin_integration.py:427: in test_fallback_pattern
    parser.parse(b"test code")
tests/test_parser_plugin_integration.py:420: in parse
    return MockDynamicParser.parse(self, code, keep_text)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: MockDynamicParser.parse() takes from 2 to 3 positional arguments but 4 were given
_____ TestPhase10InterfaceCompatibility.test_incremental_with_optimization _____
tests/test_phase10_interface_compatibility.py:375: in test_incremental_with_optimization
    optimized = optimizer.merge_small_chunks(updated, min_tokens=50)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: TestPhase10InterfaceCompatibility.test_incremental_with_optimization.<locals>.MockOptimizer.merge_small_chunks() got an unexpected keyword argument 'min_tokens'
_______ TestPhase11ComprehensiveIntegration.test_config_file_processing ________
tests/test_phase11_comprehensive_integration.py:168: in test_config_file_processing
    chunks = fallback.chunk_text(toml_content, str(toml_file))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/fallback/intelligent_fallback.py:321: in chunk_text
    chunks = self.sliding_window.chunk_text(content, file_path, language)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/fallback/sliding_window_fallback.py:540: in chunk_text
    chunks = processor.process(content, file_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/fallback/sliding_window_fallback.py:447: in process
    chunks = self.processor.process(content, file_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/processors/base.py:188: in process
    raise NotImplementedError(
E   NotImplementedError: ConfigProcessor must implement either the structured approach (detect_format, parse_structure, chunk_content) or override the process method
------------------------------ Captured log call -------------------------------
WARNING  chunker.fallback.sliding_window_fallback:sliding_window_fallback.py:115 Overwriting existing processor: markdown_processor
WARNING  chunker.fallback.sliding_window_fallback:sliding_window_fallback.py:115 Overwriting existing processor: log_processor
______ TestPhase11ComprehensiveIntegration.test_mixed_content_repository _______
tests/test_phase11_comprehensive_integration.py:241: in test_mixed_content_repository
    chunks = fallback.chunk_text(file_path.read_text(), str(file_path))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/fallback/intelligent_fallback.py:321: in chunk_text
    chunks = self.sliding_window.chunk_text(content, file_path, language)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/fallback/sliding_window_fallback.py:540: in chunk_text
    chunks = processor.process(content, file_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/fallback/sliding_window_fallback.py:447: in process
    chunks = self.processor.process(content, file_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/processors/base.py:188: in process
    raise NotImplementedError(
E   NotImplementedError: ConfigProcessor must implement either the structured approach (detect_format, parse_structure, chunk_content) or override the process method
------------------------------ Captured log call -------------------------------
WARNING  chunker.fallback.sliding_window_fallback:sliding_window_fallback.py:115 Overwriting existing processor: markdown_processor
WARNING  chunker.fallback.sliding_window_fallback:sliding_window_fallback.py:115 Overwriting existing processor: log_processor
WARNING  chunker.fallback.base:base.py:133 
WARNING: Using fallback chunking for /tmp/tmpmm0ykjsi/docs/metrics.md
Reason: unknown

Tree-sitter provides deterministic, AST-based chunking that preserves code structure.
Fallback methods may split code at inappropriate boundaries.

To improve chunking for this file type:
1. Check if a Tree-sitter grammar exists: https://github.com/tree-sitter-grammars/tree-sitter-markdown
2. Request grammar support: https://github.com/tree-sitter
3. Use the 'more-grammars' feature to add support

Current fallback method: regex_based
____ TestPhase11ComprehensiveIntegration.test_performance_with_large_files _____
tests/test_phase11_comprehensive_integration.py:364: in test_performance_with_large_files
    with large_py.open("w", "r") as f:
         ^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/pathlib.py:1015: in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: 'str' object cannot be interpreted as an integer
------------------------------ Captured log call -------------------------------
WARNING  chunker.fallback.sliding_window_fallback:sliding_window_fallback.py:115 Overwriting existing processor: markdown_processor
WARNING  chunker.fallback.sliding_window_fallback:sliding_window_fallback.py:115 Overwriting existing processor: log_processor
____ TestDistributionIntegrationReal.test_pypi_publishing_validates_package ____
tests/test_phase13_distribution_real.py:58: in test_pypi_publishing_validates_package
    assert success
E   assert False
____ TestDistributionIntegrationReal.test_docker_image_works_cross_platform ____
tests/test_phase13_distribution_real.py:81: in test_docker_image_works_cross_platform
    verify_success, _details = distributor.verify_installation(
chunker/distribution/distributor.py:109: in verify_installation
    return self.verifier.verify_installation(method, platform)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/distribution/verifier.py:46: in verify_installation
    return self._verify_docker_installation(platform, details)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/distribution/verifier.py:230: in _verify_docker_installation
    test_result = subprocess.run(
/usr/lib/python3.12/unittest/mock.py:1134: in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1138: in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1195: in _execute_mock_call
    result = next(effect)
             ^^^^^^^^^^^^
E   StopIteration
____ TestDistributionIntegration.test_release_process_updates_all_locations ____
tests/test_phase13_integration.py:272: in test_release_process_updates_all_locations
    assert any("CHANGELOG.md" in str(f) for f in info["updated_files"])
E   assert False
E    +  where False = any(<generator object TestDistributionIntegration.test_release_process_updates_all_locations.<locals>.<genexpr> at 0x73e4ddb64900>)
_________ TestPhase13RealIntegration.test_cross_component_integration __________
tests/test_phase13_real_integration.py:90: in test_cross_component_integration
    platform_info = build.detect_platform()
                    ^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'BuildSystem' object has no attribute 'detect_platform'
___________________ TestPHPLanguage.test_php_basic_chunking ____________________
tests/test_php_language.py:52: in test_php_basic_chunking
    chunks = chunk_text(code, language="php")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/__init__.py:91: in chunk_text
    chunks = chunk_file(temp_path, language, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'php' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=php, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
_________________ TestPHPLanguage.test_php_interface_abstract __________________
tests/test_php_language.py:85: in test_php_interface_abstract
    chunks = chunk_text(code, language="php")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/__init__.py:91: in chunk_text
    chunks = chunk_file(temp_path, language, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'php' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=php, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
_________________ TestPHPLanguage.test_php_anonymous_functions _________________
tests/test_php_language.py:120: in test_php_anonymous_functions
    chunks = chunk_text(code, language="php")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/__init__.py:91: in chunk_text
    chunks = chunk_file(temp_path, language, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'php' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=php, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
____________________ TestPHPLanguage.test_php_modern_syntax ____________________
tests/test_php_language.py:169: in test_php_modern_syntax
    chunks = chunk_text(code, language="php")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/__init__.py:91: in chunk_text
    chunks = chunk_file(temp_path, language, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'php' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=php, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
____________________ TestPHPLanguage.test_php_mixed_content ____________________
tests/test_php_language.py:207: in test_php_mixed_content
    chunks = chunk_text(code, language="php")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/__init__.py:91: in chunk_text
    chunks = chunk_file(temp_path, language, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'php' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=php, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
____________________ TestPHPLanguage.test_php_namespace_use ____________________
tests/test_php_language.py:246: in test_php_namespace_use
    chunks = chunk_text(code, language="php")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/__init__.py:91: in chunk_text
    chunks = chunk_file(temp_path, language, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'php' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=php, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
________________ TestPHPLanguage.test_php_file_extensions[.php] ________________
tests/test_php_language.py:257: in test_php_file_extensions
    assert config is not None
E   assert None is not None
_______________ TestPHPLanguage.test_php_file_extensions[.php3] ________________
tests/test_php_language.py:257: in test_php_file_extensions
    assert config is not None
E   assert None is not None
_______________ TestPHPLanguage.test_php_file_extensions[.php4] ________________
tests/test_php_language.py:257: in test_php_file_extensions
    assert config is not None
E   assert None is not None
_______________ TestPHPLanguage.test_php_file_extensions[.php5] ________________
tests/test_php_language.py:257: in test_php_file_extensions
    assert config is not None
E   assert None is not None
_______________ TestPHPLanguage.test_php_file_extensions[.phtml] _______________
tests/test_php_language.py:257: in test_php_file_extensions
    assert config is not None
E   assert None is not None
______ TestPluginInitializationFailures.test_plugin_constructor_exception ______
tests/test_plugin_initialization_failures.py:48: in test_plugin_constructor_exception
    with pytest.raises(RuntimeError) as exc_info:
E   Failed: DID NOT RAISE <class 'RuntimeError'>
------------------------------ Captured log call -------------------------------
ERROR    chunker.plugin_manager:plugin_manager.py:39 Non-fatal instantiation issue for FailingConstructorPlugin: Can't instantiate abstract class FailingConstructorPlugin without an implementation for abstract method 'get_node_name'. Proceeding with class attributes.
___ TestPluginInitializationFailures.test_plugin_missing_required_properties ___
tests/test_plugin_initialization_failures.py:73: in test_plugin_missing_required_properties
    with pytest.raises((TypeError, RuntimeError)) as exc_info:
E   Failed: DID NOT RAISE any of (<class 'TypeError'>, <class 'RuntimeError'>)
------------------------------ Captured log call -------------------------------
ERROR    chunker.plugin_manager:plugin_manager.py:39 Non-fatal instantiation issue for IncompletePlugin: Can't instantiate abstract class IncompletePlugin without an implementation for abstract method 'language_name'. Proceeding with class attributes.
__ TestPluginInitializationFailures.test_plugin_parser_initialization_failure __
tests/test_plugin_initialization_failures.py:106: in set_parser
    raise RuntimeError("Parser initialization failed!")
E   RuntimeError: Parser initialization failed!

The above exception was the direct cause of the following exception:
tests/test_plugin_initialization_failures.py:117: in test_plugin_parser_initialization_failure
    manager.get_plugin("parser_fail")
chunker/plugin_manager.py:346: in get_plugin
    return self.registry.get_plugin(language, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/plugin_manager.py:196: in get_plugin
    raise KeyError(f"Language {language} not found") from e
E   KeyError: 'Language parser_fail not found'
------------------------------ Captured log call -------------------------------
ERROR    chunker.plugin_manager:plugin_manager.py:195 Failed to set parser for parser_fail: Parser initialization failed!
___ TestPluginInitializationFailures.test_plugin_with_invalid_language_name ____
tests/test_plugin_initialization_failures.py:142: in test_plugin_with_invalid_language_name
    with pytest.raises((TypeError, RuntimeError)):
E   Failed: DID NOT RAISE any of (<class 'TypeError'>, <class 'RuntimeError'>)
------------------------------ Captured log call -------------------------------
ERROR    chunker.plugin_manager:plugin_manager.py:39 Non-fatal instantiation issue for InvalidNamePlugin: Can't instantiate abstract class InvalidNamePlugin without an implementation for abstract method 'get_node_name'. Proceeding with class attributes.
_ TestPluginInitializationFailures.test_plugin_configuration_validation_failure _
tests/test_plugin_initialization_failures.py:192: in __init__
    raise ValueError("Invalid configuration provided")
E   ValueError: Invalid configuration provided

The above exception was the direct cause of the following exception:
tests/test_plugin_initialization_failures.py:223: in test_plugin_configuration_validation_failure
    manager.get_plugin("validated", invalid_config)
chunker/plugin_manager.py:346: in get_plugin
    return self.registry.get_plugin(language, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/plugin_manager.py:190: in get_plugin
    raise KeyError(f"Language {language} not found") from e
E   KeyError: 'Language validated not found'
------------------------------ Captured log call -------------------------------
ERROR    chunker.plugin_manager:plugin_manager.py:188 Plugin instantiation failed for validated: Invalid configuration provided
____________ TestNaturalLanguageQueryEngine.test_structured_search _____________
tests/test_query_advanced.py:163: in test_structured_search
    assert len(results) == 3
E   assert 0 == 3
E    +  where 0 = len([])
___________________ TestAdvancedQueryIndex.test_tokenization ___________________
tests/test_query_advanced.py:361: in test_tokenization
    assert "calculatesum" in tokens
E   AssertionError: assert 'calculatesum' in set()
____________________ TestAdvancedQueryIndex.test_statistics ____________________
tests/test_query_advanced.py:391: in test_statistics
    assert stats["unique_terms"] > 0
E   assert 0 > 0
________________ TestSmartQueryOptimizer.test_query_suggestions ________________
tests/test_query_advanced.py:500: in test_query_suggestions
    assert len(suggestions) > 0
E   assert 0 > 0
E    +  where 0 = len([])
____________ TestSmartQueryOptimizer.test_empty_query_optimization _____________
tests/test_query_advanced.py:509: in test_empty_query_optimization
    assert not optimized @ staticmethod
               ^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: unsupported operand type(s) for @: 'str' and 'type'
____________ TestSmartQueryOptimizer.test_preserve_query_structure _____________
tests/test_query_advanced.py:514: in test_preserve_query_structure
    optimized = self.optimize_query(query, QueryType.NATURAL_LANGUAGE)
                ^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'TestSmartQueryOptimizer' object has no attribute 'optimize_query'
___________________ TestRBasicChunking.test_simple_function ____________________
tests/test_r_language.py:30: in test_simple_function
    assert len(func_chunks) == 2
E   AssertionError: assert 3 == 2
E    +  where 3 = len([CodeChunk(language='r', file_path='/tmp/pytest-of-jenner/pytest-55/test_simple_function1/simple.R', node_type='comment', start_line=1, end_line=1, byte_start=0, byte_end=17, parent_context='', content='# Simple function', chunk_id='3c3d9dab0b1430473096f39f5289879c171ada22', parent_chunk_id=None, references=[], dependencies=[], metadata={}, node_id='3c3d9dab0b1430473096f39f5289879c171ada22', file_id='9fa4a71be19c13e7e4848d793b4b83be44a90209', symbol_id=None, parent_route=['comment']), CodeChunk(language='r', file_path='/tmp/pytest-of-jenner/pytest-55/test_simple_function1/simple.R', node_type='function_definition', start_line=2, end_line=4, byte_start=33, byte_end=69, parent_context='', content='function(a, b) {\n    return(a + b)\n}', chunk_id='feb13911ea4801581a929791e9b99d7e74ec383b', parent_chunk_id=None, references=[], dependencies=[], metadata={}, node_id='feb13911ea4801581a929791e9b99d7e74ec383b', file_id='9fa4a71be19c13e7e4848d793b4b83be44a90209', symbol_id=None, parent_route=['function_definition']), CodeChunk(language='r', file_path='/tmp/pytest-of-jenner/pytest-55/test_simple_function1/simple.R', node_type='function_definition', start_line=7, end_line=9, byte_start=115, byte_end=143, parent_context='', content='function(x, y) {\n    x * y\n}', chunk_id='e4ccf24a42fe638e5b8a75250ac87047f29eee03', parent_chunk_id=None, references=[], dependencies=[], metadata={}, node_id='e4ccf24a42fe638e5b8a75250ac87047f29eee03', file_id='9fa4a71be19c13e7e4848d793b4b83be44a90209', symbol_id=None, parent_route=['function_definition'])])
___________________ TestRBasicChunking.test_nested_functions ___________________
tests/test_r_language.py:97: in test_nested_functions
    assert any("outer_function" in c.content for c in func_chunks)
E   assert False
E    +  where False = any(<generator object TestRBasicChunking.test_nested_functions.<locals>.<genexpr> at 0x73e4d5a676b0>)
______________________ TestRBasicChunking.test_s3_methods ______________________
tests/test_r_language.py:130: in test_s3_methods
    assert any("print.myclass" in c.content for c in func_chunks)
E   assert False
E    +  where False = any(<generator object TestRBasicChunking.test_s3_methods.<locals>.<genexpr> at 0x73e4d5a65be0>)
________________ TestREdgeCases.test_r_with_complex_assignments ________________
tests/test_r_language.py:304: in test_r_with_complex_assignments
    assert len(func_chunks) == 1
E   assert 0 == 1
E    +  where 0 = len([])
____________________ TestREdgeCases.test_r_markdown_chunks _____________________
tests/test_r_language.py:345: in test_r_markdown_chunks
    assert len(func_chunks) >= 2
E   assert 0 >= 2
E    +  where 0 = len([])
____________________ TestREdgeCases.test_r_with_s4_classes _____________________
tests/test_r_language.py:382: in test_r_with_s4_classes
    assert any("setClass" in c.content and "Person" in c.content for c in chunks)
E   assert False
E    +  where False = any(<generator object TestREdgeCases.test_r_with_s4_classes.<locals>.<genexpr> at 0x73e4d83b5f20>)
_________ TestASTRelationshipTracker.test_infer_javascript_inheritance _________
tests/test_relationship_tracker.py:204: in test_infer_javascript_inheritance
    assert len(inheritance_rels) >= 1
E   assert 0 >= 1
E    +  where 0 = len([])
____________ TestASTRelationshipTracker.test_infer_javascript_calls ____________
tests/test_relationship_tracker.py:217: in test_infer_javascript_calls
    assert len(call_rels) >= 1
E   assert 0 >= 1
E    +  where 0 = len([])
___________________________ test_chunk_id_generation ___________________________
tests/test_relationships.py:25: in test_chunk_id_generation
    assert len(chunk_id) == 16  # SHA256 truncated to 16 chars
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AssertionError: assert 40 == 16
E    +  where 40 = len('951ad0c60662d4b74447fa789f806a8a7d48ca4d')
_______________________ test_parent_child_relationships ________________________
tests/test_relationships.py:84: in test_parent_child_relationships
    assert len(chunk.chunk_id) == 16
E   AssertionError: assert 40 == 16
E    +  where 40 = len('e93ae9b5c4a2ca875aa4a163de2c7ff9bdb7284c')
E    +    where 'e93ae9b5c4a2ca875aa4a163de2c7ff9bdb7284c' = CodeChunk(language='python', file_path='/tmp/tmpk30w__la.py', node_type='class_definition', start_line=2, end_line=8, byte_start=1, byte_end=121, parent_context='', content='class OuterClass:\n    def method1(self):\n        pass\n\n    class InnerClass:\n        def method2(self):\n            pass', chunk_id='e93ae9b5c4a2ca875aa4a163de2c7ff9bdb7284c', parent_chunk_id=None, references=[], dependencies=[], metadata={'dependencies': [], 'exports': ['InnerClass', 'OuterClass', 'method1', 'method2', 'self'], 'complexity': {'cyclomatic': 1, 'cognitive': 0, 'nesting_depth': 2, 'lines_of_code': 7, 'logical_lines': 6}}, node_id='e93ae9b5c4a2ca875aa4a163de2c7ff9bdb7284c', file_id='1274af912240fd524eeeef3a62a0818c526cf65e', symbol_id=None, parent_route=['class_definition']).chunk_id
_______________ TestScalaBasicChunking.test_classes_and_objects ________________
tests/test_scala_language.py:77: in test_classes_and_objects
    assert "case_class_definition" in chunk_types
E   AssertionError: assert 'case_class_definition' in {'function_declaration', 'function_definition', 'val_definition', 'trait_definition', 'object_definition', 'package_clause', 'class_definition'}
___________________ TestSemanticChunker.test_basic_chunking ____________________
tests/test_semantic_chunker.py:137: in test_basic_chunking
    assert "class_definition" in chunk_types or "merged_chunk" in chunk_types
E   AssertionError: assert ('class_definition' in {'module'} or 'merged_chunk' in {'module'})
________________ TestSemanticChunker.test_complexity_splitting _________________
tests/test_semantic_chunker.py:221: in test_complexity_splitting
    assert complexity["score"] > 10.0
E   assert 3.0 > 10.0
_________________ TestSemanticChunker.test_semantic_boundaries _________________
tests/test_semantic_chunker.py:301: in test_semantic_boundaries
    assert len(chunks) >= 3
E   assert 1 >= 3
E    +  where 1 = len([CodeChunk(language='python', file_path='test.py', node_type='module', start_line=2, end_line=34, byte_start=1, byte_end=599, parent_context='module', content='# Configuration section\nDEBUG = True\nAPI_KEY = "secret"\nTIMEOUT = 30\n\n# Data models\nclass User:\n    def __init__(self, name):\n        self.name = name\n\nclass Product:\n    def __init__(self, id, name):\n        self.id = id\n        self.name = name\n\n# Business logic\ndef calculate_discount(user, product):\n    if user.is_premium:\n        return 0.2\n    return 0.1\n\ndef apply_discount(price, discount):\n    return price * (1 - discount)\n\n# API handlers\nasync def get_user(user_id):\n    # Fetch user from database\n    pass\n\nasync def get_product(product_id):\n    # Fetch product from database\n    pass\n', chunk_id='1bfacfc2f49480bd', parent_chunk_id=None, references=[], dependencies=[], metadata={'semantic': {'role': 'state_management', 'patterns': ['io_operation', 'computation', 'initialization'], 'side_effects': [{'node_type': 'assignment', 'type': 'state_mutation', 'severity': 'medium'}, {'node_type': 'assignment', 'type': 'state_mutation', 'severity': 'medium'}, {'node_type': 'assignment', 'type': 'state_mutation', 'severity': 'medium'}, {'node_type': 'assignment', 'type': 'state_mutation', 'severity': 'medium'}, {'node_type': 'assignment', 'type': 'state_mutation', 'severity': 'medium'}, {'node_type': 'assignment', 'type': 'state_mutation', 'severity': 'medium'}], 'data_flow': {'inputs': ['name', 'user', 'product_id', 'product', 'id', 'self', 'user_id', 'discount', 'price'], 'outputs': ['name', 'self.id', 'DEBUG', 'id', 'self.name', 'TIMEOUT', 'API_KEY'], 'transformations': []}, 'purity_score': 1.0, 'cohesion_score': 0.6, 'markers': ['interface']}, 'complexity': {'score': 1.0, 'cyclomatic': 1, 'cognitive': 0, 'max_nesting': 0, 'dependencies': [], 'function_calls': 0, 'branches': 0, 'loops': 0, 'exceptions': 0}, 'depth': 0}, node_id='2cec7ec5c821370492837a698077069f83f95149', file_id='c01476dc52ec07aad08831f20e0c17f3c97b7037', symbol_id=None, parent_route=[])])
____________ TestSlidingWindowIntegration.test_processor_selection _____________
tests/test_sliding_integration.py:216: in test_processor_selection
    chunks = fallback.chunk_text(md_content, md_file)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/fallback/sliding_window_fallback.py:535: in chunk_text
    if processor and processor.can_process(content, file_path):
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_sliding_integration.py:28: in can_process
    return file_path.endswith(".md") or "# " in content
           ^^^^^^^^^^^^^^^^^^
E   AttributeError: 'PosixPath' object has no attribute 'endswith'
------------------------------ Captured log setup ------------------------------
WARNING  chunker.fallback.sliding_window_fallback:sliding_window_fallback.py:115 Overwriting existing processor: markdown_processor
WARNING  chunker.fallback.sliding_window_fallback:sliding_window_fallback.py:115 Overwriting existing processor: log_processor
_______________ TestSlidingWindowIntegration.test_error_handling _______________
tests/test_sliding_integration.py:327: in test_error_handling
    chunks = fallback.chunk_text(content, "test.txt")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/fallback/sliding_window_fallback.py:540: in chunk_text
    chunks = processor.process(content, file_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_sliding_integration.py:317: in process
    raise RuntimeError("Processing failed")
E   RuntimeError: Processing failed
------------------------------ Captured log setup ------------------------------
WARNING  chunker.fallback.sliding_window_fallback:sliding_window_fallback.py:115 Overwriting existing processor: markdown_processor
WARNING  chunker.fallback.sliding_window_fallback:sliding_window_fallback.py:115 Overwriting existing processor: log_processor
________________ TestSQLBasicChunking.test_simple_create_table _________________
tests/test_sql_language.py:24: in test_simple_create_table
    chunks = chunk_file(src, "sql")
             ^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'sql' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=sql, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
------------------------------ Captured log call -------------------------------
ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'sql' from /home/jenner/code/treesitter-chunker/build/sql.so: /home/jenner/code/treesitter-chunker/build/sql.so: undefined symbol: tree_sitter_sql
WARNING  chunker.grammar.builder:builder.py:153 tree-sitter generate failed: npm error could not determine executable to run
npm error A complete log of this run can be found in: /home/jenner/.npm/_logs/2025-08-13T03_46_43_539Z-debug-0.log

ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'sql' from /home/jenner/code/treesitter-chunker/build/sql.so: /home/jenner/code/treesitter-chunker/build/sql.so: undefined symbol: tree_sitter_sql
________________ TestSQLBasicChunking.test_multiple_statements _________________
tests/test_sql_language.py:60: in test_multiple_statements
    chunks = chunk_file(src, "sql")
             ^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'sql' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=sql, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
------------------------------ Captured log call -------------------------------
ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'sql' from /home/jenner/code/treesitter-chunker/build/sql.so: /home/jenner/code/treesitter-chunker/build/sql.so: undefined symbol: tree_sitter_sql
WARNING  chunker.grammar.builder:builder.py:153 tree-sitter generate failed: npm error could not determine executable to run
npm error A complete log of this run can be found in: /home/jenner/.npm/_logs/2025-08-13T03_46_44_244Z-debug-0.log

ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'sql' from /home/jenner/code/treesitter-chunker/build/sql.so: /home/jenner/code/treesitter-chunker/build/sql.so: undefined symbol: tree_sitter_sql
__________________ TestSQLBasicChunking.test_create_function ___________________
tests/test_sql_language.py:84: in test_create_function
    chunks = chunk_file(src, "sql")
             ^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'sql' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=sql, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
------------------------------ Captured log call -------------------------------
ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'sql' from /home/jenner/code/treesitter-chunker/build/sql.so: /home/jenner/code/treesitter-chunker/build/sql.so: undefined symbol: tree_sitter_sql
WARNING  chunker.grammar.builder:builder.py:153 tree-sitter generate failed: npm error could not determine executable to run
npm error A complete log of this run can be found in: /home/jenner/.npm/_logs/2025-08-13T03_46_44_666Z-debug-0.log

ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'sql' from /home/jenner/code/treesitter-chunker/build/sql.so: /home/jenner/code/treesitter-chunker/build/sql.so: undefined symbol: tree_sitter_sql
__________________ TestSQLBasicChunking.test_create_procedure __________________
tests/test_sql_language.py:103: in test_create_procedure
    chunks = chunk_file(src, "sql")
             ^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'sql' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=sql, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
------------------------------ Captured log call -------------------------------
ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'sql' from /home/jenner/code/treesitter-chunker/build/sql.so: /home/jenner/code/treesitter-chunker/build/sql.so: undefined symbol: tree_sitter_sql
WARNING  chunker.grammar.builder:builder.py:153 tree-sitter generate failed: npm error could not determine executable to run
npm error A complete log of this run can be found in: /home/jenner/.npm/_logs/2025-08-13T03_46_45_100Z-debug-0.log

ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'sql' from /home/jenner/code/treesitter-chunker/build/sql.so: /home/jenner/code/treesitter-chunker/build/sql.so: undefined symbol: tree_sitter_sql
______________ TestSQLBasicChunking.test_complex_select_with_cte _______________
tests/test_sql_language.py:131: in test_complex_select_with_cte
    chunks = chunk_file(src, "sql")
             ^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'sql' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=sql, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
------------------------------ Captured log call -------------------------------
ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'sql' from /home/jenner/code/treesitter-chunker/build/sql.so: /home/jenner/code/treesitter-chunker/build/sql.so: undefined symbol: tree_sitter_sql
WARNING  chunker.grammar.builder:builder.py:153 tree-sitter generate failed: npm error could not determine executable to run
npm error A complete log of this run can be found in: /home/jenner/.npm/_logs/2025-08-13T03_46_45_528Z-debug-0.log

ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'sql' from /home/jenner/code/treesitter-chunker/build/sql.so: /home/jenner/code/treesitter-chunker/build/sql.so: undefined symbol: tree_sitter_sql
______________ TestSQLContractCompliance.test_get_semantic_chunks ______________
tests/test_sql_language.py:150: in test_get_semantic_chunks
    parser = get_parser("sql")
             ^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'sql' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=sql, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
------------------------------ Captured log call -------------------------------
ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'sql' from /home/jenner/code/treesitter-chunker/build/sql.so: /home/jenner/code/treesitter-chunker/build/sql.so: undefined symbol: tree_sitter_sql
WARNING  chunker.grammar.builder:builder.py:153 tree-sitter generate failed: npm error could not determine executable to run
npm error A complete log of this run can be found in: /home/jenner/.npm/_logs/2025-08-13T03_46_45_978Z-debug-0.log

ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'sql' from /home/jenner/code/treesitter-chunker/build/sql.so: /home/jenner/code/treesitter-chunker/build/sql.so: undefined symbol: tree_sitter_sql
_____________________ TestSQLEdgeCases.test_empty_sql_file _____________________
tests/test_sql_language.py:213: in test_empty_sql_file
    chunks = chunk_file(src, "sql")
             ^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'sql' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=sql, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
------------------------------ Captured log call -------------------------------
ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'sql' from /home/jenner/code/treesitter-chunker/build/sql.so: /home/jenner/code/treesitter-chunker/build/sql.so: undefined symbol: tree_sitter_sql
WARNING  chunker.grammar.builder:builder.py:153 tree-sitter generate failed: npm error could not determine executable to run
npm error A complete log of this run can be found in: /home/jenner/.npm/_logs/2025-08-13T03_46_46_401Z-debug-0.log

ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'sql' from /home/jenner/code/treesitter-chunker/build/sql.so: /home/jenner/code/treesitter-chunker/build/sql.so: undefined symbol: tree_sitter_sql
_________________ TestSQLEdgeCases.test_sql_with_only_comments _________________
tests/test_sql_language.py:223: in test_sql_with_only_comments
    chunks = chunk_file(src, "sql")
             ^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'sql' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=sql, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
------------------------------ Captured log call -------------------------------
ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'sql' from /home/jenner/code/treesitter-chunker/build/sql.so: /home/jenner/code/treesitter-chunker/build/sql.so: undefined symbol: tree_sitter_sql
WARNING  chunker.grammar.builder:builder.py:153 tree-sitter generate failed: npm error could not determine executable to run
npm error A complete log of this run can be found in: /home/jenner/.npm/_logs/2025-08-13T03_46_46_854Z-debug-0.log

ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'sql' from /home/jenner/code/treesitter-chunker/build/sql.so: /home/jenner/code/treesitter-chunker/build/sql.so: undefined symbol: tree_sitter_sql
_________________ TestSQLEdgeCases.test_sql_with_transactions __________________
tests/test_sql_language.py:241: in test_sql_with_transactions
    chunks = chunk_file(src, "sql")
             ^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'sql' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=sql, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
------------------------------ Captured log call -------------------------------
ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'sql' from /home/jenner/code/treesitter-chunker/build/sql.so: /home/jenner/code/treesitter-chunker/build/sql.so: undefined symbol: tree_sitter_sql
WARNING  chunker.grammar.builder:builder.py:153 tree-sitter generate failed: npm error could not determine executable to run
npm error A complete log of this run can be found in: /home/jenner/.npm/_logs/2025-08-13T03_46_47_299Z-debug-0.log

ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'sql' from /home/jenner/code/treesitter-chunker/build/sql.so: /home/jenner/code/treesitter-chunker/build/sql.so: undefined symbol: tree_sitter_sql
_____________________ TestSQLEdgeCases.test_sql_with_views _____________________
tests/test_sql_language.py:269: in test_sql_with_views
    chunks = chunk_file(src, "sql")
             ^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'sql' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=sql, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
------------------------------ Captured log call -------------------------------
ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'sql' from /home/jenner/code/treesitter-chunker/build/sql.so: /home/jenner/code/treesitter-chunker/build/sql.so: undefined symbol: tree_sitter_sql
WARNING  chunker.grammar.builder:builder.py:153 tree-sitter generate failed: npm error could not determine executable to run
npm error A complete log of this run can be found in: /home/jenner/.npm/_logs/2025-08-13T03_46_47_742Z-debug-0.log

ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'sql' from /home/jenner/code/treesitter-chunker/build/sql.so: /home/jenner/code/treesitter-chunker/build/sql.so: undefined symbol: tree_sitter_sql
___________________ TestSQLEdgeCases.test_sql_with_triggers ____________________
tests/test_sql_language.py:291: in test_sql_with_triggers
    chunks = chunk_file(src, "sql")
             ^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'sql' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=sql, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
------------------------------ Captured log call -------------------------------
ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'sql' from /home/jenner/code/treesitter-chunker/build/sql.so: /home/jenner/code/treesitter-chunker/build/sql.so: undefined symbol: tree_sitter_sql
WARNING  chunker.grammar.builder:builder.py:153 tree-sitter generate failed: npm error could not determine executable to run
npm error A complete log of this run can be found in: /home/jenner/.npm/_logs/2025-08-13T03_46_48_174Z-debug-0.log

ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'sql' from /home/jenner/code/treesitter-chunker/build/sql.so: /home/jenner/code/treesitter-chunker/build/sql.so: undefined symbol: tree_sitter_sql
_________ TestStructuredExportIntegration.test_end_to_end_jsonl_export _________
tests/test_structured_export_integration.py:203: in test_end_to_end_jsonl_export
    assert relationship_count > 0
E   assert 0 > 0
__________ TestStructuredExportIntegration.test_end_to_end_dot_export __________
tests/test_structured_export_integration.py:262: in test_end_to_end_dot_export
    assert "->" in content
E   assert '->' in 'digraph CodeStructure {\n  rankdir=DOT;\n  node [shape="box", style="rounded,filled", fillcolor="lightblue"];\n  // Generated by TreeSitter Chunker - 2025-08-13T03:46:48.473899+00:00\n  // Chunks: 6, Relationships: 0\n\n  // Nodes\n  "c8ea6041ea64826842950bf6f27231e62aedf665" [label="method_definition\\nlanguage: javascript"];\n  "7106589122d074dc405d2ddd578d02b8531207f8" [label="method_definition\\nlanguage: javascript"];\n  "89c06a20a473ff4ecd08cfa97d3370c72b8a18f9" [label="method_definition\\nlanguage: javascript"];\n  "25e20fa221f47a02cb9d9122d653c8b03dcd5748" [label="method_definition\\nlanguage: javascript"];\n  "ef0329f0a34e401e06a227af4bebb86a577da308" [label="method_definition\\nlanguage: javascript"];\n  "11845e2521994f1b3215b6da2479b57088371faa" [label="method_definition\\nlanguage: javascript"];\n\n  // Edges\n}'
____ TestStructuredExportIntegration.test_relationship_tracking_javascript _____
tests/test_structured_export_integration.py:331: in test_relationship_tracking_javascript
    assert len(inheritance_rels) >= 2
E   assert 0 >= 2
E    +  where 0 = len([])
_________________ TestSwiftLanguage.test_swift_basic_chunking __________________
tests/test_swift_language.py:55: in test_swift_basic_chunking
    chunks = chunk_text(code, language="swift")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/__init__.py:91: in chunk_text
    chunks = chunk_file(temp_path, language, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'swift' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=swift, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
------------------------------ Captured log call -------------------------------
ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'swift' from /home/jenner/code/treesitter-chunker/build/swift.so: /home/jenner/code/treesitter-chunker/build/swift.so: undefined symbol: tree_sitter_swift
WARNING  chunker.grammar.builder:builder.py:153 tree-sitter generate failed: npm error could not determine executable to run
npm error A complete log of this run can be found in: /home/jenner/.npm/_logs/2025-08-13T03_46_48_614Z-debug-0.log

ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'swift' from /home/jenner/code/treesitter-chunker/build/swift.so: /home/jenner/code/treesitter-chunker/build/swift.so: undefined symbol: tree_sitter_swift
______________ TestSwiftLanguage.test_swift_protocols_extensions _______________
tests/test_swift_language.py:112: in test_swift_protocols_extensions
    chunks = chunk_text(code, language="swift")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/__init__.py:91: in chunk_text
    chunks = chunk_file(temp_path, language, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'swift' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=swift, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
------------------------------ Captured log call -------------------------------
ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'swift' from /home/jenner/code/treesitter-chunker/build/swift.so: /home/jenner/code/treesitter-chunker/build/swift.so: undefined symbol: tree_sitter_swift
WARNING  chunker.grammar.builder:builder.py:153 tree-sitter generate failed: npm error could not determine executable to run
npm error A complete log of this run can be found in: /home/jenner/.npm/_logs/2025-08-13T03_46_49_088Z-debug-0.log

ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'swift' from /home/jenner/code/treesitter-chunker/build/swift.so: /home/jenner/code/treesitter-chunker/build/swift.so: undefined symbol: tree_sitter_swift
_____________ TestSwiftLanguage.test_swift_enums_associated_values _____________
tests/test_swift_language.py:160: in test_swift_enums_associated_values
    chunks = chunk_text(code, language="swift")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/__init__.py:91: in chunk_text
    chunks = chunk_file(temp_path, language, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'swift' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=swift, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
------------------------------ Captured log call -------------------------------
ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'swift' from /home/jenner/code/treesitter-chunker/build/swift.so: /home/jenner/code/treesitter-chunker/build/swift.so: undefined symbol: tree_sitter_swift
WARNING  chunker.grammar.builder:builder.py:153 tree-sitter generate failed: npm error could not determine executable to run
npm error A complete log of this run can be found in: /home/jenner/.npm/_logs/2025-08-13T03_46_49_582Z-debug-0.log

ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'swift' from /home/jenner/code/treesitter-chunker/build/swift.so: /home/jenner/code/treesitter-chunker/build/swift.so: undefined symbol: tree_sitter_swift
___________________ TestSwiftLanguage.test_swift_async_await ___________________
tests/test_swift_language.py:227: in test_swift_async_await
    chunks = chunk_text(code, language="swift")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/__init__.py:91: in chunk_text
    chunks = chunk_file(temp_path, language, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'swift' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=swift, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
------------------------------ Captured log call -------------------------------
ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'swift' from /home/jenner/code/treesitter-chunker/build/swift.so: /home/jenner/code/treesitter-chunker/build/swift.so: undefined symbol: tree_sitter_swift
WARNING  chunker.grammar.builder:builder.py:153 tree-sitter generate failed: npm error could not determine executable to run
npm error A complete log of this run can be found in: /home/jenner/.npm/_logs/2025-08-13T03_46_50_049Z-debug-0.log

ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'swift' from /home/jenner/code/treesitter-chunker/build/swift.so: /home/jenner/code/treesitter-chunker/build/swift.so: undefined symbol: tree_sitter_swift
________________ TestSwiftLanguage.test_swift_property_wrappers ________________
tests/test_swift_language.py:273: in test_swift_property_wrappers
    chunks = chunk_text(code, language="swift")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/__init__.py:91: in chunk_text
    chunks = chunk_file(temp_path, language, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'swift' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=swift, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
------------------------------ Captured log call -------------------------------
ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'swift' from /home/jenner/code/treesitter-chunker/build/swift.so: /home/jenner/code/treesitter-chunker/build/swift.so: undefined symbol: tree_sitter_swift
WARNING  chunker.grammar.builder:builder.py:153 tree-sitter generate failed: npm error could not determine executable to run
npm error A complete log of this run can be found in: /home/jenner/.npm/_logs/2025-08-13T03_46_50_531Z-debug-0.log

ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'swift' from /home/jenner/code/treesitter-chunker/build/swift.so: /home/jenner/code/treesitter-chunker/build/swift.so: undefined symbol: tree_sitter_swift
______________ TestSwiftLanguage.test_swift_generics_constraints _______________
tests/test_swift_language.py:328: in test_swift_generics_constraints
    chunks = chunk_text(code, language="swift")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/__init__.py:91: in chunk_text
    chunks = chunk_file(temp_path, language, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/core.py:509: in chunk_file
    return chunk_text(
chunker/core.py:436: in chunk_text
    parser = get_parser(language)
             ^^^^^^^^^^^^^^^^^^^^
chunker/parser.py:131: in get_parser
    raise LanguageNotFoundError(language, available) from None
E   chunker.exceptions.LanguageNotFoundError: Language 'swift' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=swift, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
------------------------------ Captured log call -------------------------------
ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'swift' from /home/jenner/code/treesitter-chunker/build/swift.so: /home/jenner/code/treesitter-chunker/build/swift.so: undefined symbol: tree_sitter_swift
WARNING  chunker.grammar.builder:builder.py:153 tree-sitter generate failed: npm error could not determine executable to run
npm error A complete log of this run can be found in: /home/jenner/.npm/_logs/2025-08-13T03_46_51_034Z-debug-0.log

ERROR    chunker._internal.registry:registry.py:239 Failed to load language 'swift' from /home/jenner/code/treesitter-chunker/build/swift.so: /home/jenner/code/treesitter-chunker/build/swift.so: undefined symbol: tree_sitter_swift
_____________ TestSwiftLanguage.test_swift_file_extensions[.swift] _____________
tests/test_swift_language.py:336: in test_swift_file_extensions
    assert config is not None
E   assert None is not None
________________ TestTokenAwareChunker.test_multiple_languages _________________
tests/test_token_integration.py:347: in test_multiple_languages
    assert len(js_chunks) > 0
E   assert 0 > 0
E    +  where 0 = len([])
____________ TestChunkIdGeneration.test_auto_id_generation_on_init _____________
tests/test_types.py:154: in test_auto_id_generation_on_init
    assert len(chunk.chunk_id) == 40
E   AssertionError: assert 16 == 40
E    +  where 16 = len('68ba60b4085c73f5')
E    +    where '68ba60b4085c73f5' = CodeChunk(language='python', file_path='/test/file.py', node_type='function', start_line=1, end_line=5, byte_start=0, byte_end=100, parent_context='module', content='def test():\n    pass', chunk_id='68ba60b4085c73f5', parent_chunk_id=None, references=[], dependencies=[], metadata={}, node_id='0b729f1aa58e1595504f445d71c3528bc08efd73', file_id='ff3dab7acf6fb2820c43d93ea78b6b3f31c74383', symbol_id=None, parent_route=[]).chunk_id
_____________ TestChunkIdGeneration.test_id_generation_uniqueness ______________
tests/test_types.py:235: in test_id_generation_uniqueness
    assert len(ids) >= 3
E   AssertionError: assert 2 >= 3
E    +  where 2 = len({'72eef88b3a3e0549', '75a9396fef011bfd'})
_____________________ TestDataclassFeatures.test_equality ______________________
tests/test_types.py:551: in test_equality
    assert chunk1 != chunk3
E   AssertionError: assert CodeChunk(language='python', file_path='/test/file.py', node_type='function', start_line=1, end_line=5, byte_start=0, byte_end=100, parent_context='module', content='def test(): pass', chunk_id='e659de6738730b5d', parent_chunk_id=None, references=[], dependencies=[], metadata={}, node_id='c5beec060f91493b624f13d15db5bfdf7dadf32e', file_id='ff3dab7acf6fb2820c43d93ea78b6b3f31c74383', symbol_id=None, parent_route=[]) != CodeChunk(language='python', file_path='/test/file.py', node_type='function', start_line=1, end_line=5, byte_start=0, byte_end=100, parent_context='module', content='def test2(): pass', chunk_id='e659de6738730b5d', parent_chunk_id=None, references=[], dependencies=[], metadata={}, node_id='c5beec060f91493b624f13d15db5bfdf7dadf32e', file_id='ff3dab7acf6fb2820c43d93ea78b6b3f31c74383', symbol_id=None, parent_route=[])
____________ TestTypeScriptLanguage.test_typescript_basic_chunking _____________
tests/test_typescript_language.py:42: in test_typescript_basic_chunking
    assert len(chunks) >= 4
E   AssertionError: assert 2 >= 4
E    +  where 2 = len([CodeChunk(language='typescript', file_path='', node_type='method_definition', start_line=11, end_line=13, byte_start=132, byte_end=196, parent_context='', content='addUser(user: User): void {\n        this.users.push(user);\n    }', chunk_id='3559b135cb204f9378c0ccd5f122785b3a4a14cc', parent_chunk_id=None, references=[], dependencies=['User', 'user'], metadata={'signature': {'name': 'addUser', 'parameters': [{'name': 'user', 'type': 'User', 'default': None}], 'return_type': 'void', 'decorators': [], 'modifiers': []}, 'dependencies': ['User', 'user'], 'exports': ['addUser'], 'complexity': {'cyclomatic': 1, 'cognitive': 0, 'nesting_depth': 0, 'lines_of_code': 3, 'logical_lines': 3}}, node_id='3559b135cb204f9378c0ccd5f122785b3a4a14cc', file_id='d0998110d4f271571ea799f05b153504a56056c0', symbol_id='392a8a671e179cc2fa7f636a4c1b80b4ca6e5712', parent_route=['method_definition']), CodeChunk(language='typescript', file_path='', node_type='method_definition', start_line=15, end_line=17, byte_start=202, byte_end=297, parent_context='', content='getUser(id: number): User | undefined {\n        return this.users.find(u => u.id === id);\n    }', chunk_id='87f4a85d1ec38b24ea6089fbd0115665b8098555', parent_chunk_id=None, references=[], dependencies=['User', 'id', 'u'], metadata={'signature': {'name': 'getUser', 'parameters': [{'name': 'id', 'type': 'number', 'default': None}], 'return_type': 'User | undefined', 'decorators': [], 'modifiers': []}, 'dependencies': ['User', 'id', 'u'], 'exports': ['getUser'], 'complexity': {'cyclomatic': 1, 'cognitive': 0, 'nesting_depth': 1, 'lines_of_code': 3, 'logical_lines': 3}}, node_id='87f4a85d1ec38b24ea6089fbd0115665b8098555', file_id='d0998110d4f271571ea799f05b153504a56056c0', symbol_id='2c9920b8a7ddd939b2bda6fb13cfe7ccb781a1dc', parent_route=['method_definition'])])
______________ TestTypeScriptLanguage.test_tsx_component_chunking ______________
tests/test_typescript_language.py:85: in test_tsx_component_chunking
    assert len(chunks) >= 2
E   assert 0 >= 2
E    +  where 0 = len([])
_______________ TestTypeScriptLanguage.test_typescript_generics ________________
tests/test_typescript_language.py:117: in test_typescript_generics
    assert len(chunks) >= 3
E   AssertionError: assert 2 >= 3
E    +  where 2 = len([CodeChunk(language='typescript', file_path='', node_type='method_definition', start_line=15, end_line=17, byte_start=415, byte_end=527, parent_context='', content='get<K extends keyof T>(key: K): T[K] | undefined {\n        return this.items.get(key) as T[K] | undefined;\n    }', chunk_id='185d8af5d756cea641a9eb1d8f3e8ac8f3b73f42', parent_chunk_id=None, references=[], dependencies=['K', 'T', 'key'], metadata={'signature': {'name': 'get', 'parameters': [{'name': 'key', 'type': 'K', 'default': None}], 'return_type': 'T[K] | undefined', 'decorators': [], 'modifiers': []}, 'dependencies': ['K', 'T', 'key'], 'exports': ['get'], 'complexity': {'cyclomatic': 2, 'cognitive': 0, 'nesting_depth': 0, 'lines_of_code': 3, 'logical_lines': 3}}, node_id='185d8af5d756cea641a9eb1d8f3e8ac8f3b73f42', file_id='d0998110d4f271571ea799f05b153504a56056c0', symbol_id='7a2f52793c947e845ade0126281796ae7f5a1955', parent_route=['method_definition']), CodeChunk(language='typescript', file_path='', node_type='method_definition', start_line=19, end_line=21, byte_start=533, byte_end=626, parent_context='', content='set<K extends keyof T>(key: K, value: T[K]): void {\n        this.items.set(key, value);\n    }', chunk_id='3f9d1afab05af3a91a15669862b7714f08d6c2cb', parent_chunk_id=None, references=[], dependencies=['K', 'T', 'key', 'value'], metadata={'signature': {'name': 'set', 'parameters': [{'name': 'key', 'type': 'K', 'default': None}, {'name': 'value', 'type': 'T[K]', 'default': None}], 'return_type': 'void', 'decorators': [], 'modifiers': []}, 'dependencies': ['K', 'T', 'key', 'value'], 'exports': ['set'], 'complexity': {'cyclomatic': 1, 'cognitive': 0, 'nesting_depth': 0, 'lines_of_code': 3, 'logical_lines': 3}}, node_id='3f9d1afab05af3a91a15669862b7714f08d6c2cb', file_id='d0998110d4f271571ea799f05b153504a56056c0', symbol_id='36aa9b840464ef54c62bc58a1bba7fe33fc0ff3a', parent_route=['method_definition'])])
______________ TestTypeScriptLanguage.test_typescript_decorators _______________
tests/test_typescript_language.py:153: in test_typescript_decorators
    assert len(chunks) >= 3
E   AssertionError: assert 2 >= 3
E    +  where 2 = len([CodeChunk(language='typescript', file_path='', node_type='method_definition', start_line=15, end_line=17, byte_start=353, byte_end=407, parent_context='', content='constructor(t: string) {\n        this.title = t;\n    }', chunk_id='d5c2637d4e9ded69b265f524ef28ba4a426e5f6e', parent_chunk_id=None, references=[], dependencies=['t'], metadata={'signature': {'name': 'constructor', 'parameters': [{'name': 't', 'type': 'string', 'default': None}], 'return_type': None, 'decorators': [], 'modifiers': []}, 'dependencies': ['t'], 'exports': ['constructor'], 'complexity': {'cyclomatic': 1, 'cognitive': 0, 'nesting_depth': 0, 'lines_of_code': 3, 'logical_lines': 3}}, node_id='d5c2637d4e9ded69b265f524ef28ba4a426e5f6e', file_id='d0998110d4f271571ea799f05b153504a56056c0', symbol_id='b564284fb81b02bbdbe2933b4dbaea0ef54d02bc', parent_route=['method_definition']), CodeChunk(language='typescript', file_path='', node_type='method_definition', start_line=20, end_line=23, byte_start=422, byte_end=525, parent_context='', content='print() {\n        console.log(`type: ${this.type}`);\n        console.log(`title: ${this.title}`);\n    }', chunk_id='a6955230b803d61bdb2147efbd5386a44177625d', parent_chunk_id=None, references=[], dependencies=[], metadata={'signature': {'name': 'print', 'parameters': [], 'return_type': None, 'decorators': [], 'modifiers': []}, 'dependencies': [], 'exports': ['print'], 'complexity': {'cyclomatic': 1, 'cognitive': 0, 'nesting_depth': 0, 'lines_of_code': 4, 'logical_lines': 4}}, node_id='a6955230b803d61bdb2147efbd5386a44177625d', file_id='d0998110d4f271571ea799f05b153504a56056c0', symbol_id='503038a713722778ddafb4fcc90faa91b633c143', parent_route=['method_definition'])])
_______________ TestTypeScriptLanguage.test_typescript_namespace _______________
tests/test_typescript_language.py:183: in test_typescript_namespace
    assert namespace_chunk is not None
E   assert None is not None
_____________ TestTypeScriptLanguage.test_typescript_enum_chunking _____________
tests/test_typescript_language.py:209: in test_typescript_enum_chunking
    assert len(chunks) >= 3
E   assert 0 >= 3
E    +  where 0 = len([])
_________ TestTypeScriptLanguage.test_typescript_file_extensions[.ts] __________
tests/test_typescript_language.py:216: in test_typescript_file_extensions
    assert config is not None
E   assert None is not None
_________ TestTypeScriptLanguage.test_typescript_file_extensions[.tsx] _________
tests/test_typescript_language.py:216: in test_typescript_file_extensions
    assert config is not None
E   assert None is not None
________ TestTypeScriptLanguage.test_typescript_file_extensions[.d.ts] _________
tests/test_typescript_language.py:216: in test_typescript_file_extensions
    assert config is not None
E   assert None is not None
__________________________ test_visualize_ast_script ___________________________
tests/test_visualize_ast_script.py:16: in test_visualize_ast_script
    subprocess.run(
/usr/lib/python3.12/subprocess.py:571: in run
    raise CalledProcessError(retcode, process.args,
E   subprocess.CalledProcessError: Command '['/home/jenner/code/treesitter-chunker/.fullenv/bin/python3.12', 'scripts/visualize_ast.py', '/tmp/pytest-of-jenner/pytest-55/test_visualize_ast_script0/sample.py', '--lang', 'python', '--out', '/tmp/pytest-of-jenner/pytest-55/test_visualize_ast_script0/out.svg']' returned non-zero exit status 1.
----------------------------- Captured stderr call -----------------------------
Traceback (most recent call last):
  File "/home/jenner/code/treesitter-chunker/scripts/visualize_ast.py", line 62, in <module>
    main()
  File "/home/jenner/code/treesitter-chunker/scripts/visualize_ast.py", line 50, in main
    source = render_ast_graph(
             ^^^^^^^^^^^^^^^^^
TypeError: render_ast_graph() got an unexpected keyword argument 'format'
_____________________ TestWASMPlugin.test_module_chunking ______________________
tests/test_wasm_language.py:63: in test_module_chunking
    assert len(module_chunks) == 1
E   assert 2 == 1
E    +  where 2 = len([{'type': 'module', 'start_line': 2, 'end_line': 9, 'content': '(module\n  (func $add (param $a i32) (param $b i32) (result i32)\n    local.get $a\n    local.get $b\n    i32.add)\n\n  (export "add" (func $add))\n)', 'name': None}, {'type': 'module', 'start_line': 2, 'end_line': 2, 'content': 'module', 'name': None}])
____________________ TestWASMPlugin.test_function_chunking _____________________
tests/test_wasm_language.py:93: in test_function_chunking
    assert len(func_chunks) >= 2
E   assert 0 >= 2
E    +  where 0 = len([])
_____________________ TestWASMPlugin.test_memory_chunking ______________________
tests/test_wasm_language.py:116: in test_memory_chunking
    assert len(memory_chunks) >= 2
E   assert 0 >= 2
E    +  where 0 = len([])
______________________ TestWASMPlugin.test_table_chunking ______________________
tests/test_wasm_language.py:135: in test_table_chunking
    assert len(table_chunks) >= 2
E   assert 0 >= 2
E    +  where 0 = len([])
_____________________ TestWASMPlugin.test_global_chunking ______________________
tests/test_wasm_language.py:154: in test_global_chunking
    assert len(global_chunks) >= 3
E   assert 0 >= 3
E    +  where 0 = len([])
__________________ TestWASMPlugin.test_import_export_chunking __________________
tests/test_wasm_language.py:185: in test_import_export_chunking
    assert len(import_chunks) >= 3
E   assert 0 >= 3
E    +  where 0 = len([])
_____________________ TestWASMPlugin.test_type_definitions _____________________
tests/test_wasm_language.py:212: in test_type_definitions
    assert len(type_chunks) >= 2
E   assert 0 >= 2
E    +  where 0 = len([])
___________________ TestWASMPlugin.test_complex_wasm_module ____________________
tests/test_wasm_language.py:347: in test_complex_wasm_module
    assert len(func_chunks) >= 4
E   assert 0 >= 4
E    +  where 0 = len([])
_______________ test_xref_builds_edges_from_metadata_and_parent ________________
tests/test_xref_graph.py:71: in test_xref_builds_edges_from_metadata_and_parent
    assert has_edge(parent.node_id, child.node_id, "DEFINES")
E   AssertionError: assert False
E    +  where False = <function test_xref_builds_edges_from_metadata_and_parent.<locals>.has_edge at 0x73e4ce58d440>('08c72d95298362a7733d14f1c92962a2adc5c09c', '08c72d95298362a7733d14f1c92962a2adc5c09c', 'DEFINES')
E    +    where '08c72d95298362a7733d14f1c92962a2adc5c09c' = CodeChunk(language='python', file_path='/tmp/x.py', node_type='class_definition', start_line=1, end_line=3, byte_start=0, byte_end=10, parent_context='module', content='def f():\n  pass\n', chunk_id='8e311e37cd6acc27', parent_chunk_id=None, references=[], dependencies=[], metadata={'signature': {'name': 'Base'}}, node_id='08c72d95298362a7733d14f1c92962a2adc5c09c', file_id='3c318f083da1d91e511c06b84165c418b4a55d86', symbol_id=None, parent_route=[]).node_id
E    +    and   '08c72d95298362a7733d14f1c92962a2adc5c09c' = CodeChunk(language='python', file_path='/tmp/x.py', node_type='method_definition', start_line=1, end_line=3, byte_start=0, byte_end=10, parent_context='module', content='def f():\n  pass\n', chunk_id='8e311e37cd6acc27', parent_chunk_id='08c72d95298362a7733d14f1c92962a2adc5c09c', references=[], dependencies=[], metadata={'signature': {'name': 'foo'}}, node_id='08c72d95298362a7733d14f1c92962a2adc5c09c', file_id='3c318f083da1d91e511c06b84165c418b4a55d86', symbol_id=None, parent_route=[]).node_id
_______________________ TestZigPlugin.test_enum_chunking _______________________
tests/test_zig_language.py:113: in test_enum_chunking
    assert len(enum_chunks) == 1
E   assert 0 == 1
E    +  where 0 = len([])
_________________ TestZigPlugin.test_test_declaration_chunking _________________
tests/test_zig_language.py:132: in test_test_declaration_chunking
    assert len(chunks) == 2
E   assert 0 == 2
E    +  where 0 = len([])
______________________ TestZigPlugin.test_union_chunking _______________________
tests/test_zig_language.py:158: in test_union_chunking
    assert len(union_chunks) == 1
E   assert 0 == 1
E    +  where 0 = len([])
____________________ TestZigPlugin.test_error_set_chunking _____________________
tests/test_zig_language.py:175: in test_error_set_chunking
    assert len(error_chunks) == 1
E   assert 0 == 1
E    +  where 0 = len([])
_____________________ TestZigPlugin.test_comptime_chunking _____________________
tests/test_zig_language.py:186: in test_comptime_chunking
    assert len(comptime_chunks) == 1
E   assert 0 == 1
E    +  where 0 = len([])
_____________________ TestZigPlugin.test_complex_zig_file ______________________
tests/test_zig_language.py:286: in test_complex_zig_file
    assert len(enum_chunks) >= 1
E   assert 0 >= 1
E    +  where 0 = len([])
___________ TestBaseContextExtractor.test_build_context_prefix_empty ___________
tests/unit/context/test_context_extractor.py:25: in test_build_context_prefix_empty
    assert not result @ classmethod
               ^^^^^^^^^^^^^^^^^^^^
E   TypeError: unsupported operand type(s) for @: 'str' and 'type'
____________________ TestPyPIPublisher.test_publish_to_pypi ____________________
/usr/lib/python3.12/unittest/mock.py:1390: in patched
    return func(*newargs, **newkeywargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1843: in _inner
    return f(*args, **kw)
           ^^^^^^^^^^^^^^
E   TypeError: 'classmethod' object is not callable
___________ TestInstallationVerifier.test_verify_docker_installation ___________
tests/unit/distribution/test_verifier.py:116: in test_verify_docker_installation
    success, details = verifier.verify_installation("docker", "linux")
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/distribution/verifier.py:46: in verify_installation
    return self._verify_docker_installation(platform, details)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/distribution/verifier.py:236: in _verify_docker_installation
    if test_result.returncode == 0:
       ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'str' object has no attribute 'returncode'
__________ TestInstallationVerifier.test_verify_homebrew_installation __________
tests/unit/distribution/test_verifier.py:151: in test_verify_homebrew_installation
    success, details = verifier.verify_installation("homebrew", "darwin")
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/distribution/verifier.py:48: in verify_installation
    return self._verify_homebrew_installation(platform, details)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
chunker/distribution/verifier.py:287: in _verify_homebrew_installation
    details["installation_output"] = install_result.stdout
                                     ^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'str' object has no attribute 'stdout'
____________ TestTreeSitterGrammarManager.test_fetch_grammar_clone _____________
tests/unit/grammar/test_manager.py:80: in test_fetch_grammar_clone
    assert "tree-sitter-go.git" in args[2]
E   AssertionError: assert 'tree-sitter-go.git' in '--depth'
____________ TestTreeSitterGrammarManager.test_fetch_grammar_update ____________
tests/unit/grammar/test_manager.py:103: in test_fetch_grammar_update
    mock_run.assert_called_once()
/usr/lib/python3.12/unittest/mock.py:923: in assert_called_once
    raise AssertionError(msg)
E   AssertionError: Expected 'run' to have been called once. Called 0 times.
------------------------------ Captured log call -------------------------------
WARNING  chunker.grammar.manager:manager.py:101 Grammar path exists but is not a git repo. Recreating: /tmp/tmp1no02tb1/grammars/tree-sitter-ruby
_______________ TestTreeSitterGrammarManager.test_build_grammar ________________
tests/unit/grammar/test_manager.py:128: in test_build_grammar
    assert result is True
E   assert False is True
------------------------------ Captured log call -------------------------------
ERROR    chunker.grammar.builder:builder.py:170 No C/C++ source files found in /tmp/tmpdw0fzqli/grammars/tree-sitter-java
ERROR    chunker.grammar.manager:manager.py:197 Failed to build grammar 'java'
______________ TestTreeSitterGrammarManager.test_validate_grammar ______________
/usr/lib/python3.12/unittest/mock.py:1387: in patched
    with self.decoration_helper(patched,
/usr/lib/python3.12/contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1369: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/contextlib.py:526: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1458: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1431: in get_original
    raise AttributeError(
E   AttributeError: <module 'chunker.grammar.manager' from '/home/jenner/code/treesitter-chunker/chunker/grammar/manager.py'> does not have the attribute 'get_parser'
=============================== warnings summary ===============================
tests/integration/coordinator.py:30
  /home/jenner/code/treesitter-chunker/tests/integration/coordinator.py:30: PytestCollectionWarning: cannot collect test class 'TestResult' because it has a __init__ constructor (from: tests/integration/test_coordinator.py)
    @dataclass

tests/integration/coordinator.py:16
  /home/jenner/code/treesitter-chunker/tests/integration/coordinator.py:16: PytestCollectionWarning: cannot collect test class 'TestScenario' because it has a __init__ constructor (from: tests/integration/test_coordinator.py)
    @dataclass

chunker/rules/builtin.py:200
  /home/jenner/code/treesitter-chunker/chunker/rules/builtin.py:200: PytestCollectionWarning: cannot collect test class 'TestAnnotationRule' because it has a __init__ constructor (from: tests/test_custom_rules.py)
    class TestAnnotationRule(BaseRegexRule):

tests/test_api_endpoints_extended.py: 1 warning
tests/test_haskell_language.py: 1 warning
tests/test_integration.py: 7 warnings
tests/test_julia_language.py: 1 warning
tests/test_kotlin_language.py: 1 warning
tests/test_matlab_language.py: 1 warning
tests/test_metadata_extraction.py: 1 warning
tests/test_nasm_language.py: 1 warning
tests/test_r_language.py: 1 warning
tests/test_scala_language.py: 1 warning
tests/test_typescript_language.py: 2 warnings
tests/test_wasm_language.py: 1 warning
tests/test_zig_language.py: 1 warning
  /home/jenner/code/treesitter-chunker/chunker/_internal/registry.py:224: DeprecationWarning: int argument support is deprecated
    language = Language(lang_ptr)

tests/test_parallel.py: 64 warnings
  /usr/lib/python3.12/multiprocessing/popen_fork.py:66: DeprecationWarning: This process (pid=429638) is multi-threaded, use of fork() may lead to deadlocks in the child.
    self.pid = os.fork()

tests/test_phase11_comprehensive_integration.py::TestPhase11ComprehensiveIntegration::test_mixed_content_repository
  /home/jenner/code/treesitter-chunker/chunker/fallback/sliding_window_fallback.py:427: FallbackWarning: 
  WARNING: Using fallback chunking for /tmp/tmpmm0ykjsi/docs/metrics.md
  Reason: unknown
  
  Tree-sitter provides deterministic, AST-based chunking that preserves code structure.
  Fallback methods may split code at inappropriate boundaries.
  
  To improve chunking for this file type:
  1. Check if a Tree-sitter grammar exists: https://github.com/tree-sitter-grammars/tree-sitter-markdown
  2. Request grammar support: https://github.com/tree-sitter
  3. Use the 'more-grammars' feature to add support
  
  Current fallback method: regex_based
  
    return self.fallback.chunk_text(content, file_path)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED tests/test_haskell_language.py::TestHaskellBasicChunking::test_module_structure - assert False
 +  where False = any(<generator object TestHaskellBasicChunking.test_module_structure.<locals>.<genexpr> at 0x73e4d83b5700>)
FAILED tests/test_haskell_language.py::TestHaskellEdgeCases::test_lambda_expressions - assert False
 +  where False = any(<generator object TestHaskellEdgeCases.test_lambda_expressions.<locals>.<genexpr> at 0x73e4d83b6e90>)
FAILED tests/test_hierarchical_chunker.py::TestHierarchicalChunker::test_leaf_node_preservation - AssertionError: assert 2 != 2
 +  where 2 = len([CodeChunk(language='python', file_path='test.py', node_type='function_definition', start_line=2, end_line=3, byte_start=1, byte_end=30, parent_context='root', content='def function1():\n    return 1', chunk_id='dbf902bf46662bb3', parent_chunk_id=None, references=[], dependencies=[], metadata={'name': 'function1', 'child_count': 5, 'line_count': 2, 'hierarchy_level': 1, 'hierarchy_depth': 1}, node_id='5097a45ee80b12f5ee167c10510020909feaa5d5', file_id='c01476dc52ec07aad08831f20e0c17f3c97b7037', symbol_id=None, parent_route=[]), CodeChunk(language='python', file_path='test.py', node_type='function_definition', start_line=5, end_line=6, byte_start=32, byte_end=61, parent_context='root', content='def function2():\n    return 2', chunk_id='119932e62cb62fc1', parent_chunk_id=None, references=[], dependencies=[], metadata={'name': 'function2', 'child_count': 5, 'line_count': 2, 'hierarchy_level': 1, 'hierarchy_depth': 1}, node_id='18d5e1b3fcbdeda528ed528759a6a055408b5333', file_id='c01476dc52ec07aad08831f20e0c17f3c97b7037', symbol_id=None, parent_route=[])])
 +  and   2 = len([CodeChunk(language='python', file_path='test.py', node_type='function_definition', start_line=2, end_line=3, byte_start=1, byte_end=30, parent_context='root', content='def function1():\n    return 1', chunk_id='dbf902bf46662bb3', parent_chunk_id=None, references=[], dependencies=[], metadata={'name': 'function1', 'child_count': 5, 'line_count': 2, 'hierarchy_level': 1, 'hierarchy_depth': 1}, node_id='5097a45ee80b12f5ee167c10510020909feaa5d5', file_id='c01476dc52ec07aad08831f20e0c17f3c97b7037', symbol_id=None, parent_route=[]), CodeChunk(language='python', file_path='test.py', node_type='function_definition', start_line=5, end_line=6, byte_start=32, byte_end=61, parent_context='root', content='def function2():\n    return 2', chunk_id='119932e62cb62fc1', parent_chunk_id=None, references=[], dependencies=[], metadata={'name': 'function2', 'child_count': 5, 'line_count': 2, 'hierarchy_level': 1, 'hierarchy_depth': 1}, node_id='18d5e1b3fcbdeda528ed528759a6a055408b5333', file_id='c01476dc52ec07aad08831f20e0c17f3c97b7037', symbol_id=None, parent_route=[])])
FAILED tests/test_incremental_integration.py::TestIncrementalIntegration::test_incremental_workflow - AttributeError: <module 'chunker.chunker' from '/home/jenner/code/treesitter-chunker/chunker/chunker.py'> does not have the attribute 'get_parser'
FAILED tests/test_integration.py::TestAllLanguages::test_language_metadata_consistency - AssertionError: assert 'language_version' in {'external_scanner': True, 'compatible': True}
 +  where {'external_scanner': True, 'compatible': True} = LanguageMetadata(name='haskell', version='unknown', node_types_count=0, has_scanner=True, symbol_name='tree_sitter_haskell', capabilities={'external_scanner': True, 'compatible': True}).capabilities
FAILED tests/test_julia_language.py::TestJuliaBasicChunking::test_simple_function - AssertionError: assert 2 == 3
 +  where 2 = len([CodeChunk(language='julia', file_path='/tmp/pytest-of-jenner/pytest-55/test_simple_function0/simple.jl', node_type='function_definition', start_line=2, end_line=4, byte_start=18, byte_end=57, parent_context='', content='function add(a, b)\n    return a + b\nend', chunk_id='4e59f4907b7ceff40dff682abdf4177be4b86c96', parent_chunk_id=None, references=[], dependencies=[], metadata={}, node_id='4e59f4907b7ceff40dff682abdf4177be4b86c96', file_id='0cccfead1ef8dc4d65ebdc99bd8b0244c3f20e32', symbol_id=None, parent_route=['function_definition']), CodeChunk(language='julia', file_path='/tmp/pytest-of-jenner/pytest-55/test_simple_function0/simple.jl', node_type='function_definition', start_line=10, end_line=12, byte_start=137, byte_end=212, parent_context='', content='function typed_divide(x::Float64, y::Float64)::Float64\n    return x / y\nend', chunk_id='d3a7c153b91dddc3d6f46d43548fb5732f6a592a', parent_chunk_id=None, references=[], dependencies=[], metadata={}, node_id='d3a7c153b91dddc3d6f46d43548fb5732f6a592a', file_id='0cccfead1ef8dc4d65ebdc99bd8b0244c3f20e32', symbol_id=None, parent_route=['function_definition'])])
FAILED tests/test_julia_language.py::TestJuliaBasicChunking::test_struct_definitions - assert False
 +  where False = any(<generator object TestJuliaBasicChunking.test_struct_definitions.<locals>.<genexpr> at 0x73e4d638e9b0>)
FAILED tests/test_julia_language.py::TestJuliaBasicChunking::test_abstract_and_primitive_types - assert 0 >= 4
 +  where 0 = len([])
FAILED tests/test_julia_language.py::TestJuliaEdgeCases::test_julia_with_metaprogramming - assert False
 +  where False = any(<generator object TestJuliaEdgeCases.test_julia_with_metaprogramming.<locals>.<genexpr> at 0x73e4d638f850>)
FAILED tests/test_kotlin_language.py::TestKotlinLanguage::test_kotlin_basic_chunking - assert 0 >= 4
 +  where 0 = len([])
FAILED tests/test_kotlin_language.py::TestKotlinLanguage::test_kotlin_interfaces_sealed - assert 0 >= 3
 +  where 0 = len([])
FAILED tests/test_kotlin_language.py::TestKotlinLanguage::test_kotlin_extension_functions - assert 0 >= 5
 +  where 0 = len([])
FAILED tests/test_kotlin_language.py::TestKotlinLanguage::test_kotlin_coroutines - assert 0 >= 1
 +  where 0 = len([])
FAILED tests/test_kotlin_language.py::TestKotlinLanguage::test_kotlin_dsl_builders - assert 0 >= 4
 +  where 0 = len([])
FAILED tests/test_kotlin_language.py::TestKotlinLanguage::test_kotlin_companion_object - assert 0 >= 2
 +  where 0 = len([])
FAILED tests/test_kotlin_language.py::TestKotlinLanguage::test_kotlin_file_extensions[.kt] - assert None is not None
FAILED tests/test_kotlin_language.py::TestKotlinLanguage::test_kotlin_file_extensions[.kts] - assert None is not None
FAILED tests/test_kotlin_language.py::TestKotlinLanguage::test_kotlin_file_extensions[.ktm] - assert None is not None
FAILED tests/test_language_config.py::TestLanguageConfigRegistry::test_clear_registry - AssertionError: assert PythonConfig(language_id='python', chunk_types=3, ignore_types=2, rules=1) is None
 +  where PythonConfig(language_id='python', chunk_types=3, ignore_types=2, rules=1) = get('python')
 +    where get = <chunker.languages.base.LanguageConfigRegistry object at 0x73e4d5bcb8c0>.get
FAILED tests/test_language_integration.py::TestLanguageIntegration::test_python_config_registered - AssertionError: assert None == PythonConfig(language_id='python', chunk_types=3, ignore_types=2, rules=1)
 +  where None = get('py')
 +    where get = <chunker.languages.base.LanguageConfigRegistry object at 0x73e52f593b00>.get
FAILED tests/test_language_integration.py::TestChunkerIntegration::test_config_none_vs_defaults - AssertionError: assert 'lambda' not in {'lambda', 'function_definition', 'class_definition'}
FAILED tests/test_log_processor.py::TestLogProcessor::test_invalid_configuration - Failed: DID NOT RAISE <class 'ValueError'>
FAILED tests/test_log_processor_integration.py::TestLogProcessorIntegration::test_session_tracking_scenario - AssertionError: assert 'bob' not in '2024-01-01 08:00:03 [info] user alice accessed /dashboard\n2024-01-01 08:00:04 [info] user alice accessed /profile\n2024-01-01 08:00:05 [info] user alice initiated logout\n2024-01-01 08:00:06 [info] session ended for user alice\n2024-01-01 08:01:00 [info] user bob attempting login\n2024-01-01 08:01:01 [error] authentication failed for bob: invalid password\n2024-01-01 08:01:02 [info] user bob attempting login (retry)\n2024-01-01 08:01:03 [info] authentication successful for bob\n2024-01-01 08:01:04 [info] session started for user bob (session_id: def456)\n2024-01-01 08:01:05 [info] user bob accessed /dashboard'
  
  'bob' is contained here:
    2024-01-01 08:00:03 [info] user alice accessed /dashboard
    2024-01-01 08:00:04 [info] user alice accessed /profile
    2024-01-01 08:00:05 [info] user alice initiated logout
    2024-01-01 08:00:06 [info] session ended for user alice
    2024-01-01 08:01:00 [info] user bob attempting login
  ?                                 +++
    2024-01-01 08:01:01 [error] authentication failed for bob: invalid password
    2024-01-01 08:01:02 [info] user bob attempting login (retry)
    2024-01-01 08:01:03 [info] authentication successful for bob
    2024-01-01 08:01:04 [info] session started for user bob (session_id: def456)
    2024-01-01 08:01:05 [info] user bob accessed /dashboard
FAILED tests/test_log_processor_integration.py::TestLogProcessorIntegration::test_error_analysis_workflow - AssertionError: assert 1 >= 2
 +  where 1 = len([TextChunk(content='2024-01-01 08:00:00 [INFO] System healthy\n2024-01-01 08:00:30 [INFO] Processing batch 1\n2024-01-01 08:01:00 [ERROR] Failed to process item 42\n2024-01-01 08:01:01 [ERROR] Database timeout\n2024-01-01 08:01:02 [ERROR] Retry failed\n2024-01-01 08:01:30 [INFO] Switching to backup database\n2024-01-01 08:02:00 [INFO] Processing resumed\n2024-01-01 08:02:30 [INFO] Batch 2 completed\n2024-01-01 08:03:00 [CRITICAL] Out of memory error\n2024-01-01 08:03:01 [INFO] Emergency garbage collection\n2024-01-01 08:03:30 [INFO] Memory recovered', start_line=1, end_line=11, start_byte=0, end_byte=515, metadata={'entry_count': 11, 'formats': ['iso_timestamp'], 'levels': ['INFO', 'ERROR', 'CRITICAL'], 'has_errors': True, 'error_count': 4}, chunk_type='log')])
FAILED tests/test_markdown_processor.py::TestMarkdownProcessor::test_validate_chunk - AssertionError: assert not True
 +  where True = validate_chunk(CodeChunk(language='markdown', file_path='test.md', node_type='paragraph', start_line=1, end_line=1, byte_start=0, byte_end=2, parent_context='', content='Hi', chunk_id='94dd9e08c129c785', parent_chunk_id=None, references=[], dependencies=[], metadata={'tokens': 1}, node_id='ff0a24a2df54df7607b54a4610cca275c4fea98f', file_id='3a18941dbd7f493a53d8de17630361e3be6a9fa4', symbol_id=None, parent_route=[]))
 +    where validate_chunk = <chunker.processors.markdown.MarkdownProcessor object at 0x73e4d5bb8560>.validate_chunk
FAILED tests/test_matlab_language.py::TestMATLABBasicChunking::test_matlab_script - assert 0 >= 1
 +  where 0 = len([])
FAILED tests/test_matlab_language.py::TestMATLABBasicChunking::test_matlab_classdef - assert False
 +  where False = any(<generator object TestMATLABBasicChunking.test_matlab_classdef.<locals>.<genexpr> at 0x73e4d5be8ba0>)
FAILED tests/test_matlab_language.py::TestMATLABEdgeCases::test_matlab_with_only_comments - assert 0 >= 1
 +  where 0 = len([])
FAILED tests/test_matlab_language.py::TestMATLABEdgeCases::test_matlab_with_anonymous_functions - assert 0 >= 1
 +  where 0 = len([])
FAILED tests/test_matlab_language.py::TestMATLABEdgeCases::test_matlab_with_events_enumeration - assert False
 +  where False = any(<generator object TestMATLABEdgeCases.test_matlab_with_events_enumeration.<locals>.<genexpr> at 0x73e4d5c0d2f0>)
FAILED tests/test_metadata_extraction.py::TestIntegrationWithChunker::test_chunk_with_metadata_javascript - StopIteration
FAILED tests/test_multi_language.py::TestMultiLanguageProcessor::test_group_by_feature - AssertionError: assert 1 == 2
 +  where 1 = len([CodeChunk(language='python', file_path='features/users/backend/user_service.py', node_type='class_definition', start_line=1, end_line=40, byte_start=0, byte_end=800, parent_context='', content='class UserService:\n    def get_user(self): pass', chunk_id='709833e2d09e46c6', parent_chunk_id=None, references=[], dependencies=[], metadata={}, node_id='361703266cb165f42b4493347c05ebebafd63571', file_id='87ee3b9aeea3903ca28fee817158dd2d78590413', symbol_id=None, parent_route=[])])
FAILED tests/test_nasm_language.py::TestNASMPlugin::test_label_chunking - assert 0 >= 1
 +  where 0 = len([])
FAILED tests/test_nasm_language.py::TestNASMPlugin::test_section_chunking - assert 0 >= 3
 +  where 0 = len([])
FAILED tests/test_nasm_language.py::TestNASMPlugin::test_macro_chunking - assert 0 >= 2
 +  where 0 = len([])
FAILED tests/test_nasm_language.py::TestNASMPlugin::test_struc_chunking - assert 0 >= 2
 +  where 0 = len([])
FAILED tests/test_nasm_language.py::TestNASMPlugin::test_global_extern_directives - assert 0 >= 2
 +  where 0 = len([])
FAILED tests/test_nasm_language.py::TestNASMPlugin::test_complex_assembly_file - assert 0 >= 3
 +  where 0 = len([])
FAILED tests/test_ocaml_language.py::TestOCamlBasicChunking::test_simple_functions - chunker.exceptions.LanguageNotFoundError: Language 'ocaml' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=ocaml, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_ocaml_language.py::TestOCamlBasicChunking::test_type_definitions - chunker.exceptions.LanguageNotFoundError: Language 'ocaml' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=ocaml, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_ocaml_language.py::TestOCamlBasicChunking::test_module_definitions - chunker.exceptions.LanguageNotFoundError: Language 'ocaml' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=ocaml, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_ocaml_language.py::TestOCamlBasicChunking::test_exception_definitions - chunker.exceptions.LanguageNotFoundError: Language 'ocaml' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=ocaml, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_ocaml_language.py::TestOCamlBasicChunking::test_class_definitions - chunker.exceptions.LanguageNotFoundError: Language 'ocaml' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=ocaml, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_ocaml_language.py::TestOCamlContractCompliance::test_get_semantic_chunks - chunker.exceptions.LanguageNotFoundError: Language 'ocaml' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=ocaml, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_ocaml_language.py::TestOCamlEdgeCases::test_empty_ocaml_file - chunker.exceptions.LanguageNotFoundError: Language 'ocaml' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=ocaml, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_ocaml_language.py::TestOCamlEdgeCases::test_ocaml_with_only_comments - chunker.exceptions.LanguageNotFoundError: Language 'ocaml' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=ocaml, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_ocaml_language.py::TestOCamlEdgeCases::test_ocaml_with_operators - chunker.exceptions.LanguageNotFoundError: Language 'ocaml' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=ocaml, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_ocaml_language.py::TestOCamlEdgeCases::test_ocaml_with_gadt - chunker.exceptions.LanguageNotFoundError: Language 'ocaml' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=ocaml, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_ocaml_language.py::TestOCamlEdgeCases::test_ocaml_interface_file - chunker.exceptions.LanguageNotFoundError: Language 'ocaml' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=ocaml, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_optimization.py::TestChunkOptimizer::test_coherence_score_calculation - assert 1.0 < 1
 +  where 1.0 = OptimizationMetrics(original_count=2, optimized_count=2, avg_tokens_before=13.5, avg_tokens_after=13.5, coherence_score=1.0, token_efficiency=0.135).coherence_score
FAILED tests/test_overlapping_fallback_isolated.py::TestOverlappingFallbackChunker::test_fixed_overlap_by_lines - assert 6 == 5
FAILED tests/test_parallel.py::TestFailureHandling::test_permission_denied_handling - PermissionError: [Errno 13] Permission denied: '/tmp/tmpfaj31ujq/restricted.py'
FAILED tests/test_parallel.py::TestFailureHandling::test_worker_crash_handling - _pickle.PicklingError: Can't pickle <class 'unittest.mock.MagicMock'>: it's not the same object as unittest.mock.MagicMock
FAILED tests/test_parser_plugin_integration.py::TestParserPoolManagement::test_parser_pool_size_limits_for_plugins - queue.Full
FAILED tests/test_parser_plugin_integration.py::TestIntegrationPatterns::test_fallback_pattern - TypeError: MockDynamicParser.parse() takes from 2 to 3 positional arguments but 4 were given
FAILED tests/test_phase10_interface_compatibility.py::TestPhase10InterfaceCompatibility::test_incremental_with_optimization - TypeError: TestPhase10InterfaceCompatibility.test_incremental_with_optimization.<locals>.MockOptimizer.merge_small_chunks() got an unexpected keyword argument 'min_tokens'
FAILED tests/test_phase11_comprehensive_integration.py::TestPhase11ComprehensiveIntegration::test_config_file_processing - NotImplementedError: ConfigProcessor must implement either the structured approach (detect_format, parse_structure, chunk_content) or override the process method
FAILED tests/test_phase11_comprehensive_integration.py::TestPhase11ComprehensiveIntegration::test_mixed_content_repository - NotImplementedError: ConfigProcessor must implement either the structured approach (detect_format, parse_structure, chunk_content) or override the process method
FAILED tests/test_phase11_comprehensive_integration.py::TestPhase11ComprehensiveIntegration::test_performance_with_large_files - TypeError: 'str' object cannot be interpreted as an integer
FAILED tests/test_phase13_distribution_real.py::TestDistributionIntegrationReal::test_pypi_publishing_validates_package - assert False
FAILED tests/test_phase13_distribution_real.py::TestDistributionIntegrationReal::test_docker_image_works_cross_platform - StopIteration
FAILED tests/test_phase13_integration.py::TestDistributionIntegration::test_release_process_updates_all_locations - assert False
 +  where False = any(<generator object TestDistributionIntegration.test_release_process_updates_all_locations.<locals>.<genexpr> at 0x73e4ddb64900>)
FAILED tests/test_phase13_real_integration.py::TestPhase13RealIntegration::test_cross_component_integration - AttributeError: 'BuildSystem' object has no attribute 'detect_platform'
FAILED tests/test_php_language.py::TestPHPLanguage::test_php_basic_chunking - chunker.exceptions.LanguageNotFoundError: Language 'php' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=php, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_php_language.py::TestPHPLanguage::test_php_interface_abstract - chunker.exceptions.LanguageNotFoundError: Language 'php' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=php, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_php_language.py::TestPHPLanguage::test_php_anonymous_functions - chunker.exceptions.LanguageNotFoundError: Language 'php' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=php, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_php_language.py::TestPHPLanguage::test_php_modern_syntax - chunker.exceptions.LanguageNotFoundError: Language 'php' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=php, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_php_language.py::TestPHPLanguage::test_php_mixed_content - chunker.exceptions.LanguageNotFoundError: Language 'php' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=php, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_php_language.py::TestPHPLanguage::test_php_namespace_use - chunker.exceptions.LanguageNotFoundError: Language 'php' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=php, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_php_language.py::TestPHPLanguage::test_php_file_extensions[.php] - assert None is not None
FAILED tests/test_php_language.py::TestPHPLanguage::test_php_file_extensions[.php3] - assert None is not None
FAILED tests/test_php_language.py::TestPHPLanguage::test_php_file_extensions[.php4] - assert None is not None
FAILED tests/test_php_language.py::TestPHPLanguage::test_php_file_extensions[.php5] - assert None is not None
FAILED tests/test_php_language.py::TestPHPLanguage::test_php_file_extensions[.phtml] - assert None is not None
FAILED tests/test_plugin_initialization_failures.py::TestPluginInitializationFailures::test_plugin_constructor_exception - Failed: DID NOT RAISE <class 'RuntimeError'>
FAILED tests/test_plugin_initialization_failures.py::TestPluginInitializationFailures::test_plugin_missing_required_properties - Failed: DID NOT RAISE any of (<class 'TypeError'>, <class 'RuntimeError'>)
FAILED tests/test_plugin_initialization_failures.py::TestPluginInitializationFailures::test_plugin_parser_initialization_failure - KeyError: 'Language parser_fail not found'
FAILED tests/test_plugin_initialization_failures.py::TestPluginInitializationFailures::test_plugin_with_invalid_language_name - Failed: DID NOT RAISE any of (<class 'TypeError'>, <class 'RuntimeError'>)
FAILED tests/test_plugin_initialization_failures.py::TestPluginInitializationFailures::test_plugin_configuration_validation_failure - KeyError: 'Language validated not found'
FAILED tests/test_query_advanced.py::TestNaturalLanguageQueryEngine::test_structured_search - assert 0 == 3
 +  where 0 = len([])
FAILED tests/test_query_advanced.py::TestAdvancedQueryIndex::test_tokenization - AssertionError: assert 'calculatesum' in set()
FAILED tests/test_query_advanced.py::TestAdvancedQueryIndex::test_statistics - assert 0 > 0
FAILED tests/test_query_advanced.py::TestSmartQueryOptimizer::test_query_suggestions - assert 0 > 0
 +  where 0 = len([])
FAILED tests/test_query_advanced.py::TestSmartQueryOptimizer::test_empty_query_optimization - TypeError: unsupported operand type(s) for @: 'str' and 'type'
FAILED tests/test_query_advanced.py::TestSmartQueryOptimizer::test_preserve_query_structure - AttributeError: 'TestSmartQueryOptimizer' object has no attribute 'optimize_query'
FAILED tests/test_r_language.py::TestRBasicChunking::test_simple_function - AssertionError: assert 3 == 2
 +  where 3 = len([CodeChunk(language='r', file_path='/tmp/pytest-of-jenner/pytest-55/test_simple_function1/simple.R', node_type='comment', start_line=1, end_line=1, byte_start=0, byte_end=17, parent_context='', content='# Simple function', chunk_id='3c3d9dab0b1430473096f39f5289879c171ada22', parent_chunk_id=None, references=[], dependencies=[], metadata={}, node_id='3c3d9dab0b1430473096f39f5289879c171ada22', file_id='9fa4a71be19c13e7e4848d793b4b83be44a90209', symbol_id=None, parent_route=['comment']), CodeChunk(language='r', file_path='/tmp/pytest-of-jenner/pytest-55/test_simple_function1/simple.R', node_type='function_definition', start_line=2, end_line=4, byte_start=33, byte_end=69, parent_context='', content='function(a, b) {\n    return(a + b)\n}', chunk_id='feb13911ea4801581a929791e9b99d7e74ec383b', parent_chunk_id=None, references=[], dependencies=[], metadata={}, node_id='feb13911ea4801581a929791e9b99d7e74ec383b', file_id='9fa4a71be19c13e7e4848d793b4b83be44a90209', symbol_id=None, parent_route=['function_definition']), CodeChunk(language='r', file_path='/tmp/pytest-of-jenner/pytest-55/test_simple_function1/simple.R', node_type='function_definition', start_line=7, end_line=9, byte_start=115, byte_end=143, parent_context='', content='function(x, y) {\n    x * y\n}', chunk_id='e4ccf24a42fe638e5b8a75250ac87047f29eee03', parent_chunk_id=None, references=[], dependencies=[], metadata={}, node_id='e4ccf24a42fe638e5b8a75250ac87047f29eee03', file_id='9fa4a71be19c13e7e4848d793b4b83be44a90209', symbol_id=None, parent_route=['function_definition'])])
FAILED tests/test_r_language.py::TestRBasicChunking::test_nested_functions - assert False
 +  where False = any(<generator object TestRBasicChunking.test_nested_functions.<locals>.<genexpr> at 0x73e4d5a676b0>)
FAILED tests/test_r_language.py::TestRBasicChunking::test_s3_methods - assert False
 +  where False = any(<generator object TestRBasicChunking.test_s3_methods.<locals>.<genexpr> at 0x73e4d5a65be0>)
FAILED tests/test_r_language.py::TestREdgeCases::test_r_with_complex_assignments - assert 0 == 1
 +  where 0 = len([])
FAILED tests/test_r_language.py::TestREdgeCases::test_r_markdown_chunks - assert 0 >= 2
 +  where 0 = len([])
FAILED tests/test_r_language.py::TestREdgeCases::test_r_with_s4_classes - assert False
 +  where False = any(<generator object TestREdgeCases.test_r_with_s4_classes.<locals>.<genexpr> at 0x73e4d83b5f20>)
FAILED tests/test_relationship_tracker.py::TestASTRelationshipTracker::test_infer_javascript_inheritance - assert 0 >= 1
 +  where 0 = len([])
FAILED tests/test_relationship_tracker.py::TestASTRelationshipTracker::test_infer_javascript_calls - assert 0 >= 1
 +  where 0 = len([])
FAILED tests/test_relationships.py::test_chunk_id_generation - AssertionError: assert 40 == 16
 +  where 40 = len('951ad0c60662d4b74447fa789f806a8a7d48ca4d')
FAILED tests/test_relationships.py::test_parent_child_relationships - AssertionError: assert 40 == 16
 +  where 40 = len('e93ae9b5c4a2ca875aa4a163de2c7ff9bdb7284c')
 +    where 'e93ae9b5c4a2ca875aa4a163de2c7ff9bdb7284c' = CodeChunk(language='python', file_path='/tmp/tmpk30w__la.py', node_type='class_definition', start_line=2, end_line=8, byte_start=1, byte_end=121, parent_context='', content='class OuterClass:\n    def method1(self):\n        pass\n\n    class InnerClass:\n        def method2(self):\n            pass', chunk_id='e93ae9b5c4a2ca875aa4a163de2c7ff9bdb7284c', parent_chunk_id=None, references=[], dependencies=[], metadata={'dependencies': [], 'exports': ['InnerClass', 'OuterClass', 'method1', 'method2', 'self'], 'complexity': {'cyclomatic': 1, 'cognitive': 0, 'nesting_depth': 2, 'lines_of_code': 7, 'logical_lines': 6}}, node_id='e93ae9b5c4a2ca875aa4a163de2c7ff9bdb7284c', file_id='1274af912240fd524eeeef3a62a0818c526cf65e', symbol_id=None, parent_route=['class_definition']).chunk_id
FAILED tests/test_scala_language.py::TestScalaBasicChunking::test_classes_and_objects - AssertionError: assert 'case_class_definition' in {'function_declaration', 'function_definition', 'val_definition', 'trait_definition', 'object_definition', 'package_clause', 'class_definition'}
FAILED tests/test_semantic_chunker.py::TestSemanticChunker::test_basic_chunking - AssertionError: assert ('class_definition' in {'module'} or 'merged_chunk' in {'module'})
FAILED tests/test_semantic_chunker.py::TestSemanticChunker::test_complexity_splitting - assert 3.0 > 10.0
FAILED tests/test_semantic_chunker.py::TestSemanticChunker::test_semantic_boundaries - assert 1 >= 3
 +  where 1 = len([CodeChunk(language='python', file_path='test.py', node_type='module', start_line=2, end_line=34, byte_start=1, byte_end=599, parent_context='module', content='# Configuration section\nDEBUG = True\nAPI_KEY = "secret"\nTIMEOUT = 30\n\n# Data models\nclass User:\n    def __init__(self, name):\n        self.name = name\n\nclass Product:\n    def __init__(self, id, name):\n        self.id = id\n        self.name = name\n\n# Business logic\ndef calculate_discount(user, product):\n    if user.is_premium:\n        return 0.2\n    return 0.1\n\ndef apply_discount(price, discount):\n    return price * (1 - discount)\n\n# API handlers\nasync def get_user(user_id):\n    # Fetch user from database\n    pass\n\nasync def get_product(product_id):\n    # Fetch product from database\n    pass\n', chunk_id='1bfacfc2f49480bd', parent_chunk_id=None, references=[], dependencies=[], metadata={'semantic': {'role': 'state_management', 'patterns': ['io_operation', 'computation', 'initialization'], 'side_effects': [{'node_type': 'assignment', 'type': 'state_mutation', 'severity': 'medium'}, {'node_type': 'assignment', 'type': 'state_mutation', 'severity': 'medium'}, {'node_type': 'assignment', 'type': 'state_mutation', 'severity': 'medium'}, {'node_type': 'assignment', 'type': 'state_mutation', 'severity': 'medium'}, {'node_type': 'assignment', 'type': 'state_mutation', 'severity': 'medium'}, {'node_type': 'assignment', 'type': 'state_mutation', 'severity': 'medium'}], 'data_flow': {'inputs': ['name', 'user', 'product_id', 'product', 'id', 'self', 'user_id', 'discount', 'price'], 'outputs': ['name', 'self.id', 'DEBUG', 'id', 'self.name', 'TIMEOUT', 'API_KEY'], 'transformations': []}, 'purity_score': 1.0, 'cohesion_score': 0.6, 'markers': ['interface']}, 'complexity': {'score': 1.0, 'cyclomatic': 1, 'cognitive': 0, 'max_nesting': 0, 'dependencies': [], 'function_calls': 0, 'branches': 0, 'loops': 0, 'exceptions': 0}, 'depth': 0}, node_id='2cec7ec5c821370492837a698077069f83f95149', file_id='c01476dc52ec07aad08831f20e0c17f3c97b7037', symbol_id=None, parent_route=[])])
FAILED tests/test_sliding_integration.py::TestSlidingWindowIntegration::test_processor_selection - AttributeError: 'PosixPath' object has no attribute 'endswith'
FAILED tests/test_sliding_integration.py::TestSlidingWindowIntegration::test_error_handling - RuntimeError: Processing failed
FAILED tests/test_sql_language.py::TestSQLBasicChunking::test_simple_create_table - chunker.exceptions.LanguageNotFoundError: Language 'sql' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=sql, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_sql_language.py::TestSQLBasicChunking::test_multiple_statements - chunker.exceptions.LanguageNotFoundError: Language 'sql' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=sql, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_sql_language.py::TestSQLBasicChunking::test_create_function - chunker.exceptions.LanguageNotFoundError: Language 'sql' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=sql, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_sql_language.py::TestSQLBasicChunking::test_create_procedure - chunker.exceptions.LanguageNotFoundError: Language 'sql' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=sql, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_sql_language.py::TestSQLBasicChunking::test_complex_select_with_cte - chunker.exceptions.LanguageNotFoundError: Language 'sql' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=sql, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_sql_language.py::TestSQLContractCompliance::test_get_semantic_chunks - chunker.exceptions.LanguageNotFoundError: Language 'sql' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=sql, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_sql_language.py::TestSQLEdgeCases::test_empty_sql_file - chunker.exceptions.LanguageNotFoundError: Language 'sql' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=sql, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_sql_language.py::TestSQLEdgeCases::test_sql_with_only_comments - chunker.exceptions.LanguageNotFoundError: Language 'sql' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=sql, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_sql_language.py::TestSQLEdgeCases::test_sql_with_transactions - chunker.exceptions.LanguageNotFoundError: Language 'sql' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=sql, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_sql_language.py::TestSQLEdgeCases::test_sql_with_views - chunker.exceptions.LanguageNotFoundError: Language 'sql' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=sql, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_sql_language.py::TestSQLEdgeCases::test_sql_with_triggers - chunker.exceptions.LanguageNotFoundError: Language 'sql' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=sql, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_structured_export_integration.py::TestStructuredExportIntegration::test_end_to_end_jsonl_export - assert 0 > 0
FAILED tests/test_structured_export_integration.py::TestStructuredExportIntegration::test_end_to_end_dot_export - assert '->' in 'digraph CodeStructure {\n  rankdir=DOT;\n  node [shape="box", style="rounded,filled", fillcolor="lightblue"];\n  // Generated by TreeSitter Chunker - 2025-08-13T03:46:48.473899+00:00\n  // Chunks: 6, Relationships: 0\n\n  // Nodes\n  "c8ea6041ea64826842950bf6f27231e62aedf665" [label="method_definition\\nlanguage: javascript"];\n  "7106589122d074dc405d2ddd578d02b8531207f8" [label="method_definition\\nlanguage: javascript"];\n  "89c06a20a473ff4ecd08cfa97d3370c72b8a18f9" [label="method_definition\\nlanguage: javascript"];\n  "25e20fa221f47a02cb9d9122d653c8b03dcd5748" [label="method_definition\\nlanguage: javascript"];\n  "ef0329f0a34e401e06a227af4bebb86a577da308" [label="method_definition\\nlanguage: javascript"];\n  "11845e2521994f1b3215b6da2479b57088371faa" [label="method_definition\\nlanguage: javascript"];\n\n  // Edges\n}'
FAILED tests/test_structured_export_integration.py::TestStructuredExportIntegration::test_relationship_tracking_javascript - assert 0 >= 2
 +  where 0 = len([])
FAILED tests/test_swift_language.py::TestSwiftLanguage::test_swift_basic_chunking - chunker.exceptions.LanguageNotFoundError: Language 'swift' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=swift, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_swift_language.py::TestSwiftLanguage::test_swift_protocols_extensions - chunker.exceptions.LanguageNotFoundError: Language 'swift' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=swift, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_swift_language.py::TestSwiftLanguage::test_swift_enums_associated_values - chunker.exceptions.LanguageNotFoundError: Language 'swift' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=swift, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_swift_language.py::TestSwiftLanguage::test_swift_async_await - chunker.exceptions.LanguageNotFoundError: Language 'swift' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=swift, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_swift_language.py::TestSwiftLanguage::test_swift_property_wrappers - chunker.exceptions.LanguageNotFoundError: Language 'swift' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=swift, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_swift_language.py::TestSwiftLanguage::test_swift_generics_constraints - chunker.exceptions.LanguageNotFoundError: Language 'swift' not found. Available languages: c, c_sharp, clojure, cpp, dart, dockerfile, elixir, haskell, javascript, julia, kotlin, matlab, nasm, python, r, rust, scala, svelte, vue (requested=swift, available=['c', 'c_sharp', 'clojure', 'cpp', 'dart', 'dockerfile', 'elixir', 'haskell', 'javascript', 'julia', 'kotlin', 'matlab', 'nasm', 'python', 'r', 'rust', 'scala', 'svelte', 'vue'])
FAILED tests/test_swift_language.py::TestSwiftLanguage::test_swift_file_extensions[.swift] - assert None is not None
FAILED tests/test_token_integration.py::TestTokenAwareChunker::test_multiple_languages - assert 0 > 0
 +  where 0 = len([])
FAILED tests/test_types.py::TestChunkIdGeneration::test_auto_id_generation_on_init - AssertionError: assert 16 == 40
 +  where 16 = len('68ba60b4085c73f5')
 +    where '68ba60b4085c73f5' = CodeChunk(language='python', file_path='/test/file.py', node_type='function', start_line=1, end_line=5, byte_start=0, byte_end=100, parent_context='module', content='def test():\n    pass', chunk_id='68ba60b4085c73f5', parent_chunk_id=None, references=[], dependencies=[], metadata={}, node_id='0b729f1aa58e1595504f445d71c3528bc08efd73', file_id='ff3dab7acf6fb2820c43d93ea78b6b3f31c74383', symbol_id=None, parent_route=[]).chunk_id
FAILED tests/test_types.py::TestChunkIdGeneration::test_id_generation_uniqueness - AssertionError: assert 2 >= 3
 +  where 2 = len({'72eef88b3a3e0549', '75a9396fef011bfd'})
FAILED tests/test_types.py::TestDataclassFeatures::test_equality - AssertionError: assert CodeChunk(language='python', file_path='/test/file.py', node_type='function', start_line=1, end_line=5, byte_start=0, byte_end=100, parent_context='module', content='def test(): pass', chunk_id='e659de6738730b5d', parent_chunk_id=None, references=[], dependencies=[], metadata={}, node_id='c5beec060f91493b624f13d15db5bfdf7dadf32e', file_id='ff3dab7acf6fb2820c43d93ea78b6b3f31c74383', symbol_id=None, parent_route=[]) != CodeChunk(language='python', file_path='/test/file.py', node_type='function', start_line=1, end_line=5, byte_start=0, byte_end=100, parent_context='module', content='def test2(): pass', chunk_id='e659de6738730b5d', parent_chunk_id=None, references=[], dependencies=[], metadata={}, node_id='c5beec060f91493b624f13d15db5bfdf7dadf32e', file_id='ff3dab7acf6fb2820c43d93ea78b6b3f31c74383', symbol_id=None, parent_route=[])
FAILED tests/test_typescript_language.py::TestTypeScriptLanguage::test_typescript_basic_chunking - AssertionError: assert 2 >= 4
 +  where 2 = len([CodeChunk(language='typescript', file_path='', node_type='method_definition', start_line=11, end_line=13, byte_start=132, byte_end=196, parent_context='', content='addUser(user: User): void {\n        this.users.push(user);\n    }', chunk_id='3559b135cb204f9378c0ccd5f122785b3a4a14cc', parent_chunk_id=None, references=[], dependencies=['User', 'user'], metadata={'signature': {'name': 'addUser', 'parameters': [{'name': 'user', 'type': 'User', 'default': None}], 'return_type': 'void', 'decorators': [], 'modifiers': []}, 'dependencies': ['User', 'user'], 'exports': ['addUser'], 'complexity': {'cyclomatic': 1, 'cognitive': 0, 'nesting_depth': 0, 'lines_of_code': 3, 'logical_lines': 3}}, node_id='3559b135cb204f9378c0ccd5f122785b3a4a14cc', file_id='d0998110d4f271571ea799f05b153504a56056c0', symbol_id='392a8a671e179cc2fa7f636a4c1b80b4ca6e5712', parent_route=['method_definition']), CodeChunk(language='typescript', file_path='', node_type='method_definition', start_line=15, end_line=17, byte_start=202, byte_end=297, parent_context='', content='getUser(id: number): User | undefined {\n        return this.users.find(u => u.id === id);\n    }', chunk_id='87f4a85d1ec38b24ea6089fbd0115665b8098555', parent_chunk_id=None, references=[], dependencies=['User', 'id', 'u'], metadata={'signature': {'name': 'getUser', 'parameters': [{'name': 'id', 'type': 'number', 'default': None}], 'return_type': 'User | undefined', 'decorators': [], 'modifiers': []}, 'dependencies': ['User', 'id', 'u'], 'exports': ['getUser'], 'complexity': {'cyclomatic': 1, 'cognitive': 0, 'nesting_depth': 1, 'lines_of_code': 3, 'logical_lines': 3}}, node_id='87f4a85d1ec38b24ea6089fbd0115665b8098555', file_id='d0998110d4f271571ea799f05b153504a56056c0', symbol_id='2c9920b8a7ddd939b2bda6fb13cfe7ccb781a1dc', parent_route=['method_definition'])])
FAILED tests/test_typescript_language.py::TestTypeScriptLanguage::test_tsx_component_chunking - assert 0 >= 2
 +  where 0 = len([])
FAILED tests/test_typescript_language.py::TestTypeScriptLanguage::test_typescript_generics - AssertionError: assert 2 >= 3
 +  where 2 = len([CodeChunk(language='typescript', file_path='', node_type='method_definition', start_line=15, end_line=17, byte_start=415, byte_end=527, parent_context='', content='get<K extends keyof T>(key: K): T[K] | undefined {\n        return this.items.get(key) as T[K] | undefined;\n    }', chunk_id='185d8af5d756cea641a9eb1d8f3e8ac8f3b73f42', parent_chunk_id=None, references=[], dependencies=['K', 'T', 'key'], metadata={'signature': {'name': 'get', 'parameters': [{'name': 'key', 'type': 'K', 'default': None}], 'return_type': 'T[K] | undefined', 'decorators': [], 'modifiers': []}, 'dependencies': ['K', 'T', 'key'], 'exports': ['get'], 'complexity': {'cyclomatic': 2, 'cognitive': 0, 'nesting_depth': 0, 'lines_of_code': 3, 'logical_lines': 3}}, node_id='185d8af5d756cea641a9eb1d8f3e8ac8f3b73f42', file_id='d0998110d4f271571ea799f05b153504a56056c0', symbol_id='7a2f52793c947e845ade0126281796ae7f5a1955', parent_route=['method_definition']), CodeChunk(language='typescript', file_path='', node_type='method_definition', start_line=19, end_line=21, byte_start=533, byte_end=626, parent_context='', content='set<K extends keyof T>(key: K, value: T[K]): void {\n        this.items.set(key, value);\n    }', chunk_id='3f9d1afab05af3a91a15669862b7714f08d6c2cb', parent_chunk_id=None, references=[], dependencies=['K', 'T', 'key', 'value'], metadata={'signature': {'name': 'set', 'parameters': [{'name': 'key', 'type': 'K', 'default': None}, {'name': 'value', 'type': 'T[K]', 'default': None}], 'return_type': 'void', 'decorators': [], 'modifiers': []}, 'dependencies': ['K', 'T', 'key', 'value'], 'exports': ['set'], 'complexity': {'cyclomatic': 1, 'cognitive': 0, 'nesting_depth': 0, 'lines_of_code': 3, 'logical_lines': 3}}, node_id='3f9d1afab05af3a91a15669862b7714f08d6c2cb', file_id='d0998110d4f271571ea799f05b153504a56056c0', symbol_id='36aa9b840464ef54c62bc58a1bba7fe33fc0ff3a', parent_route=['method_definition'])])
FAILED tests/test_typescript_language.py::TestTypeScriptLanguage::test_typescript_decorators - AssertionError: assert 2 >= 3
 +  where 2 = len([CodeChunk(language='typescript', file_path='', node_type='method_definition', start_line=15, end_line=17, byte_start=353, byte_end=407, parent_context='', content='constructor(t: string) {\n        this.title = t;\n    }', chunk_id='d5c2637d4e9ded69b265f524ef28ba4a426e5f6e', parent_chunk_id=None, references=[], dependencies=['t'], metadata={'signature': {'name': 'constructor', 'parameters': [{'name': 't', 'type': 'string', 'default': None}], 'return_type': None, 'decorators': [], 'modifiers': []}, 'dependencies': ['t'], 'exports': ['constructor'], 'complexity': {'cyclomatic': 1, 'cognitive': 0, 'nesting_depth': 0, 'lines_of_code': 3, 'logical_lines': 3}}, node_id='d5c2637d4e9ded69b265f524ef28ba4a426e5f6e', file_id='d0998110d4f271571ea799f05b153504a56056c0', symbol_id='b564284fb81b02bbdbe2933b4dbaea0ef54d02bc', parent_route=['method_definition']), CodeChunk(language='typescript', file_path='', node_type='method_definition', start_line=20, end_line=23, byte_start=422, byte_end=525, parent_context='', content='print() {\n        console.log(`type: ${this.type}`);\n        console.log(`title: ${this.title}`);\n    }', chunk_id='a6955230b803d61bdb2147efbd5386a44177625d', parent_chunk_id=None, references=[], dependencies=[], metadata={'signature': {'name': 'print', 'parameters': [], 'return_type': None, 'decorators': [], 'modifiers': []}, 'dependencies': [], 'exports': ['print'], 'complexity': {'cyclomatic': 1, 'cognitive': 0, 'nesting_depth': 0, 'lines_of_code': 4, 'logical_lines': 4}}, node_id='a6955230b803d61bdb2147efbd5386a44177625d', file_id='d0998110d4f271571ea799f05b153504a56056c0', symbol_id='503038a713722778ddafb4fcc90faa91b633c143', parent_route=['method_definition'])])
FAILED tests/test_typescript_language.py::TestTypeScriptLanguage::test_typescript_namespace - assert None is not None
FAILED tests/test_typescript_language.py::TestTypeScriptLanguage::test_typescript_enum_chunking - assert 0 >= 3
 +  where 0 = len([])
FAILED tests/test_typescript_language.py::TestTypeScriptLanguage::test_typescript_file_extensions[.ts] - assert None is not None
FAILED tests/test_typescript_language.py::TestTypeScriptLanguage::test_typescript_file_extensions[.tsx] - assert None is not None
FAILED tests/test_typescript_language.py::TestTypeScriptLanguage::test_typescript_file_extensions[.d.ts] - assert None is not None
FAILED tests/test_visualize_ast_script.py::test_visualize_ast_script - subprocess.CalledProcessError: Command '['/home/jenner/code/treesitter-chunker/.fullenv/bin/python3.12', 'scripts/visualize_ast.py', '/tmp/pytest-of-jenner/pytest-55/test_visualize_ast_script0/sample.py', '--lang', 'python', '--out', '/tmp/pytest-of-jenner/pytest-55/test_visualize_ast_script0/out.svg']' returned non-zero exit status 1.
FAILED tests/test_wasm_language.py::TestWASMPlugin::test_module_chunking - assert 2 == 1
 +  where 2 = len([{'type': 'module', 'start_line': 2, 'end_line': 9, 'content': '(module\n  (func $add (param $a i32) (param $b i32) (result i32)\n    local.get $a\n    local.get $b\n    i32.add)\n\n  (export "add" (func $add))\n)', 'name': None}, {'type': 'module', 'start_line': 2, 'end_line': 2, 'content': 'module', 'name': None}])
FAILED tests/test_wasm_language.py::TestWASMPlugin::test_function_chunking - assert 0 >= 2
 +  where 0 = len([])
FAILED tests/test_wasm_language.py::TestWASMPlugin::test_memory_chunking - assert 0 >= 2
 +  where 0 = len([])
FAILED tests/test_wasm_language.py::TestWASMPlugin::test_table_chunking - assert 0 >= 2
 +  where 0 = len([])
FAILED tests/test_wasm_language.py::TestWASMPlugin::test_global_chunking - assert 0 >= 3
 +  where 0 = len([])
FAILED tests/test_wasm_language.py::TestWASMPlugin::test_import_export_chunking - assert 0 >= 3
 +  where 0 = len([])
FAILED tests/test_wasm_language.py::TestWASMPlugin::test_type_definitions - assert 0 >= 2
 +  where 0 = len([])
FAILED tests/test_wasm_language.py::TestWASMPlugin::test_complex_wasm_module - assert 0 >= 4
 +  where 0 = len([])
FAILED tests/test_xref_graph.py::test_xref_builds_edges_from_metadata_and_parent - AssertionError: assert False
 +  where False = <function test_xref_builds_edges_from_metadata_and_parent.<locals>.has_edge at 0x73e4ce58d440>('08c72d95298362a7733d14f1c92962a2adc5c09c', '08c72d95298362a7733d14f1c92962a2adc5c09c', 'DEFINES')
 +    where '08c72d95298362a7733d14f1c92962a2adc5c09c' = CodeChunk(language='python', file_path='/tmp/x.py', node_type='class_definition', start_line=1, end_line=3, byte_start=0, byte_end=10, parent_context='module', content='def f():\n  pass\n', chunk_id='8e311e37cd6acc27', parent_chunk_id=None, references=[], dependencies=[], metadata={'signature': {'name': 'Base'}}, node_id='08c72d95298362a7733d14f1c92962a2adc5c09c', file_id='3c318f083da1d91e511c06b84165c418b4a55d86', symbol_id=None, parent_route=[]).node_id
 +    and   '08c72d95298362a7733d14f1c92962a2adc5c09c' = CodeChunk(language='python', file_path='/tmp/x.py', node_type='method_definition', start_line=1, end_line=3, byte_start=0, byte_end=10, parent_context='module', content='def f():\n  pass\n', chunk_id='8e311e37cd6acc27', parent_chunk_id='08c72d95298362a7733d14f1c92962a2adc5c09c', references=[], dependencies=[], metadata={'signature': {'name': 'foo'}}, node_id='08c72d95298362a7733d14f1c92962a2adc5c09c', file_id='3c318f083da1d91e511c06b84165c418b4a55d86', symbol_id=None, parent_route=[]).node_id
FAILED tests/test_zig_language.py::TestZigPlugin::test_enum_chunking - assert 0 == 1
 +  where 0 = len([])
FAILED tests/test_zig_language.py::TestZigPlugin::test_test_declaration_chunking - assert 0 == 2
 +  where 0 = len([])
FAILED tests/test_zig_language.py::TestZigPlugin::test_union_chunking - assert 0 == 1
 +  where 0 = len([])
FAILED tests/test_zig_language.py::TestZigPlugin::test_error_set_chunking - assert 0 == 1
 +  where 0 = len([])
FAILED tests/test_zig_language.py::TestZigPlugin::test_comptime_chunking - assert 0 == 1
 +  where 0 = len([])
FAILED tests/test_zig_language.py::TestZigPlugin::test_complex_zig_file - assert 0 >= 1
 +  where 0 = len([])
FAILED tests/unit/context/test_context_extractor.py::TestBaseContextExtractor::test_build_context_prefix_empty - TypeError: unsupported operand type(s) for @: 'str' and 'type'
FAILED tests/unit/distribution/test_pypi_publisher.py::TestPyPIPublisher::test_publish_to_pypi - TypeError: 'classmethod' object is not callable
FAILED tests/unit/distribution/test_verifier.py::TestInstallationVerifier::test_verify_docker_installation - AttributeError: 'str' object has no attribute 'returncode'
FAILED tests/unit/distribution/test_verifier.py::TestInstallationVerifier::test_verify_homebrew_installation - AttributeError: 'str' object has no attribute 'stdout'
FAILED tests/unit/grammar/test_manager.py::TestTreeSitterGrammarManager::test_fetch_grammar_clone - AssertionError: assert 'tree-sitter-go.git' in '--depth'
FAILED tests/unit/grammar/test_manager.py::TestTreeSitterGrammarManager::test_fetch_grammar_update - AssertionError: Expected 'run' to have been called once. Called 0 times.
FAILED tests/unit/grammar/test_manager.py::TestTreeSitterGrammarManager::test_build_grammar - assert False is True
FAILED tests/unit/grammar/test_manager.py::TestTreeSitterGrammarManager::test_validate_grammar - AttributeError: <module 'chunker.grammar.manager' from '/home/jenner/code/treesitter-chunker/chunker/grammar/manager.py'> does not have the attribute 'get_parser'
ERROR tests/test_parallel_error_handling.py::TestParallelErrorHandling::test_worker_process_crash_recovery
ERROR tests/test_parallel_error_handling.py::TestParallelErrorHandling::test_worker_timeout_handling
ERROR tests/test_parallel_error_handling.py::TestParallelErrorHandling::test_resource_cleanup_after_errors
ERROR tests/test_parallel_error_handling.py::TestParallelErrorHandling::test_progress_tracking_with_failures
ERROR tests/test_parallel_error_handling.py::TestParallelErrorHandling::test_deadlock_prevention
ERROR tests/test_parallel_error_handling.py::TestParallelErrorHandling::test_memory_leak_detection
ERROR tests/test_phase10_full_integration.py::TestPhase10FullIntegration::test_complete_phase10_workflow - AttributeError: 'NoneType' object has no attribute 'parent'
ERROR tests/test_phase10_full_integration.py::TestPhase10FullIntegration::test_error_handling_and_edge_cases - AttributeError: 'NoneType' object has no attribute 'parent'
ERROR tests/test_phase10_full_integration.py::TestPhase10FullIntegration::test_performance_with_large_codebase - AttributeError: 'NoneType' object has no attribute 'parent'
ERROR tests/test_phase19_contract_compliance.py::test_template_generator_contract_compliance
ERROR tests/test_phase19_contract_compliance.py::test_grammar_manager_contract_compliance
ERROR tests/test_phase19_contract_compliance.py::test_language_plugin_contract_compliance
ERROR tests/test_sliding_integration.py::TestProcessorPerformance::test_large_file_processing
ERROR tests/test_sliding_integration.py::TestIntegrationScenarios::test_mixed_content_repository
ERROR tests/test_sliding_integration.py::TestIntegrationScenarios::test_custom_plugin_loading
==== 159 failed, 7 passed, 621 deselected, 88 warnings, 15 errors in 34.91s ====
