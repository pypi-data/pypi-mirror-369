stages:
  - publish

publish:
  rules:
      - if: $CI_COMMIT_TAG
  stage: publish
  image: python:3.13
  script:
    - pip install build twine
    - python -m build
    - python -m twine check dist/*
    - env
    - python -m twine upload --verbose -u $TWINE_USERNAME -p $TWINE_PASSWORD dist/*
