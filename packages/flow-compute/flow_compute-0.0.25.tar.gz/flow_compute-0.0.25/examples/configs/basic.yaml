# Basic Flow task configuration
#
# This is a minimal Flow configuration that:
# - Creates a single affordable GPU instance
# - Runs a simple command
# - Terminates automatically when done (via TTL)
#
# Prerequisites:
# - Flow SDK installed and configured (`flow init`)
#
# How to run:
#   flow run examples/configs/basic.yaml
#
# Expected output:
# - Creates an A100 GPU instance
# - Prints a hello message and GPU information
# - Automatically terminates after completion
# - Total runtime: ~2-3 minutes
#
# Notes:
# - Adjust `instance_type` and `max_price_per_hour` to your project/provider
# - Use `flow find_instances` to see realistic prices in your region

name: hello-gpu
unique_name: true  # Appends random suffix to avoid name conflicts
instance_type: a100
# Optional cost control (adjust to your environment). If omitted, provider tiering applies.
max_price_per_hour: 20.0

command: |
  echo "Hello from Flow GPU instance!"
  nvidia-smi
  echo "Task completed successfully"

# Enforce a short TTL to avoid surprise charges on proofs-of-concept
max_run_time_hours: 0.5