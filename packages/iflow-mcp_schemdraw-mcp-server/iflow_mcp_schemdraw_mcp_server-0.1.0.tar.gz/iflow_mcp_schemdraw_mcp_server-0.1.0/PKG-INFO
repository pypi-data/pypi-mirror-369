Metadata-Version: 2.4
Name: iflow-mcp_schemdraw-mcp-server
Version: 0.1.0
Summary: MCP Server for schemdraw - Electronic circuit diagram drawing
Project-URL: Homepage, https://github.com/fukayatti/schemdraw-mcp-server
Project-URL: Repository, https://github.com/fukayatti/schemdraw-mcp-server
Project-URL: Issues, https://github.com/fukayatti/schemdraw-mcp-server/issues
Author-email: fukayatti0 <contact@fukayatti0.dev>
License: MIT
Keywords: circuit,diagram,electronics,mcp,schemdraw
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Requires-Python: >=3.10
Requires-Dist: matplotlib>=3.5.0
Requires-Dist: mcp>=1.0.0
Requires-Dist: numpy>=1.20.0
Requires-Dist: pillow>=8.0.0
Requires-Dist: schemdraw>=0.15
Provides-Extra: dev
Requires-Dist: black>=23.0.0; extra == 'dev'
Requires-Dist: flake8>=6.0.0; extra == 'dev'
Requires-Dist: isort>=5.12.0; extra == 'dev'
Requires-Dist: mypy>=1.0.0; extra == 'dev'
Requires-Dist: pytest-asyncio>=0.21.0; extra == 'dev'
Requires-Dist: pytest>=7.0.0; extra == 'dev'
Description-Content-Type: text/markdown

# Schemdraw MCP Server

[![Python](https://img.shields.io/badge/python-3.10+-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![MCP](https://img.shields.io/badge/MCP-Compatible-green.svg)](https://modelcontextprotocol.io/)

å›è·¯å›³æç”»ãƒ©ã‚¤ãƒ–ãƒ©ãƒª `schemdraw` ã®ãŸã‚ã® Model Context Protocol (MCP) ã‚µãƒ¼ãƒãƒ¼ã§ã™ã€‚Claude ã‚„ä»–ã® AI ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆãŒé›»å­å›è·¯å›³ã‚’ä½œæˆãƒ»ç·¨é›†ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

## ğŸŒŸ æ©Ÿèƒ½

- **å›è·¯å›³ä½œæˆ**: åŸºæœ¬çš„ãªé›»å­å›è·¯ç´ å­ï¼ˆæŠµæŠ—ã€ã‚³ãƒ³ãƒ‡ãƒ³ã‚µã€ãƒ€ã‚¤ã‚ªãƒ¼ãƒ‰ç­‰ï¼‰ã®é…ç½®
- **è‡ªå‹•ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ã®æ¥ç¶šã¨æœ€é©ãªé…ç½®
- **å¤šæ§˜ãªå‡ºåŠ›å½¢å¼**: PNGã€SVGã€PDF å½¢å¼ã§ã®å›è·¯å›³å‡ºåŠ›
- **æŸ”è»Ÿãªæ§‹æˆ**: ã‚·ãƒ³ãƒ—ãƒ«ãªå›è·¯ã‹ã‚‰ãƒ«ãƒ¼ãƒ—å›è·¯ã¾ã§å¯¾å¿œ
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç·¨é›†**: å›è·¯ã®å‹•çš„ãªå¤‰æ›´ã¨æ›´æ–°

## ğŸ“‹ å¿…è¦æ¡ä»¶

- Python 3.10+
- uv (æ¨å¥¨) ã¾ãŸã¯ pip

## ğŸš€ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### uv ã‚’ä½¿ç”¨ï¼ˆæ¨å¥¨ï¼‰

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/fukayatti/schemdraw-mcp-server.git
cd schemdraw-mcp-server

# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
uv sync

# é–‹ç™ºç”¨ä¾å­˜é–¢ä¿‚ã‚‚å«ã‚ã‚‹å ´åˆ
uv sync --all-extras
```

### pip ã‚’ä½¿ç”¨

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/fukayatti/schemdraw-mcp-server.git
cd schemdraw-mcp-server

# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -e .

# é–‹ç™ºç”¨ä¾å­˜é–¢ä¿‚ã‚‚å«ã‚ã‚‹å ´åˆ
pip install -e ".[dev]"
```

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### 1. MCP ã‚µãƒ¼ãƒãƒ¼ã¨ã—ã¦èµ·å‹•

```bash
# æ¨™æº–å…¥å‡ºåŠ›ã§ MCP ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
uv run python server.py

# ã¾ãŸã¯ JSON-RPC over stdio ã§èµ·å‹•
python server.py --stdio
```

### 2. Claude Desktop ã§ã®è¨­å®š

`claude_desktop_config.json` ãƒ•ã‚¡ã‚¤ãƒ«ã«ä»¥ä¸‹ã‚’è¿½åŠ ï¼š

```json
{
  "mcpServers": {
    "schemdraw": {
      "command": "uv",
      "args": ["run", "python", "/path/to/schemdraw-mcp-server/server.py"],
      "cwd": "/path/to/schemdraw-mcp-server"
    }
  }
}
```

### 3. åŸºæœ¬çš„ãªä½¿ç”¨ä¾‹

Claude ã§ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ãã¾ã™ï¼š

> æŠµæŠ—ã¨ã‚³ãƒ³ãƒ‡ãƒ³ã‚µã¨ LED ã‚’ä½¿ã£ãŸã‚·ãƒ³ãƒ—ãƒ«ãªå›è·¯å›³ã‚’ä½œæˆã—ã¦ãã ã•ã„

## ğŸ› ï¸ é–‹ç™º

### é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# é–‹ç™ºç”¨ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
uv sync --all-extras

# ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
uv run black .
uv run isort .

# ãƒªãƒ³ãƒˆãƒã‚§ãƒƒã‚¯
uv run flake8 .
uv run mypy .

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
uv run pytest
```

## ğŸ“š ã‚µãƒãƒ¼ãƒˆã•ã‚Œã‚‹å›è·¯ç´ å­

### åŸºæœ¬ç´ å­

- `resistor` - æŠµæŠ—å™¨
- `capacitor` - ã‚³ãƒ³ãƒ‡ãƒ³ã‚µ
- `inductor` - ã‚¤ãƒ³ãƒ€ã‚¯ã‚¿
- `diode` - ãƒ€ã‚¤ã‚ªãƒ¼ãƒ‰

### é›»æº

- `voltage_source` - é›»åœ§æº
- `current_source` - é›»æµæº
- `battery` - ãƒãƒƒãƒ†ãƒªãƒ¼

### åŠå°ä½“

- `bjt_npn` - NPN ãƒã‚¤ãƒãƒ¼ãƒ©ãƒˆãƒ©ãƒ³ã‚¸ã‚¹ã‚¿
- `bjt_pnp` - PNP ãƒã‚¤ãƒãƒ¼ãƒ©ãƒˆãƒ©ãƒ³ã‚¸ã‚¹ã‚¿
- `mosfet_n` - N-ch MOSFET
- `mosfet_p` - P-ch MOSFET

### æ¼”ç®—å¢—å¹…å™¨

- `opamp` - ã‚ªãƒšã‚¢ãƒ³ãƒ—

### ãƒ­ã‚¸ãƒƒã‚¯ã‚²ãƒ¼ãƒˆ

- `and_gate` - AND ã‚²ãƒ¼ãƒˆ
- `or_gate` - OR ã‚²ãƒ¼ãƒˆ
- `not_gate` - NOT ã‚²ãƒ¼ãƒˆ
- `nand_gate` - NAND ã‚²ãƒ¼ãƒˆ
- `nor_gate` - NOR ã‚²ãƒ¼ãƒˆ
- `xor_gate` - XOR ã‚²ãƒ¼ãƒˆ

### ãã®ä»–

- `ground` - ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰
- `vdd` - é›»æº
- `vss` - è² é›»æº
- `label` - ãƒ©ãƒ™ãƒ«

## ğŸ”Œ æä¾›ã•ã‚Œã‚‹ MCP ãƒ„ãƒ¼ãƒ«

### `create_circuit`

æ–°ã—ã„å›è·¯å›³ã‚’ä½œæˆã—ã¾ã™ã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:**

- `title` (ã‚ªãƒ—ã‚·ãƒ§ãƒ³): å›è·¯å›³ã®ã‚¿ã‚¤ãƒˆãƒ«
- `size` (ã‚ªãƒ—ã‚·ãƒ§ãƒ³): [å¹…, é«˜ã•] ã®é…åˆ—

### `add_component`

å›è·¯ã«ç´ å­ã‚’è¿½åŠ ã—ã¾ã™ã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:**

- `component_type` (å¿…é ˆ): ç´ å­ã®ã‚¿ã‚¤ãƒ—
- `component_id` (å¿…é ˆ): ç´ å­ã®è­˜åˆ¥å­
- `label` (ã‚ªãƒ—ã‚·ãƒ§ãƒ³): ç´ å­ã®ãƒ©ãƒ™ãƒ«
- `value` (ã‚ªãƒ—ã‚·ãƒ§ãƒ³): ç´ å­ã®å€¤
- `direction` (ã‚ªãƒ—ã‚·ãƒ§ãƒ³): é…ç½®æ–¹å‘ (`right`, `left`, `up`, `down`)
- `position` (ã‚ªãƒ—ã‚·ãƒ§ãƒ³): [x, y] åº§æ¨™

### `connect_components`

ç´ å­é–“ã‚’æ¥ç¶šã—ã¾ã™ã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:**

- `from_component` (å¿…é ˆ): æ¥ç¶šå…ƒã®ç´ å­ ID
- `to_component` (å¿…é ˆ): æ¥ç¶šå…ˆã®ç´ å­ ID
- `connection_type` (ã‚ªãƒ—ã‚·ãƒ§ãƒ³): æ¥ç¶šã‚¿ã‚¤ãƒ— (`wire`, `dot`)

### `create_loop_circuit`

ãƒ«ãƒ¼ãƒ—å›è·¯ã‚’ä½œæˆã—ã¾ã™ã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:**

- `components` (å¿…é ˆ): ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒªã‚¹ãƒˆ
- `size` (ã‚ªãƒ—ã‚·ãƒ§ãƒ³): å›è·¯ã®ä¸€è¾ºã®é•·ã•

### `save_circuit`

å›è·¯å›³ã‚’ä¿å­˜ã—ã¾ã™ã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:**

- `filename` (å¿…é ˆ): ä¿å­˜ãƒ•ã‚¡ã‚¤ãƒ«å
- `format` (ã‚ªãƒ—ã‚·ãƒ§ãƒ³): å‡ºåŠ›å½¢å¼ (`png`, `svg`, `pdf`)
- `dpi` (ã‚ªãƒ—ã‚·ãƒ§ãƒ³): è§£åƒåº¦

### `get_circuit_info`

ç¾åœ¨ã®å›è·¯å›³ã®æƒ…å ±ã‚’å–å¾—ã—ã¾ã™ã€‚

### `list_available_components`

åˆ©ç”¨å¯èƒ½ãªç´ å­ã‚¿ã‚¤ãƒ—ã®ä¸€è¦§ã‚’å–å¾—ã—ã¾ã™ã€‚

### `add_spacer`

ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ã«ã‚¹ãƒšãƒ¼ã‚¹ã‚’è¿½åŠ ã—ã¾ã™ã€‚

### `optimize_layout`

å›è·¯å›³ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’æœ€é©åŒ–ã—ã¾ã™ã€‚

## ğŸ“¸ ä½¿ç”¨ä¾‹

### ã‚·ãƒ³ãƒ—ãƒ«ãª RC å›è·¯

Claude ã¸ã®æŒ‡ç¤ºä¾‹:

> æŠµæŠ—ï¼ˆ1kÎ©ï¼‰ã¨ã‚³ãƒ³ãƒ‡ãƒ³ã‚µï¼ˆ100ÂµFï¼‰ã‚’ç›´åˆ—ã«æ¥ç¶šã—ãŸ RC å›è·¯ã‚’ä½œæˆã—ã¦ãã ã•ã„

ã“ã®æŒ‡ç¤ºã«ã‚ˆã‚Šã€ä»¥ä¸‹ã®ã‚ˆã†ãªå›è·¯å›³ãŒç”Ÿæˆã•ã‚Œã¾ã™ï¼š

```text
[é›»æº] â€•â€•[R1: 1kÎ©]â€•â€•[C1: 100ÂµF]â€•â€•[GND]
```

## âš™ï¸ è¨­å®š

### ç’°å¢ƒå¤‰æ•°

- `SCHEMDRAW_DPI`: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å‡ºåŠ›è§£åƒåº¦ (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 150)
- `SCHEMDRAW_FORMAT`: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å‡ºåŠ›å½¢å¼ (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: svg)

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/amazing-feature`)
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'Add some amazing feature'`)
4. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/amazing-feature`)
5. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ MIT ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚è©³ç´°ã¯ [LICENSE](LICENSE) ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ™ è¬è¾

- [schemdraw](https://github.com/cdelker/schemdraw) - å„ªã‚ŒãŸå›è·¯å›³æç”»ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- [Model Context Protocol](https://modelcontextprotocol.io/) - AI ã¨ã®çµ±åˆã‚’å¯èƒ½ã«ã™ã‚‹ãƒ—ãƒ­ãƒˆã‚³ãƒ«

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

å•é¡Œã‚„è³ªå•ãŒã‚ã‚‹å ´åˆã¯ã€[Issues](https://github.com/fukayatti/schemdraw-mcp-server/issues) ã§ãŠçŸ¥ã‚‰ã›ãã ã•ã„ã€‚
