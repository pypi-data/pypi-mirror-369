import{g as e,f as t,p as s,H as n,h as o,a as r}from"./index.js";const c=e=>!("isConnected"in e)||e.isConnected,a=(()=>{let e;return(...t)=>{e&&clearTimeout(e),e=setTimeout((()=>{e=0,(e=>{for(let t of e.keys())e.set(t,e.get(t).filter(c))})(...t)}),2e3)}})(),i=e=>"function"==typeof e?e():e,d=(e,t)=>{const s=e.indexOf(t);s>=0&&(e[s]=e[e.length-1],e.length--)},{state:p}=(()=>{const s=((e,t=(e,t)=>e!==t)=>{const s=i(e);let n=new Map(Object.entries(s??{}));const o={dispose:[],get:[],set:[],reset:[]},r=new Map,c=()=>{n=new Map(Object.entries(i(e)??{})),o.reset.forEach((e=>e()))},a=e=>(o.get.forEach((t=>t(e))),n.get(e)),p=(e,s)=>{const r=n.get(e);t(s,r,e)&&(n.set(e,s),o.set.forEach((t=>t(e,s,r))))},u="undefined"==typeof Proxy?{}:new Proxy(s,{get:(e,t)=>a(t),ownKeys:()=>Array.from(n.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>n.has(t),set:(e,t,s)=>(p(t,s),!0)}),f=(e,t)=>(o[e].push(t),()=>{d(o[e],t)});return{state:u,get:a,set:p,on:f,onChange:(t,s)=>{const n=(e,n)=>{e===t&&s(n)},o=()=>s(i(e)[t]),c=f("set",n),a=f("reset",o);return r.set(s,{setHandler:n,resetHandler:o,propName:t}),()=>{c(),a(),r.delete(s)}},use:(...e)=>{const t=e.reduce(((e,t)=>(t.set&&e.push(f("set",t.set)),t.get&&e.push(f("get",t.get)),t.reset&&e.push(f("reset",t.reset)),t.dispose&&e.push(f("dispose",t.dispose)),e)),[]);return()=>t.forEach((e=>e()))},dispose:()=>{o.dispose.forEach((e=>e())),c()},reset:c,forceUpdate:e=>{const t=n.get(e);o.set.forEach((s=>s(e,t,t)))},removeListener:(e,t)=>{const s=r.get(t);s&&s.propName===e&&(d(o.set,s.setHandler),d(o.reset,s.resetHandler),r.delete(t))}}})({delete_svg_src:"",add_svg_src:"",edit_svg_src:""},void 0);return s.use((()=>{if("function"!=typeof e)return{};const s=new Map;return{dispose:()=>s.clear(),get:t=>{const n=e();n&&((e,t,s)=>{const n=e.get(t);n?n.includes(s)||n.push(s):e.set(t,[s])})(s,t,n)},set:e=>{const n=s.get(e);n&&s.set(e,n.filter(t)),a(s)},reset:()=>{s.forEach((e=>e.forEach(t))),a(s)}}})()),s})(),u=s(class extends n{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){const e={delete:{src:p.delete_svg_src,alt:"❌"},add:{src:p.add_svg_src,alt:"➕"},edit:{src:p.edit_svg_src,alt:"✏️"}}[this.type];return e?.src||console.error(`Icon type "${this.type}" src is missing`),o(r,{key:"c4557c84f018a2c2de824574dce1c85acd92b7f7"},o("img",{key:"2fc1959f1840931071c47b941c8a547eb8c0b2bc",src:e.src,alt:e.alt}))}},[257,"image-icon",{type:[1]}]);function f(){"undefined"!=typeof customElements&&["image-icon"].forEach((e=>{"image-icon"===e&&(customElements.get(e)||customElements.define(e,u))}))}f();export{u as I,f as d,p as s}