[project]
name = "spectracles"
dynamic = ["version"]
description = "Unified spectrospatial models: glasses for your spectra."
readme = "README.md"
authors = [
    { name = "Thomas Hilder", email = "Thomas.Hilder@monash.edu" },
    { name = "Andrew R. Casey", email = "Andrew.Casey@monash.edu" },
]
requires-python = ">=3.13"
dependencies = [
    "equinox>=0.13.0",
    "jax==0.5.3",
    "jax-finufft",
    "matplotlib>=3.10.5",
    "networkx>=3.5",
    "tqdm>=4.67.1",
]

[build-system]
requires = ["hatchling", "hatch-vcs"]
build-backend = "hatchling.build"

[tool.hatch.build]
include = ["src/spectracles/py.typed"]
exclude = ["**/__pycache__/**"]

[tool.hatch.build.targets.sdist]
include = ["src/**", "README.md", "LICENSE"]

[tool.hatch.build.targets.wheel]
packages = ["src/spectracles"]

[tool.hatch.build.hooks.vcs]
version-file = "src/spectracles/_version.py"

[tool.hatch.version]
source = "vcs"

[tool.ruff]
line-length = 99 # Sorry PEP8 I'm a rebel

[tool.uv.sources]
jax-finufft = { git = "https://github.com/flatironinstitute/jax-finufft.git" }

[dependency-groups]
dev = [
    "mypy>=1.17.1",
    "pytest>=8.4.1",
    "pytest-cov>=6.2.1",
    "ruff>=0.12.8",
    "types-networkx>=3.5.0.20250812",
    "types-tqdm>=4.67.0.20250809",
]
