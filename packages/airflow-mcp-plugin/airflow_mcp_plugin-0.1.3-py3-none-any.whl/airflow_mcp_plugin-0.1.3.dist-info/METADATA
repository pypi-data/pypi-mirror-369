Metadata-Version: 2.4
Name: airflow-mcp-plugin
Version: 0.1.3
Summary: Apache Airflow 3 plugin that mounts airflow-mcp-server as a Streamable HTTP endpoint at /mcp
Author-email: Abhishek Bhakat <abhishek.bhakat@hotmail.com>
License-Expression: MIT
License-File: LICENSE
Classifier: Development Status :: 3 - Alpha
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Requires-Python: >=3.10
Requires-Dist: apache-airflow>=3.0.0
Requires-Dist: fastmcp>=2.11.3
Requires-Dist: httpx>=0.28.1
Description-Content-Type: text/markdown

# airflow-mcp-plugin

Airflow 3 plugin that mounts `airflow-mcp-server` as a Streamable HTTP endpoint at `/mcp` on the Airflow API server.

Requirements:
- Apache Airflow >= 3.0 (FastAPI backend)
- Python >= 3.10

Install (recommended via main package extra):
```bash
pip install "airflow-mcp-server[airflow-plugin]"
```

Or install the plugin directly:
```bash
pip install airflow-mcp-plugin
```

Deploy:
- Install into the Airflow webserver container environment (Docker/Compose/Helm)
- Restart the webserver; Airflow auto-loads the plugin via entry point

Config:

```json
{
  "mcpServers": {
    "airflow-mcp-server": {
      "type": "sse",
      "url": "http://localhost:8000/mcp/",
      "headers": {
        "Authorization": "Bearer <token>"
      }
    }
  }
}
```
Use (stateless):
- Endpoint: `http(s)://<airflow-host>/mcp`
- Every request must include header: `Authorization: Bearer <access-token>`
- The token is forwarded per-request to Airflow APIs (no shared auth state)
- Mode per-request:
  - Safe (default): `http(s)://<airflow-host>/mcp`
  - Unsafe: `http(s)://<airflow-host>/mcp?mode=unsafe` (enables POST/PUT/DELETE/PATCH)
  - Streamable HTTP (stateless)
