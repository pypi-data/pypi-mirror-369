---
name: PR-agent
on:
  pull_request:
    types:
      - opened
      - reopened
      - ready_for_review
  issue_comment:
    types:
      - created
      - edited
      - deleted
jobs:
  pr-agent:
    if: >
      github.event.sender.type != 'Bot'
      && (
        github.event_name == 'pull_request'
        || github.event_name == 'issue_comment'
      )
    uses: dceoy/gh-actions-for-devops/.github/workflows/pr-agent.yml@main
    permissions:
      contents: write
      pull-requests: write
      issues: write
      id-token: write
    with:
      auto-describe: true
      auto-review: true
      auto-improve: true
    secrets:
      GROQ_API_KEY: ${{ secrets.GROQ_API_KEY }}
      GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
