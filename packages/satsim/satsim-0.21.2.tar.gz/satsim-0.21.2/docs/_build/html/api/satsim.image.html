<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>satsim.image package &mdash; SatSim 0.21.2 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="satsim.io package" href="satsim.io.html" />
    <link rel="prev" title="satsim.geometry package" href="satsim.geometry.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            SatSim
          </a>
              <div class="version">
                0.21.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="satsim.html">satsim package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="satsim.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="satsim.dataset.html">satsim.dataset package</a></li>
<li class="toctree-l4"><a class="reference internal" href="satsim.generator.html">satsim.generator package</a></li>
<li class="toctree-l4"><a class="reference internal" href="satsim.geometry.html">satsim.geometry package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">satsim.image package</a></li>
<li class="toctree-l4"><a class="reference internal" href="satsim.io.html">satsim.io package</a></li>
<li class="toctree-l4"><a class="reference internal" href="satsim.math.html">satsim.math package</a></li>
<li class="toctree-l4"><a class="reference internal" href="satsim.pipeline.html">satsim.pipeline package</a></li>
<li class="toctree-l4"><a class="reference internal" href="satsim.tfa.html">satsim.tfa package</a></li>
<li class="toctree-l4"><a class="reference internal" href="satsim.time.html">satsim.time package</a></li>
<li class="toctree-l4"><a class="reference internal" href="satsim.util.html">satsim.util package</a></li>
<li class="toctree-l4"><a class="reference internal" href="satsim.vecmath.html">satsim.vecmath package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="satsim.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="satsim.html#module-satsim.cli">satsim.cli module</a></li>
<li class="toctree-l3"><a class="reference internal" href="satsim.html#module-satsim.config">satsim.config module</a></li>
<li class="toctree-l3"><a class="reference internal" href="satsim.html#module-satsim.satsim">satsim.satsim module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../history.html">History</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SatSim</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../api.html">API Documentation</a></li>
          <li class="breadcrumb-item"><a href="satsim.html">satsim package</a></li>
      <li class="breadcrumb-item active">satsim.image package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/satsim.image.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-satsim.image">
<span id="satsim-image-package"></span><h1>satsim.image package<a class="headerlink" href="#module-satsim.image" title="Permalink to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading"></a></h2>
</section>
<section id="module-satsim.image.augment">
<span id="satsim-image-augment-module"></span><h2>satsim.image.augment module<a class="headerlink" href="#module-satsim.image.augment" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.augment.crop_and_resize">
<span class="sig-prename descclassname"><span class="pre">satsim.image.augment.</span></span><span class="sig-name descname"><span class="pre">crop_and_resize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_box_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_box_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.augment.crop_and_resize" title="Permalink to this definition"></a></dt>
<dd><p>Crops an image and resizes it to the original image size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – <cite>array</cite>, image to shift.</p></li>
<li><p><strong>t</strong> – <cite>time</cite>, simulation time. unused but required by interface.</p></li>
<li><p><strong>y_start</strong> – <cite>float</cite>, starting y box location in normalized coordinates.</p></li>
<li><p><strong>x_start</strong> – <cite>float</cite>, starting x box location in normalized coordinates.</p></li>
<li><p><strong>y_box_size</strong> – <cite>float</cite>, y box size in normalized coordinates.</p></li>
<li><p><strong>x_box_size</strong> – <cite>float</cite>, x box size in normalized coordinates.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An <cite>array</cite>, a two dimensional image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.augment.flip">
<span class="sig-prename descclassname"><span class="pre">satsim.image.augment.</span></span><span class="sig-name descname"><span class="pre">flip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up_down</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">left_right</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.augment.flip" title="Permalink to this definition"></a></dt>
<dd><p>Flips an image about the y and/or x axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – <cite>array</cite>, image to shift.</p></li>
<li><p><strong>t</strong> – <cite>time</cite>, simulation time. unused but required by interface.</p></li>
<li><p><strong>up_down</strong> – <cite>boolean</cite>, flip image about the x axis.</p></li>
<li><p><strong>left_right</strong> – <cite>boolean</cite>, flip image about the y axis.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An <cite>array</cite>, a two dimensional image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.augment.load_from_file">
<span class="sig-prename descclassname"><span class="pre">satsim.image.augment.</span></span><span class="sig-name descname"><span class="pre">load_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">tf.float32</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.augment.load_from_file" title="Permalink to this definition"></a></dt>
<dd><p>Load an image from file. Wraps <cite>load_sprite_from_file</cite> for
the SatSim pipeline interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – <cite>array</cite>, base image. (ignored)</p></li>
<li><p><strong>t</strong> – <cite>time</cite>, simulation time in seconds from epoch. (unused)</p></li>
<li><p><strong>filename</strong> – <cite>float</cite>, filename of file to load.</p></li>
<li><p><strong>normalize</strong> – <cite>boolean</cite>, normalize the output image so its sum is equal to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An <cite>array</cite>, an image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.augment.null">
<span class="sig-prename descclassname"><span class="pre">satsim.image.augment.</span></span><span class="sig-name descname"><span class="pre">null</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.augment.null" title="Permalink to this definition"></a></dt>
<dd><p>Null function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – <cite>array</cite>, image.</p></li>
<li><p><strong>t</strong> – <cite>time</cite>, simulation time.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An <cite>array</cite>, same as input <cite>image</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.augment.pow">
<span class="sig-prename descclassname"><span class="pre">satsim.image.augment.</span></span><span class="sig-name descname"><span class="pre">pow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exponent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">tf.float32</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.augment.pow" title="Permalink to this definition"></a></dt>
<dd><p>Returns the <cite>image</cite> raised to the power <cite>exponent</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – <cite>array</cite>, base image.</p></li>
<li><p><strong>t</strong> – <cite>time</cite>, simulation time in seconds from epoch.</p></li>
<li><p><strong>exponent</strong> – <cite>float</cite>, exponent value.</p></li>
<li><p><strong>normalize</strong> – <cite>boolean</cite>, normalize output so sum is equal to input, <cite>image</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An <cite>array</cite>, an image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.augment.resize">
<span class="sig-prename descclassname"><span class="pre">satsim.image.augment.</span></span><span class="sig-name descname"><span class="pre">resize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacial_osf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">tf.float32</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.augment.resize" title="Permalink to this definition"></a></dt>
<dd><p>Resize the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – <cite>array</cite>, image.</p></li>
<li><p><strong>t</strong> – <cite>time</cite>, simulation time in seconds from epoch.</p></li>
<li><p><strong>height</strong> – <cite>int</cite>, height of the new image</p></li>
<li><p><strong>width</strong> – <cite>int</cite>, width of the new image</p></li>
<li><p><strong>int</strong> (<em>spacial_osf</em>) – </p></li>
<li><p><strong>number</strong> (<em>multiply height and width by this</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An <cite>array</cite>, same as input <cite>image</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.augment.rotate">
<span class="sig-prename descclassname"><span class="pre">satsim.image.augment.</span></span><span class="sig-name descname"><span class="pre">rotate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.augment.rotate" title="Permalink to this definition"></a></dt>
<dd><p>Rotate the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – <cite>array</cite>, image.</p></li>
<li><p><strong>t</strong> – <cite>time</cite>, simulation time in seconds from epoch.</p></li>
<li><p><strong>angle</strong> – <cite>float</cite>, angle to rotate image in degrees.</p></li>
<li><p><strong>rate</strong> – <cite>float</cite>, rate to rotate image in degrees per second.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An <cite>array</cite>, same as input <cite>image</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.augment.scatter_shift">
<span class="sig-prename descclassname"><span class="pre">satsim.image.augment.</span></span><span class="sig-name descname"><span class="pre">scatter_shift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacial_osf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fft'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpolation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'nearest'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">tf.float32</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.augment.scatter_shift" title="Permalink to this definition"></a></dt>
<dd><p>Shifts the images specified by cartesian coordinates. If multiple shifts
are specified, each shift is combined into a single image by summing</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – <cite>array</cite>, image to shift.</p></li>
<li><p><strong>t</strong> – <cite>time</cite>, simulation time. unused but required by interface.</p></li>
<li><p><strong>y</strong> – <cite>float</cite>, the amount to shift the image up/down in pixels.</p></li>
<li><p><strong>x</strong> – <cite>float</cite>, the amount to shift the image left/right in pixels.</p></li>
<li><p><strong>weights</strong> – <cite>float</cite>, a scale to apply each shift by.</p></li>
<li><p><strong>spacial_osf</strong> – <cite>int</cite>, oversample factor of input array. x and y are multiplied by it</p></li>
<li><p><strong>normalize</strong> – <cite>boolean</cite>, normalize the output image so its sum is equal to
the original input image.</p></li>
<li><p><strong>mode</strong> – <cite>string</cite>, specify algorithm: fft, roll, shift. default: fft</p></li>
<li><p><strong>interpolation</strong> – <cite>string</cite>, specify shift interpolation mode: bilinear, nearest. default: nearest</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An <cite>array</cite>, a two dimensional image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.augment.scatter_shift_polar">
<span class="sig-prename descclassname"><span class="pre">satsim.image.augment.</span></span><span class="sig-name descname"><span class="pre">scatter_shift_polar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacial_osf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fft'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpolation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'nearest'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">tf.float32</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.augment.scatter_shift_polar" title="Permalink to this definition"></a></dt>
<dd><p>Shifts the images specified by polar coordinates. If multiple shifts are
specified, each shift is combined into a single image by summing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – <cite>array</cite>, image to shift.</p></li>
<li><p><strong>t</strong> – <cite>time</cite>, simulation time. unused but required by interface.</p></li>
<li><p><strong>mag</strong> – <cite>float</cite>, the amount to shift the image in pixels.</p></li>
<li><p><strong>angle</strong> – <cite>float</cite>, the direction to shift the image in degrees.</p></li>
<li><p><strong>weights</strong> – <cite>float</cite>, a scale to apply each shift by.</p></li>
<li><p><strong>spacial_osf</strong> – <cite>int</cite>, oversample factor of input array. x and y are multiplied by it</p></li>
<li><p><strong>normalize</strong> – <cite>boolean</cite>, normalize the output image so its sum is equal to
the original input image.</p></li>
<li><p><strong>mode</strong> – <cite>string</cite>, specify algorithm: fft, roll, shift. default: fft</p></li>
<li><p><strong>interpolation</strong> – <cite>string</cite>, specify shift interpolation mode: bilinear, nearest. default: nearest</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An <cite>array</cite>, a two dimensional image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.augment.scatter_shift_random">
<span class="sig-prename descclassname"><span class="pre">satsim.image.augment.</span></span><span class="sig-name descname"><span class="pre">scatter_shift_random</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacial_osf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fft'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpolation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'nearest'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">tf.float32</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.augment.scatter_shift_random" title="Permalink to this definition"></a></dt>
<dd><p>Shifts the images specified in random directions. If length is
greater than 1, each shift is combined into a single image by summing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – <cite>array</cite>, image to shift.</p></li>
<li><p><strong>t</strong> – <cite>time</cite>, simulation time. unused but required by interface.</p></li>
<li><p><strong>loc</strong> – <cite>float</cite>, mean of the normal distribution.</p></li>
<li><p><strong>scale</strong> – <cite>float</cite>, standard deviation of the normal distribution.</p></li>
<li><p><strong>spacial_osf</strong> – <cite>int</cite>, oversample factor of input array. x and y are multiplied by it</p></li>
<li><p><strong>normalize</strong> – <cite>boolean</cite>, normalize the output image so its sum is equal to
the original input image.</p></li>
<li><p><strong>mode</strong> – <cite>string</cite>, specify algorithm: fft, roll, shift. default: fft</p></li>
<li><p><strong>interpolation</strong> – <cite>string</cite>, specify shift interpolation mode: bilinear, nearest. default: nearest</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An <cite>array</cite>, a two dimensional image.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-satsim.image.fpa">
<span id="satsim-image-fpa-module"></span><h2>satsim.image.fpa module<a class="headerlink" href="#module-satsim.image.fpa" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.fpa.add_counts">
<span class="sig-prename descclassname"><span class="pre">satsim.image.fpa.</span></span><span class="sig-name descname"><span class="pre">add_counts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpa</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cnt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.fpa.add_counts" title="Permalink to this definition"></a></dt>
<dd><p>Add counts (e.g. digital number (dn), photoelectrons (pe)) to the input
image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpa</strong> – <cite>Tensor</cite>, input image as a 2D tensor in real or oversample pixel
space. Should be a <cite>tf.Variable</cite>.</p></li>
<li><p><strong>r</strong> – <cite>list</cite>, list of row pixel coordinates as int</p></li>
<li><p><strong>c</strong> – <cite>list</cite>, list of column pixel coordinates as int</p></li>
<li><p><strong>cnt</strong> – <cite>list</cite>, list of absolute counts. For example, dn or pe.</p></li>
<li><p><strong>r_offset</strong> – <cite>int</cite>, offset to add to <cite>r</cite> values. Useful to account for
image pad.</p></li>
<li><p><strong>c_offset</strong> – <cite>int</cite>, offset to add to <cite>c</cite> values. Useful to account for
image pad.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <cite>Tensor</cite>, a reference to the modified input <cite>fpa</cite> image</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.fpa.add_patch">
<span class="sig-prename descclassname"><span class="pre">satsim.image.fpa.</span></span><span class="sig-name descname"><span class="pre">add_patch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpa</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cnt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fft'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.fpa.add_patch" title="Permalink to this definition"></a></dt>
<dd><p>Add a patch to the input image, <cite>fpa</cite>, centered about each row, column coordinate.
Patch is multiplied by the <cite>cnt</cite>. <cite>patch</cite> is typically normalized.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpa</strong> – <cite>Tensor</cite>, input image as a 2D tensor.</p></li>
<li><p><strong>r</strong> – <cite>list</cite>, list of row pixel coordinates as int.</p></li>
<li><p><strong>c</strong> – <cite>list</cite>, list of column pixel coordinates as int.</p></li>
<li><p><strong>cnt</strong> – <cite>list</cite>, list of absolute counts. For example, dn or pe.</p></li>
<li><p><strong>patch</strong> – <cite>Tensor</cite>, patch image as a 2D tensor</p></li>
<li><p><strong>r_offset</strong> – <cite>int</cite>, offset to add to <cite>r</cite> values. Useful to account for
image pad.</p></li>
<li><p><strong>c_offset</strong> – <cite>int</cite>, offset to add to <cite>c</cite> values. Useful to account for
image pad.</p></li>
<li><p><strong>mode</strong> – <cite>string</cite>, specify render mode. fft or overlay. default: fft</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <cite>Tensor</cite>, a reference to the modified input <cite>fpa</cite> image</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.fpa.analog_to_digital">
<span class="sig-prename descclassname"><span class="pre">satsim.image.fpa.</span></span><span class="sig-name descname"><span class="pre">analog_to_digital</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpa</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fwc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bias</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'uint16'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">saturated_pixel_model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'max'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.fpa.analog_to_digital" title="Permalink to this definition"></a></dt>
<dd><p>Converts photoelectron counts to digital counts. The linear model
<cite>digital * gain = analog</cite> is used to covert from analog to digital counts.
Photoelectron counts for each pixel are bound between <cite>0</cite> and <cite>fwc</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpa</strong> – <cite>Tensor</cite>, input image as a 2D tensor in real pixel space.</p></li>
<li><p><strong>gain</strong> – <cite>float</cite>, the digital to analog multiplier.</p></li>
<li><p><strong>fwc</strong> – <cite>float</cite>, the maximum value or full well capacity in photoelectrons.</p></li>
<li><p><strong>bias</strong> – <cite>float</cite>, bias to add in digital counts. (Default: 0)</p></li>
<li><p><strong>dtype</strong> – <cite>string</cite>, pixel data type</p></li>
<li><p><strong>saturated_pixel_model</strong> – <cite>string</cite>, <cite>max</cite> will set any value greater than the maximum value
of the <cite>dtype</cite> to the maximum value, otherwise saturated pixels behavior is undefined</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <cite>Tensor</cite>, the 2D image tensor as whole number digital counts.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.fpa.crop">
<span class="sig-prename descclassname"><span class="pre">satsim.image.fpa.</span></span><span class="sig-name descname"><span class="pre">crop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpa</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_pad</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_pad</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.fpa.crop" title="Permalink to this definition"></a></dt>
<dd><p>Crops a 2D image tensor. Typically used to remove pixel padding.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpa</strong> – <cite>Tensor</cite>, input image as a 2D tensor in oversampled pixel space.</p></li>
<li><p><strong>y_pad</strong> – <cite>int</cite>, starting y pixel location (number of pad pixels at the top).</p></li>
<li><p><strong>x_pad</strong> – <cite>int</cite>, starting x pixel location (number of pad pixels on the left).</p></li>
<li><p><strong>y_size</strong> – <cite>int</cite>, total y pixels to crop.</p></li>
<li><p><strong>x_size</strong> – <cite>int</cite>, total x pixels to crop.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <cite>Tensor</cite>, the cropped 2D image tensor.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.fpa.downsample">
<span class="sig-prename descclassname"><span class="pre">satsim.image.fpa.</span></span><span class="sig-name descname"><span class="pre">downsample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpa</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">osf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'conv2d'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.fpa.downsample" title="Permalink to this definition"></a></dt>
<dd><p>Downsample a 2D image tensor. Typically used to calculate the real pixel
values in an oversampled image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpa</strong> – <cite>Tensor</cite>, input image as a 2D tensor in oversampled pixel space.</p></li>
<li><p><strong>osf</strong> – <cite>int</cite>, oversample factor of the input image.</p></li>
<li><p><strong>method</strong> – <cite>string</cite>, conv2d or pool algorithm</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <cite>Tensor</cite>, the downsampled 2D image tensor.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.fpa.mv_to_pe">
<span class="sig-prename descclassname"><span class="pre">satsim.image.fpa.</span></span><span class="sig-name descname"><span class="pre">mv_to_pe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zeropoint</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mv</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.fpa.mv_to_pe" title="Permalink to this definition"></a></dt>
<dd><p>Converts visual magnitude to photoelectrons per second. The zeropoint of
an instrument, by definition, is the magnitude of an object that produces
one count (or photoelectron) per second. The visual magnitude (MV) of an
arbitrary object producing photoelectrons in an observation of one second is
therefore:</p>
<blockquote>
<div><p><cite>mv = -2.5 * log10(pe) + zeropoint</cite></p>
<p>and</p>
<p><cite>mv_to_pe(zeropoint, zeropoint) == 1</cite></p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>zeropoint</strong> – <cite>float</cite>, the zeropoint of the fpa.</p></li>
<li><p><strong>mv</strong> – <cite>float</cite>, the visual magnitude of the object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <cite>float</cite>, the visual magnitude in photoelectron per second</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.fpa.pe_to_mv">
<span class="sig-prename descclassname"><span class="pre">satsim.image.fpa.</span></span><span class="sig-name descname"><span class="pre">pe_to_mv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zeropoint</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pe</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.fpa.pe_to_mv" title="Permalink to this definition"></a></dt>
<dd><p>Converts photoelectrons per second to visual magnitude. The zeropoint of
an instrument, by definition, is the magnitude of an object that produces
one count (or photoelectron) per second. The visual magnitude (MV) of an
arbitrary object producing photoelectrons in an observation of one second is
therefore:</p>
<blockquote>
<div><p><cite>mv = -2.5 * log10(pe) + zeropoint</cite></p>
<p>and</p>
<p><cite>mv_to_pe(zeropoint, zeropoint) == 1</cite></p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>zeropoint</strong> – <cite>float</cite>, the zeropoint of the fpa.</p></li>
<li><p><strong>pe</strong> – <cite>float</cite>, the brightness of the object in photoelectron per second.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <cite>float</cite>, the visual magnitude</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.fpa.transform_and_add_counts">
<span class="sig-prename descclassname"><span class="pre">satsim.image.fpa.</span></span><span class="sig-name descname"><span class="pre">transform_and_add_counts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpa</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cnt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_osf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">translation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_out_of_bounds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.fpa.transform_and_add_counts" title="Permalink to this definition"></a></dt>
<dd><p>Applies discrete rotation and translation transformations to a set of
input points. This has the effect of “smearing” or “streaking” the point
between times <cite>t_start</cite> and <cite>t_end</cite>. The number of transforms calculated is
specified by the temporal oversample factor, <cite>t_osf</cite>. The total energy is
conserved.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpa</strong> – <cite>Tensor</cite>, input image as a 2D tensor in real or oversample pixel
space. Should be from a Variable node.</p></li>
<li><p><strong>r</strong> – <cite>list</cite>, list of row pixel coordinates.</p></li>
<li><p><strong>c</strong> – <cite>list</cite>, list of column pixel coordinates.</p></li>
<li><p><strong>cnt</strong> – <cite>list</cite>, list of absolute dn or pe counts.</p></li>
<li><p><strong>t_start</strong> – <cite>float</cite>, start time in seconds from t_epoch where t_epoch=0</p></li>
<li><p><strong>t_end</strong> – <cite>float</cite>, end time in seconds from t_epoch where t_epoch=0</p></li>
<li><p><strong>t_osf</strong> – <cite>int</cite>, temporal oversample factor, determines the number of
discrete transforms to apply between <cite>t_start</cite> and <cite>t_end</cite>. Value
should be greather than 0.</p></li>
<li><p><strong>rotation</strong> – <cite>float</cite>, clockwise rotation rate in radians/sec</p></li>
<li><p><strong>translation</strong> – ‘[float, float]’, translation rate in pixels/sec in
<cite>[row,col]</cite> order</p></li>
<li><p><strong>batch_size</strong> – <cite>int</cite>: Number of points to process together. Typically a
larger batch size will process faster due to vectorization at
the expense of increased memory useage. Default: 500)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>fpa: <cite>Tensor</cite>, a reference to the modified input <cite>fpa</cite> image</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <cite>tuple</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.fpa.transform_and_fft">
<span class="sig-prename descclassname"><span class="pre">satsim.image.fpa.</span></span><span class="sig-name descname"><span class="pre">transform_and_fft</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpa</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cnt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_osf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">translation</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.fpa.transform_and_fft" title="Permalink to this definition"></a></dt>
<dd><p>Applies discrete rotation and translation transformations to the center
point and applies the smear to all other points with an FFT. This has the
effect of  “smearing” or “streaking” the point between times <cite>t_start</cite> and
<cite>t_end</cite>. This function has the advantage of a much faster runtime than
<cite>transform_and_add_counts</cite> when there are many points to transform and the
disadvantage that all points have the identical smear.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpa</strong> – <cite>Tensor</cite>, input image as a 2D tensor in real or oversample pixel
space. Should be from a Variable node.</p></li>
<li><p><strong>r</strong> – <cite>list</cite>, list of row pixel coordinates.</p></li>
<li><p><strong>c</strong> – <cite>list</cite>, list of column pixel coordinates.</p></li>
<li><p><strong>cnt</strong> – <cite>list</cite>, list of absolute dn or pe counts.</p></li>
<li><p><strong>t_start</strong> – <cite>float</cite>, start time in seconds from t_epoch where t_epoch=0</p></li>
<li><p><strong>t_end</strong> – <cite>float</cite>, end time in seconds from t_epoch where t_epoch=0</p></li>
<li><p><strong>t_osf</strong> – <cite>int</cite>, temporal oversample factor, determines the number of
discrete transforms to apply between <cite>t_start</cite> and <cite>t_end</cite>. Value
should be greather than 0.</p></li>
<li><p><strong>rotation</strong> – <cite>float</cite>, clockwise rotation rate in radians/sec</p></li>
<li><p><strong>translation</strong> – ‘[float, float]’, translation rate in pixels/sec in
<cite>[row,col]</cite> order</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>fpa: <cite>Tensor</cite>, a reference to the modified input <cite>fpa</cite> image</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <cite>tuple</cite></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-satsim.image.model">
<span id="satsim-image-model-module"></span><h2>satsim.image.model module<a class="headerlink" href="#module-satsim.image.model" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.model.astropy_model2d">
<span class="sig-prename descclassname"><span class="pre">satsim.image.model.</span></span><span class="sig-name descname"><span class="pre">astropy_model2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">height</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.model.astropy_model2d" title="Permalink to this definition"></a></dt>
<dd><p>Loads an AstroPy Model. The model is evaluated between low and high
using evenly spaced values (linspace).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>height</strong> – <cite>int</cite>, image height.</p></li>
<li><p><strong>width</strong> – <cite>int</cite>, image width.</p></li>
<li><p><strong>filename</strong> – <cite>string</cite>, path to Advanced Scientific Data Format model file.</p></li>
<li><p><strong>low</strong> – <cite>float</cite>, lowest number in the two dimensional series. Points are
sampled linearly spaced between <cite>low</cite> and <cite>high</cite>.</p></li>
<li><p><strong>high</strong> – <cite>float</cite>, highest number in the two dimensional series. Points are
sampled linearly spaced between <cite>low</cite> and <cite>high</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An <cite>array</cite>, a two dimensional image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.model.polygrid2d">
<span class="sig-prename descclassname"><span class="pre">satsim.image.model.</span></span><span class="sig-name descname"><span class="pre">polygrid2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">height</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.model.polygrid2d" title="Permalink to this definition"></a></dt>
<dd><p>Generates a two dimensional image based on NumPy polygrid2d.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>height</strong> – <cite>int</cite>, image height.</p></li>
<li><p><strong>width</strong> – <cite>int</cite>, image width.</p></li>
<li><p><strong>c</strong> – <cite>array</cite>, Array of coefficients ordered so that the coefficients for
terms of degree i,j are contained in c[i,j]. If c has dimension
greater than two the remaining indices enumerate multiple sets of
coefficients.</p></li>
<li><p><strong>low</strong> – <cite>float</cite>, lowest number in the two dimensional series. Points are
sampled linearly spaced between <cite>low</cite> and <cite>high</cite>. default=-1</p></li>
<li><p><strong>high</strong> – <cite>float</cite>, highest number in the two dimensional series. Points are
sampled linearly spaced between <cite>low</cite> and <cite>high</cite>. default=1</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An <cite>array</cite>, a two dimensional image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.model.radial_cos2d">
<span class="sig-prename descclassname"><span class="pre">satsim.image.model.</span></span><span class="sig-name descname"><span class="pre">radial_cos2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">height</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">power</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xy_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mult</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.0,</span> <span class="pre">1.0]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.model.radial_cos2d" title="Permalink to this definition"></a></dt>
<dd><p>Generates a cosine wave radially from the center of the image. Typically
used to simulate optical vignette or irradiance falloff.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>height</strong> – <cite>int</cite>, image height.</p></li>
<li><p><strong>width</strong> – <cite>int</cite>, image width.</p></li>
<li><p><strong>y_scale</strong> – <cite>float</cite>, the fraction of the cosine wave to generate across the
rows from the center to the edge.</p></li>
<li><p><strong>x_scale</strong> – <cite>float</cite>, the fraction of the cosine wave to generate across the
columns from the center to the edge.</p></li>
<li><p><strong>scale</strong> – <cite>float</cite>, if not None set y_scale and x_scale to this.</p></li>
<li><p><strong>power</strong> – <cite>float</cite>, the exponent of the cosine. Set to 4 to generate a
“cosine fourth” irradiance falloff map. default=4</p></li>
<li><p><strong>mult</strong> – <cite>float</cite>, multiply cosine. default=1</p></li>
<li><p><strong>clip</strong> – <cite>array</cite>, clip returned value by minimum and maximum. default=[0.0, 1.0]</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An <cite>array</cite>, a two dimensional image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.model.sin2d">
<span class="sig-prename descclassname"><span class="pre">satsim.image.model.</span></span><span class="sig-name descname"><span class="pre">sin2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">height</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amplitude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frequency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bias</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maximum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">damped</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.model.sin2d" title="Permalink to this definition"></a></dt>
<dd><p>Generates a sine wave across the image in a specified direction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>height</strong> – <cite>int</cite>, image height.</p></li>
<li><p><strong>width</strong> – <cite>int</cite>, image width.</p></li>
<li><p><strong>amplitude</strong> – <cite>float</cite>, the amplitude of the sine wave. default=1</p></li>
<li><p><strong>frequency</strong> – <cite>float</cite>, number of full sine waves to generate over the width
of the image. default=5</p></li>
<li><p><strong>bias</strong> – <cite>float</cite>, bias to add to the entire image. default=0</p></li>
<li><p><strong>minimum</strong> – <cite>float</cite>, set the minimum value in the image. default=0</p></li>
<li><p><strong>maximum</strong> – <cite>float</cite>, set the maximum value in the image. default=None</p></li>
<li><p><strong>direction</strong> – <cite>float</cite>, set the direction of the wave in degrees where 0 is
horizontal from left to right. default=0</p></li>
<li><p><strong>damped</strong> – <cite>boolean</cite>, damp the sine wave by <cite>e^-t</cite>. default=False</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An <cite>array</cite>, a two dimensional image.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-satsim.image.noise">
<span id="satsim-image-noise-module"></span><h2>satsim.image.noise module<a class="headerlink" href="#module-satsim.image.noise" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.noise.add_photon_noise">
<span class="sig-prename descclassname"><span class="pre">satsim.image.noise.</span></span><span class="sig-name descname"><span class="pre">add_photon_noise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpa</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.noise.add_photon_noise" title="Permalink to this definition"></a></dt>
<dd><p>Add photon noise. Photon noise results from the inherent statistical
variation in the arrival rate of photons incident on the CCD. Photoelectrons
generated within the semiconductor device constitute the signal, the
magnitude of which fluctuates randomly with photon incidence at each
measuring location (pixel) on the CCD. The interval between photon arrivals
is governed by Poisson statistics, and therefore, the photon noise is
equivalent to the square-root of the signal. In general, the term shot noise
is applied to any noise component reflecting a similar statistical
variation, or uncertainty, in measurements of the number of photons
collected during a given time interval, and some references use that term in
place of photon noise in discussions of CCD noise sources.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fpa_photon_noise</span> <span class="o">=</span> <span class="n">add_photon_noise</span><span class="p">(</span><span class="n">fpa_no_noise</span><span class="o">+</span><span class="n">background</span><span class="o">+</span><span class="n">dark_current</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpa</strong> – <cite>Tensor</cite>, input image as a 2D tensor in total photoelectrons per pixel</p></li>
<li><p><strong>samples</strong> – <cite>int</cite>, number of samples to generate then average. Typically used
to estimate averaging of multiple images. default=None (or 1 sample)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <cite>Tensor</cite>, the 2D tensor with photon noise applied.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.noise.add_read_noise">
<span class="sig-prename descclassname"><span class="pre">satsim.image.noise.</span></span><span class="sig-name descname"><span class="pre">add_read_noise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpa</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">en</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.noise.add_read_noise" title="Permalink to this definition"></a></dt>
<dd><p>Add read noise. Read noise (RN) is a combination of noise from the pixel
and from the analog to digital converter (ADC). The RN of the sensor is the
equivalent noise level (in electrons RMS) at the output of the camera in the
dark and at zero integration time. Note that the build up is different for a
CMOS sensor and a CCD sensor. The ADC with CCD image sensors is done outside
the sensor and the ADCs for a CMOS image sensor are in each pixel.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fpa_with_read_noise</span> <span class="o">=</span> <span class="n">add_read_noise</span><span class="p">(</span><span class="n">fpa</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpa</strong> – <cite>Tensor</cite>, input image as a 2D tensor in real pixels (not oversampled).</p></li>
<li><p><strong>rn</strong> – <cite>float</cite>, electrons RMS value of the read noise.</p></li>
<li><p><strong>en</strong> – <cite>float</cite>, electrons RMS value of the electronic noise.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <cite>Tensor</cite>, the 2D tensor with read noise applied.
A <cite>Tensor</cite>, the 2D tensor read noise.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-satsim.image.psf">
<span id="satsim-image-psf-module"></span><h2>satsim.image.psf module<a class="headerlink" href="#module-satsim.image.psf" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.psf.eod_to_sigma">
<span class="sig-prename descclassname"><span class="pre">satsim.image.psf.</span></span><span class="sig-name descname"><span class="pre">eod_to_sigma</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">eod</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">osf</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.psf.eod_to_sigma" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the sigma of a 2D Gaussian required to get a maximum energy
on a detector (EOD) or single pixel. EOD is specified as a fraction
(0 &lt; EOD &lt; 1). The 2D Gaussian is assumed to be centered on a real pixel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eod</strong> – <cite>float</cite>, desired maximum energy on detector in real pixel space.</p></li>
<li><p><strong>osf</strong> – <cite>int</cite>, desired PSF oversample factor.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <cite>float</cite>, the estimated Gaussian <cite>sigma</cite> for <cite>eod</cite> in real pixel space.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.psf.gen_from_poppy">
<span class="sig-prename descclassname"><span class="pre">satsim.image.psf.</span></span><span class="sig-name descname"><span class="pre">gen_from_poppy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">optical_system</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wavelengths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[6e-07]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.psf.gen_from_poppy" title="Permalink to this definition"></a></dt>
<dd><p>Generate a point spread function (PSF) from a POPPY optical system.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>optical_system</strong> – <cite>object</cite>, POPPY OpticalSystem.</p></li>
<li><p><strong>wavelengths</strong> – <cite>array</cite>, an array of wavelengths to simulate.</p></li>
<li><p><strong>weights</strong> – <cite>array</cite>, an array of same length of <cite>wavelength</cite>. Each value is</p></li>
<li><p><strong>wavelength.</strong> (<em>used to scale the PSF for corresponding</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An <cite>array</cite>, the PSF as a two dimensional array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.psf.gen_from_poppy_configuration">
<span class="sig-prename descclassname"><span class="pre">satsim.image.psf.</span></span><span class="sig-name descname"><span class="pre">gen_from_poppy_configuration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">height</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_ifov</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_ifov</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s_osf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.psf.gen_from_poppy_configuration" title="Permalink to this definition"></a></dt>
<dd><p>Generate a point spread function (PSF) from a POPPY configuration.
Configuration example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;mode&quot;</span><span class="p">:</span> <span class="s2">&quot;poppy&quot;</span><span class="p">,</span>
    <span class="s2">&quot;optical_system&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;CompoundAnalyticOptic&quot;</span><span class="p">,</span>
            <span class="s2">&quot;opticslist&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;CircularAperture&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;kwargs&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;radius&quot;</span><span class="p">:</span> <span class="mf">0.200</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;SecondaryObscuration&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;kwargs&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;secondary_radius&quot;</span><span class="p">:</span> <span class="mf">0.110</span><span class="p">,</span>
                        <span class="s2">&quot;n_supports&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
                        <span class="s2">&quot;support_width&quot;</span><span class="p">:</span> <span class="mf">0.010</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;ZernikeWFE&quot;</span><span class="p">,</span>
            <span class="s2">&quot;kwargs&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;radius&quot;</span><span class="p">:</span> <span class="mf">0.200</span><span class="p">,</span>
                <span class="s2">&quot;coefficients&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">100e-9</span><span class="p">]</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;wavelengths&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">300e-9</span><span class="p">,</span> <span class="mf">600e-9</span><span class="p">,</span> <span class="mf">900e-9</span><span class="p">],</span>
    <span class="s2">&quot;weights&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>height</strong> – <cite>int</cite>, height of the output PSF.</p></li>
<li><p><strong>width</strong> – <cite>int</cite>, width of the output PSF.</p></li>
<li><p><strong>y_ifov</strong> – <cite>float</cite>, field of view of a pixel in y.</p></li>
<li><p><strong>x_ifov</strong> – <cite>float</cite>, field of view of a pixel in x.</p></li>
<li><p><strong>s_osf</strong> – <cite>int</cite>, oversample factor.</p></li>
<li><p><strong>param</strong> – <cite>dict</cite>, a dictionary that describes the optical system.
See example.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An <cite>array</cite>, the PSF as a two dimensional array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.psf.gen_gaussian">
<span class="sig-prename descclassname"><span class="pre">satsim.image.psf.</span></span><span class="sig-name descname"><span class="pre">gen_gaussian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">height</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">tf.float32</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.psf.gen_gaussian" title="Permalink to this definition"></a></dt>
<dd><p>Generate a 2D Gaussian point spread function (PSF).</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">osf</span> <span class="o">=</span> <span class="mi">11</span>
<span class="n">sigma</span> <span class="o">=</span> <span class="n">eod_to_sigma</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">osf</span><span class="p">)</span>
<span class="n">psf</span> <span class="o">=</span> <span class="n">gen_gaussian</span><span class="p">(</span><span class="mi">512</span><span class="o">*</span><span class="n">osf</span><span class="p">,</span> <span class="mi">512</span><span class="o">*</span><span class="n">osf</span><span class="p">,</span> <span class="n">sigma</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>height</strong> – <cite>int</cite>, height of the output PSF.</p></li>
<li><p><strong>width</strong> – <cite>int</cite>, width of the output PSF.</p></li>
<li><p><strong>sigma</strong> – <cite>float</cite>, the standard deviation of the Gaussian.</p></li>
<li><p><strong>dtype</strong> – <cite>tf.dtype</cite>, Defaults to <cite>tf.float32</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <cite>Tensor</cite>, the 2D Gaussian PSF with the shape <cite>[height,width]</cite></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-satsim.image.render">
<span id="satsim-image-render-module"></span><h2>satsim.image.render module<a class="headerlink" href="#module-satsim.image.render" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.render.render_full">
<span class="sig-prename descclassname"><span class="pre">satsim.image.render.</span></span><span class="sig-name descname"><span class="pre">render_full</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h_fpa_os</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_fpa_os</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_fpa_pad_os</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_fpa_pad_os</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_pad_os_div2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_pad_os_div2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s_osf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">psf_os</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_obs_os</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_obs_os</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pe_obs_os</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_stars_os</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_stars_os</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pe_stars_os</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_start_star</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_end_star</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_osf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">star_rot_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">star_tran_os</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">render_separate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs_model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">star_render_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'transform'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.render.render_full" title="Permalink to this definition"></a></dt>
<dd><p>Render an image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h_fpa_os</strong> – <cite>int</cite>, image height in oversampled space.</p></li>
<li><p><strong>w_fpa_os</strong> – <cite>int</cite>, image width in oversampled space.</p></li>
<li><p><strong>h_fpa_pad_os</strong> – <cite>int</cite>, image height with pad in oversample space.</p></li>
<li><p><strong>w_fpa_pad_os</strong> – <cite>int</cite>, image width with pad in oversample space.</p></li>
<li><p><strong>h_pad_os_div2</strong> – <cite>int</cite>, image height with pad divided by 2 in oversample space.</p></li>
<li><p><strong>w_pad_os_div2</strong> – <cite>int</cite>, image width with pad divided by 2 in oversample space.</p></li>
<li><p><strong>s_osf</strong> – <cite>int</cite>, spacial oversample factor.</p></li>
<li><p><strong>psf_os</strong> – <cite>image</cite>, point spread function with size of image with pad in oversampled space.</p></li>
<li><p><strong>r_obs_os</strong> – <cite>int</cite>, list of target row coordinates in oversampled space.</p></li>
<li><p><strong>c_obs_os</strong> – <cite>int</cite>, list of target column coordinates in oversampled space.</p></li>
<li><p><strong>pe_obs_os</strong> – <cite>int</cite>, list of target brightnesses in photoelectrons per pixel.</p></li>
<li><p><strong>r_stars_os</strong> – <cite>list</cite>, list of star row coordinates in oversampled space at epoch.</p></li>
<li><p><strong>c_stars_os</strong> – <cite>list</cite>, list of star column coordinates in oversampled space at epoch.</p></li>
<li><p><strong>pe_stars_os</strong> – <cite>list</cite>, list of star brightnesses in photoelectrons per second.</p></li>
<li><p><strong>t_start_star</strong> – <cite>float</cite>, start time in seconds from epoch.</p></li>
<li><p><strong>t_end_star</strong> – <cite>float</cite>, end time in seconds from epoch.</p></li>
<li><p><strong>t_osf</strong> – <cite>int</cite>, temporal oversample factor for star transformation.</p></li>
<li><p><strong>star_rot_rate</strong> – <cite>float</cite>, star rotation rate in degrees per second.</p></li>
<li><p><strong>star_tran_os</strong> – <cite>[float, float]</cite>, star translation rate in oversampled pixel per second (row, col).</p></li>
<li><p><strong>render_separate</strong> – <cite>boolean</cite>, if <cite>True</cite> render targets and stars seperately, required to calculate SNR.</p></li>
<li><p><strong>obs_model</strong> – <cite>list</cite>, list of image arrays in photoelectrons. each array should be the size
<cite>h_fpa_pad_os</cite> by <cite>w_fpa_pad_os</cite> and is simply added into the image. default=None</p></li>
<li><p><strong>star_render_mode</strong> – <cite>string</cite>, star render mode. <cite>fft</cite> or <cite>transform</cite>. default=transform</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>fpa_conv_star: <cite>image</cite>, rendered image with stars. Stars and targets if <cite>render_separate</cite> is <cite>False</cite>.
fpa_conv_targ: <cite>image</cite>, rendered image with targets. Zeros if <cite>render_separate</cite> is <cite>False</cite>.
fpa_os_w_targets: <cite>image</cite>, oversample image with targets before blur.
fpa_conv_os: <cite>None</cite>, rendered oversample image with pad.
fpa_conv_crop: <cite>None</cite>, rendered oversample image with no pad.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <cite>tuple</cite>, containing</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="satsim.image.render.render_piecewise">
<span class="sig-prename descclassname"><span class="pre">satsim.image.render.</span></span><span class="sig-name descname"><span class="pre">render_piecewise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_sub</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_sub</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_pad_os</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_pad_os</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s_osf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">psf_os</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_obs_os</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_obs_os</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pe_obs_os</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_stars_os</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_stars_os</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pe_stars_os</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_start_star</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_end_star</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_osf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">star_rot_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">star_tran_os</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">render_separate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">star_render_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'transform'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#satsim.image.render.render_piecewise" title="Permalink to this definition"></a></dt>
<dd><p>Render an image in sub sections. Useful if target supersample image does not fit in GPU memory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h</strong> – <cite>int</cite>, image height in number of real pixels.</p></li>
<li><p><strong>w</strong> – <cite>int</cite>, image width in number of real pixels.</p></li>
<li><p><strong>h_sub</strong> – <cite>int</cite>, sub section height to render in number of real pixels.</p></li>
<li><p><strong>w_sub</strong> – <cite>int</cite>, sub section width to render in number of real pixels.</p></li>
<li><p><strong>h_pad_os</strong> – <cite>int</cite>, total vertical pad in oversample space.</p></li>
<li><p><strong>w_pad_os</strong> – <cite>int</cite>, total horizontal pad in oversample space.</p></li>
<li><p><strong>s_osf</strong> – <cite>int</cite>, spacial oversample factor.</p></li>
<li><p><strong>psf_os</strong> – <cite>image</cite>, point spread function with size of <cite>h_sub</cite> by <cite>w_sub</cite> plus padding in oversampled space.</p></li>
<li><p><strong>r_obs_os</strong> – <cite>int</cite>, list of target row coordinates in oversampled space.</p></li>
<li><p><strong>c_obs_os</strong> – <cite>int</cite>, list of target column coordinates in oversampled space.</p></li>
<li><p><strong>pe_obs_os</strong> – <cite>int</cite>, list of target brightnesses in photoelectrons per pixel.</p></li>
<li><p><strong>r_stars_os</strong> – <cite>list</cite>, list of star row coordinates in oversampled space at epoch.</p></li>
<li><p><strong>c_stars_os</strong> – <cite>list</cite>, list of star column coordinates in oversampled space at epoch.</p></li>
<li><p><strong>pe_stars_os</strong> – <cite>list</cite>, list of star brightnesses in photoelectrons per second.</p></li>
<li><p><strong>t_start_star</strong> – <cite>float</cite>, start time in seconds from epoch.</p></li>
<li><p><strong>t_end_star</strong> – <cite>float</cite>, end time in seconds from epoch.</p></li>
<li><p><strong>t_osf</strong> – <cite>int</cite>, temporal oversample factor for star transformation.</p></li>
<li><p><strong>star_rot_rate</strong> – <cite>float</cite>, star rotation rate in degrees per second.</p></li>
<li><p><strong>star_tran_os</strong> – <cite>[float, float]</cite>, star translation rate in oversampled pixel per second (row, col).</p></li>
<li><p><strong>render_separate</strong> – <cite>boolean</cite>, if <cite>True</cite> render targets and stars seperately, required to calculate SNR.</p></li>
<li><p><strong>star_render_mode</strong> – <cite>string</cite>, star render mode. <cite>fft</cite> or <cite>transform</cite>. default=transform</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>fpa_conv_star: <cite>image</cite>, rendered image with stars. Stars and targets if <cite>render_separate</cite> is <cite>False</cite>.
fpa_conv_targ: <cite>image</cite>, rendered image with targets. Zeros if <cite>render_separate</cite> is <cite>False</cite>.
_: <cite>None</cite>, to make output compatible with <cite>render_full</cite>
_: <cite>None</cite>, to make output compatible with <cite>render_full</cite>
_: <cite>None</cite>, to make output compatible with <cite>render_full</cite></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <cite>tuple</cite>, containing</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="satsim.geometry.html" class="btn btn-neutral float-left" title="satsim.geometry package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="satsim.io.html" class="btn btn-neutral float-right" title="satsim.io package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Space Force.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>