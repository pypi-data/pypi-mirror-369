import{V as ce,m as Ie}from"./VTextField-i_8qeZX7.js";import{s as ge,w as le,g as Ve,p as ie,aI as Ae,x as K,cr as De,r as Z,cp as Be,c as N,cu as ae,z as ne,D as ke,F as s,G as x,aD as we,c8 as Te,aE as _e,cI as Fe,cw as de,cK as fe,R as Le,cL as Re,c9 as Ee,cx as be,E as k,ar as oe,I as Y,at as Oe,a3 as $e,Z as ve,cM as ze,$ as Me,cz as Ne,bC as Ke,cA as He,bp as Ue,S as Ce,as as qe,cN as je,b$ as Ge,c0 as We,ag as me,ah as he,cG as Ye,cO as Ze}from"./index-BGgfaO08.js";import{c as Je,a as Qe,u as Xe,V as pe,h as ye,i as et,m as tt}from"./VCheckboxBtn-CZTCrZpU.js";import{V as at}from"./VVirtualScroll-Cck1W7XL.js";import{b as lt}from"./VBtn-Bp792jbq.js";function nt(e,H){const a=ge(!1);let r;function f(i){cancelAnimationFrame(r),a.value=!0,r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{a.value=!1})})}async function w(){await new Promise(i=>requestAnimationFrame(i)),await new Promise(i=>requestAnimationFrame(i)),await new Promise(i=>requestAnimationFrame(i)),await new Promise(i=>{if(a.value){const h=le(a,()=>{h(),i()})}else i()})}async function R(i){var n,E;if(i.key==="Tab"&&((n=H.value)==null||n.focus()),!["PageDown","PageUp","Home","End"].includes(i.key))return;const h=(E=e.value)==null?void 0:E.$el;if(!h)return;(i.key==="Home"||i.key==="End")&&h.scrollTo({top:i.key==="Home"?0:h.scrollHeight,behavior:"smooth"}),await w();const $=h.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(i.key==="PageDown"||i.key==="Home"){const b=h.getBoundingClientRect().top;for(const I of $)if(I.getBoundingClientRect().top>=b){I.focus();break}}else{const b=h.getBoundingClientRect().bottom;for(const I of[...$].reverse())if(I.getBoundingClientRect().bottom<=b){I.focus();break}}}return{onScrollPassive:f,onKeydown:R}}const ot=ie({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Ee,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...Re({itemChildren:!1})},"Select"),it=ie({...ot(),..._e(Ie({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Te({transition:{component:Fe}})},"VSelect"),vt=Ve()({name:"VSelect",props:it(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,H){let{slots:a}=H;const{t:r}=Ae(),f=K(),w=K(),R=K(),{items:i,transformIn:h,transformOut:$}=De(e),n=Z(e,"modelValue",[],t=>h(t===null?[null]:Be(t)),t=>{const l=$(t);return e.multiple?l:l[0]??null}),E=N(()=>typeof e.counterValue=="function"?e.counterValue(n.value):typeof e.counterValue=="number"?e.counterValue:n.value.length),b=Je(e),I=N(()=>n.value.map(t=>t.value)),A=ge(!1);let C="",z=-1,G;const V=N(()=>e.hideSelected?i.value.filter(t=>!n.value.some(l=>(e.valueComparator||ae)(l,t))):i.value),D=N(()=>e.hideNoData&&!V.value.length||b.isReadonly.value||b.isDisabled.value),B=Z(e,"menu"),c=N({get:()=>B.value,set:t=>{var l;B.value&&!t&&((l=w.value)!=null&&l.Î¨openChildren.size)||t&&D.value||(B.value=t)}}),M=ne(()=>c.value?e.closeText:e.openText),J=N(()=>{var t;return{...e.menuProps,activatorProps:{...((t=e.menuProps)==null?void 0:t.activatorProps)||{},"aria-haspopup":"listbox"}}}),T=K(),Q=nt(T,f);function X(t){e.openOnClear&&(c.value=!0)}function W(){D.value||(c.value=!c.value)}function U(t){de(t)&&_(t)}function _(t){var u,g,v;if(!t.key||b.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"," "].includes(t.key)&&(c.value=!0),["Escape","Tab"].includes(t.key)&&(c.value=!1),t.key==="Home"?(u=T.value)==null||u.focus("first"):t.key==="End"&&((g=T.value)==null||g.focus("last"));const l=1e3;if(!de(t))return;const m=performance.now();m-G>l&&(C="",z=-1),C+=t.key.toLowerCase(),G=m;const O=V.value;function L(){let d=o();return d||C.at(-1)===C.at(-2)&&(C=C.slice(0,-1),d=o(),d)||(z=-1,d=o(),d)?d:(C=t.key.toLowerCase(),o())}function o(){for(let d=z+1;d<O.length;d++){const j=O[d];if(j.title.toLowerCase().startsWith(C))return[j,d]}}const p=L();if(!p)return;const[y,S]=p;z=S,(v=T.value)==null||v.focus(S),e.multiple||(n.value=[y])}function F(t){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!t.props.disabled)if(e.multiple){const m=n.value.findIndex(L=>(e.valueComparator||ae)(L.value,t.value)),O=l??!~m;if(~m){const L=O?[...n.value,t]:[...n.value];L.splice(m,1),n.value=L}else O&&(n.value=[...n.value,t])}else{const m=l!==!1;n.value=m?[t]:[],Le(()=>{c.value=!1})}}function P(t){var l;(l=T.value)!=null&&l.$el.contains(t.relatedTarget)||(c.value=!1)}function ee(){var t;e.eager&&((t=R.value)==null||t.calculateVisibleItems())}function te(){var t;A.value&&((t=f.value)==null||t.focus())}function q(t){A.value=!0}function Pe(t){if(t==null)n.value=[];else if(fe(f.value,":autofill")||fe(f.value,":-webkit-autofill")){const l=i.value.find(m=>m.title===t);l&&F(l)}else f.value&&(f.value.value="")}return le(c,()=>{if(!e.hideSelected&&c.value&&n.value.length){const t=V.value.findIndex(l=>n.value.some(m=>(e.valueComparator||ae)(m.value,l.value)));be&&!e.noAutoScroll&&window.requestAnimationFrame(()=>{var l;t>=0&&((l=R.value)==null||l.scrollToIndex(t))})}}),le(()=>e.items,(t,l)=>{c.value||A.value&&e.hideNoData&&!l.length&&t.length&&(c.value=!0)}),ke(()=>{const t=!!(e.chips||a.chip),l=!!(!e.hideNoData||V.value.length||a["prepend-item"]||a["append-item"]||a["no-data"]),m=n.value.length>0,O=ce.filterProps(e),L=m||!A.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return s(ce,x({ref:f},O,{modelValue:n.value.map(o=>o.props.value).join(", "),"onUpdate:modelValue":Pe,focused:A.value,"onUpdate:focused":o=>A.value=o,validationValue:n.externalValue,counterValue:E.value,dirty:m,class:["v-select",{"v-select--active-menu":c.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":n.value.length,"v-select--selection-slot":!!a.selection},e.class],style:e.style,inputmode:"none",placeholder:L,"onClick:clear":X,"onMousedown:control":W,onBlur:P,onKeydown:_,"aria-label":r(M.value),title:r(M.value)}),{...a,default:()=>k(Y,null,[s(Oe,x({ref:w,modelValue:c.value,"onUpdate:modelValue":o=>c.value=o,activator:"parent",contentClass:"v-select__content",disabled:D.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:ee,onAfterLeave:te},J.value),{default:()=>[l&&s($e,x({ref:T,selected:I.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:o=>o.preventDefault(),onKeydown:U,onFocusin:q,tabindex:"-1","aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},Q,e.listProps),{default:()=>{var o,p,y;return[(o=a["prepend-item"])==null?void 0:o.call(a),!V.value.length&&!e.hideNoData&&(((p=a["no-data"])==null?void 0:p.call(a))??s(ve,{key:"no-data",title:r(e.noDataText)},null)),s(at,{ref:R,renderless:!0,items:V.value,itemKey:"value"},{default:S=>{var ue,se,re;let{item:u,index:g,itemRef:v}=S;const d=ze(u.props),j=x(u.props,{ref:v,key:u.value,onClick:()=>F(u,null)});return u.type==="divider"?((ue=a.divider)==null?void 0:ue.call(a,{props:u.raw,index:g}))??s(Me,x(u.props,{key:`divider-${g}`}),null):u.type==="subheader"?((se=a.subheader)==null?void 0:se.call(a,{props:u.raw,index:g}))??s(Ne,x(u.props,{key:`subheader-${g}`}),null):((re=a.item)==null?void 0:re.call(a,{item:u,index:g,props:j}))??s(ve,x(j,{role:"option"}),{prepend:Se=>{let{isSelected:xe}=Se;return k(Y,null,[e.multiple&&!e.hideSelected?s(Qe,{key:u.value,modelValue:xe,ripple:!1,tabindex:"-1"},null):void 0,d.prependAvatar&&s(Ke,{image:d.prependAvatar},null),d.prependIcon&&s(oe,{icon:d.prependIcon},null)])}})}}),(y=a["append-item"])==null?void 0:y.call(a)]}})]}),n.value.map((o,p)=>{function y(v){v.stopPropagation(),v.preventDefault(),F(o,!1)}const S={"onClick:close":y,onKeydown(v){v.key!=="Enter"&&v.key!==" "||(v.preventDefault(),v.stopPropagation(),y(v))},onMousedown(v){v.preventDefault(),v.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},u=t?!!a.chip:!!a.selection,g=u?He(t?a.chip({item:o,index:p,props:S}):a.selection({item:o,index:p})):void 0;if(!(u&&!g))return k("div",{key:o.value,class:"v-select__selection"},[t?a.chip?s(Ce,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:o.title}}},{default:()=>[g]}):s(Ue,x({key:"chip",closable:e.closableChips,size:"small",text:o.title,disabled:o.props.disabled},S),null):g??k("span",{class:"v-select__selection-text"},[o.title,e.multiple&&p<n.value.length-1&&k("span",{class:"v-select__selection-comma"},[qe(",")])])])})]),"append-inner":function(){var S,u;for(var o=arguments.length,p=new Array(o),y=0;y<o;y++)p[y]=arguments[y];return k(Y,null,[(S=a["append-inner"])==null?void 0:S.call(a,...p),e.menuIcon?s(oe,{class:"v-select__menu-icon",color:(u=f.value)==null?void 0:u.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),we({isFocused:A,menu:c,select:F},f)}}),ut=ie({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...tt(),...et()},"VSwitch"),mt=Ve()({name:"VSwitch",inheritAttrs:!1,props:ut(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,H){let{attrs:a,slots:r}=H;const f=Z(e,"indeterminate"),w=Z(e,"modelValue"),{loaderClasses:R}=je(e),{isFocused:i,focus:h,blur:$}=Xe(e),n=K(),E=K(),b=be&&window.matchMedia("(forced-colors: active)").matches,I=ne(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),A=Ge(),C=ne(()=>e.id||`switch-${A}`);function z(){f.value&&(f.value=!1)}function G(V){var D,B;V.stopPropagation(),V.preventDefault(),(B=(D=n.value)==null?void 0:D.input)==null||B.click()}return ke(()=>{const[V,D]=We(a),B=pe.filterProps(e),c=ye.filterProps(e);return s(pe,x({ref:E,class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":f.value},R.value,e.class]},V,B,{modelValue:w.value,"onUpdate:modelValue":M=>w.value=M,id:C.value,focused:i.value,style:e.style}),{...r,default:M=>{let{id:J,messagesId:T,isDisabled:Q,isReadonly:X,isValid:W}=M;const U={model:w,isValid:W};return s(ye,x({ref:n},c,{modelValue:w.value,"onUpdate:modelValue":[_=>w.value=_,z],id:J.value,"aria-describedby":T.value,type:"checkbox","aria-checked":f.value?"mixed":void 0,disabled:Q.value,readonly:X.value,onFocus:h,onBlur:$},D),{...r,default:_=>{let{backgroundColorClasses:F,backgroundColorStyles:P}=_;return k("div",{class:he(["v-switch__track",b?void 0:F.value]),style:me(P.value),onClick:G},[r["track-true"]&&k("div",{key:"prepend",class:"v-switch__track-true"},[r["track-true"](U)]),r["track-false"]&&k("div",{key:"append",class:"v-switch__track-false"},[r["track-false"](U)])])},input:_=>{let{inputNode:F,icon:P,backgroundColorClasses:ee,backgroundColorStyles:te}=_;return k(Y,null,[F,k("div",{class:he(["v-switch__thumb",{"v-switch__thumb--filled":P||e.loading},e.inset||b?void 0:ee.value]),style:me(e.inset?void 0:te.value)},[r.thumb?s(Ce,{defaults:{VIcon:{icon:P,size:"x-small"}}},{default:()=>[r.thumb({...U,icon:P})]}):s(Ye,null,{default:()=>[e.loading?s(Ze,{name:"v-switch",active:!0,color:W.value===!1?void 0:I.value},{default:q=>r.loader?r.loader(q):s(lt,{active:q.isActive,color:q.color,indeterminate:!0,size:"16",width:"2"},null)}):P&&s(oe,{key:String(P),icon:P,size:"x-small"},null)]})])])}})}})}),we({},E)}});export{mt as V,vt as a,ot as m,nt as u};
