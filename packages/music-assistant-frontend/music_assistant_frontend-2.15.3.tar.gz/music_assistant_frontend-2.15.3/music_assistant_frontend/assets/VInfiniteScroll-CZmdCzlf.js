import{g as $,p as H,r as G,bR as K,v as j,i as J,bS as X,n as Z,x as R,s as A,aL as Q,u as p,w as z,o as U,bT as ee,c as W,D as N,bh as B,F as v,G as E,aD as te,aE as ne,J as ae,bU as ie,L as re,bV as oe,bW as le,bX as se,f as ce,R as M,e as ue,bY as de,E as V,bo as me,S as ve,a as fe,aI as ge,af as ye,ag as Se,ah as be,K as ke,ai as he,bZ as Ve,b_ as we,as as Te}from"./index-BGgfaO08.js";import{V as Pe,a as Ie}from"./layout-B5JGIgB6.js";import{b as O,a as xe}from"./VBtn-Bp792jbq.js";function Ce(e){const s=A(e());let t=-1;function i(){clearInterval(t)}function r(){i(),M(()=>s.value=e())}function c(d){const w=d?getComputedStyle(d):{transitionDuration:.2},f=parseFloat(w.transitionDuration)*1e3||200;if(i(),s.value<=0)return;const g=performance.now();t=window.setInterval(()=>{const T=performance.now()-g+f;s.value=Math.max(e()-T,0),s.value<=0&&i()},f)}return ce(i),{clear:i,time:s,start:c,reset:r}}const Ae=H({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...le({location:"bottom"}),...oe(),...re(),...ie(),...ae(),...ne(se({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Re=$()({name:"VSnackbar",props:Ae(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:t}=s;const i=G(e,"modelValue"),{positionClasses:r}=K(e),{scopeId:c}=j(),{themeClasses:d}=J(e),{colorClasses:w,colorStyles:f,variantClasses:g}=X(e),{roundedClasses:T}=Z(e),u=Ce(()=>Number(e.timeout)),F=R(),P=R(),I=A(!1),x=A(0),L=R(),y=Q(Pe,void 0);p(()=>!!y,()=>{const o=Ie();ue(()=>{L.value=o.mainStyles.value})}),z(i,b),z(()=>e.timeout,b),U(()=>{i.value&&b()});let C=-1;function b(){u.reset(),window.clearTimeout(C);const o=Number(e.timeout);if(!i.value||o===-1)return;const S=ee(P.value);u.start(S),C=window.setTimeout(()=>{i.value=!1},o)}function D(){u.reset(),window.clearTimeout(C)}function q(){I.value=!0,D()}function n(){I.value=!1,b()}function a(o){x.value=o.touches[0].clientY}function m(o){Math.abs(x.value-o.changedTouches[0].clientY)>50&&(i.value=!1)}function l(){I.value&&n()}const k=W(()=>e.location.split(" ").reduce((o,S)=>(o[`v-snackbar--${S}`]=!0,o),{}));return N(()=>{const o=B.filterProps(e),S=!!(t.default||t.text||e.text);return v(B,E({ref:F,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},k.value,r.value,e.class],style:[L.value,e.style]},o,{modelValue:i.value,"onUpdate:modelValue":h=>i.value=h,contentProps:E({class:["v-snackbar__wrapper",d.value,w.value,T.value,g.value],style:[f.value],onPointerenter:q,onPointerleave:n},o.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:a,onTouchend:m,onAfterLeave:l},c),{default:()=>{var h,_;return[de(!1,"v-snackbar"),e.timer&&!I.value&&V("div",{key:"timer",class:"v-snackbar__timer"},[v(me,{ref:P,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,modelValue:u.time.value},null)]),S&&V("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((h=t.text)==null?void 0:h.call(t))??e.text,(_=t.default)==null?void 0:_.call(t)]),t.actions&&v(ve,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[V("div",{class:"v-snackbar__actions"},[t.actions({isActive:i})])]})]},activator:t.activator})}),te({},F)}}),Le=H({color:String,direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},side:{type:String,default:"end",validator:e=>["start","end","both"].includes(e)},mode:{type:String,default:"intersect",validator:e=>["intersect","manual"].includes(e)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...he(),...ke()},"VInfiniteScroll"),Y=Ve({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootMargin:String},emits:{intersect:(e,s)=>!0},setup(e,s){let{emit:t}=s;const{intersectionRef:i,isIntersecting:r}=we();return z(r,async c=>{t("intersect",e.side,c)}),N(()=>V("div",{class:"v-infinite-scroll-intersect",style:{"--v-infinite-margin-size":e.rootMargin},ref:i},[Te("Â ")])),{}}}),De=$()({name:"VInfiniteScroll",props:Le(),emits:{load:e=>!0},setup(e,s){let{slots:t,emit:i}=s;const r=R(),c=A("ok"),d=A("ok"),w=W(()=>fe(e.margin)),f=A(!1);function g(n){if(!r.value)return;const a=e.direction==="vertical"?"scrollTop":"scrollLeft";r.value[a]=n}function T(){if(!r.value)return 0;const n=e.direction==="vertical"?"scrollTop":"scrollLeft";return r.value[n]}function u(){if(!r.value)return 0;const n=e.direction==="vertical"?"scrollHeight":"scrollWidth";return r.value[n]}function F(){if(!r.value)return 0;const n=e.direction==="vertical"?"clientHeight":"clientWidth";return r.value[n]}U(()=>{r.value&&(e.side==="start"?g(u()):e.side==="both"&&g(u()/2-F()/2))});function P(n,a){n==="start"?c.value=a:n==="end"?d.value=a:n==="both"&&(c.value=a,d.value=a)}function I(n){return n==="start"?c.value:d.value}let x=0;function L(n,a){f.value=a,f.value&&y(n)}function y(n){if(e.mode!=="manual"&&!f.value)return;const a=I(n);if(!r.value||["empty","loading"].includes(a))return;x=u(),P(n,"loading");function m(l){P(n,l),M(()=>{l==="empty"||l==="error"||(l==="ok"&&n==="start"&&g(u()-x+T()),e.mode!=="manual"&&M(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{y(n)})})})}))})}i("load",{side:n,done:m})}const{t:C}=ge();function b(n,a){var k,o,S,h,_;if(e.side!==n&&e.side!=="both")return;const m=()=>y(n),l={side:n,props:{onClick:m,color:e.color}};return a==="error"?(k=t.error)==null?void 0:k.call(t,l):a==="empty"?((o=t.empty)==null?void 0:o.call(t,l))??V("div",null,[C(e.emptyText)]):e.mode==="manual"?a==="loading"?((S=t.loading)==null?void 0:S.call(t,l))??v(O,{indeterminate:!0,color:e.color},null):((h=t["load-more"])==null?void 0:h.call(t,l))??v(xe,{variant:"outlined",color:e.color,onClick:m},{default:()=>[C(e.loadMoreText)]}):((_=t.loading)==null?void 0:_.call(t,l))??v(O,{indeterminate:!0,color:e.color},null)}const{dimensionStyles:D}=ye(e);N(()=>{const n=e.tag,a=e.side==="start"||e.side==="both",m=e.side==="end"||e.side==="both",l=e.mode==="intersect";return v(n,{ref:r,class:be(["v-infinite-scroll",`v-infinite-scroll--${e.direction}`,{"v-infinite-scroll--start":a,"v-infinite-scroll--end":m}]),style:Se(D.value)},{default:()=>{var k;return[V("div",{class:"v-infinite-scroll__side"},[b("start",c.value)]),a&&l&&v(Y,{key:"start",side:"start",onIntersect:L,rootMargin:w.value},null),(k=t.default)==null?void 0:k.call(t),m&&l&&v(Y,{key:"end",side:"end",onIntersect:L,rootMargin:w.value},null),V("div",{class:"v-infinite-scroll__side"},[b("end",d.value)])]}})});function q(n){const a=n??e.side;P(a,"ok"),M(()=>{g(u()-x+T()),e.mode!=="manual"&&M(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{a==="both"?(y("start"),y("end")):y(a)})})})})})}return{reset:q}}});export{Re as V,De as a};
