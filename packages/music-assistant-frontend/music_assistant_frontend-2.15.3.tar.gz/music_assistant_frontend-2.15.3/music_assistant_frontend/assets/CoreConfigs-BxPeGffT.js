import{g as M,p as P,i as L,am as A,D,F as m,ag as N,ah as F,J as R,K as S,ap as x,P as z,S as U,E as e,a as X,U as Y,x as E,o as H,a6 as n,a4 as u,a0 as p,Y as i,I as $,X as v,as as y,ad as t,a1 as G,W as T,ab as V,ak as J,ar as w,a2 as r,ac as K,bG as W,cb as j,a5 as q}from"./index-BGgfaO08.js";import{L as O}from"./ListItem-BJnG7rcc.js";import{C as B}from"./Container-DbIstGeW.js";import{V as I}from"./VToolbar-BRuOCCCG.js";import"./Button-D4MtJJYV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VBtn-Bp792jbq.js";import"./VContainer-DLfYWZki.js";/* empty css              */const Q=P({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:s=>["even","odd"].includes(s)},...z(),...x(),...S(),...R()},"VTable"),Z=M()({name:"VTable",props:Q(),setup(s,f){let{slots:l,emit:g}=f;const{themeClasses:_}=L(s),{densityClasses:a}=A(s);return D(()=>{const c={VCheckboxBtn:{density:s.density}};return m(s.tag,{class:F(["v-table",{"v-table--fixed-height":!!s.height,"v-table--fixed-header":s.fixedHeader,"v-table--fixed-footer":s.fixedFooter,"v-table--has-top":!!l.top,"v-table--has-bottom":!!l.bottom,"v-table--hover":s.hover,"v-table--striped-even":s.striped==="even","v-table--striped-odd":s.striped==="odd"},_.value,a.value,s.class]),style:N(s.style)},{default:()=>{var b,o;return[(b=l.top)==null?void 0:b.call(l),m(U,{defaults:c},{default:()=>{var d;return[l.default?e("div",{class:"v-table__wrapper",style:{height:X(s.height)}},[e("table",null,[l.default()])]):(d=l.wrapper)==null?void 0:d.call(l)]}}),(o=l.bottom)==null?void 0:o.call(l)]}})}),{}}}),ee={style:{"margin-bottom":"10px"}},te={class:"line-clamp-1"},ae={class:"line-clamp-1"},ne={style:{"margin-bottom":"10px"}},se={key:0},le=["href"],fe=Y({__name:"CoreConfigs",setup(s){const f=W(),l=E([]),g=function(a){f.push(`/settings/editcore/${a}`)},_=function(a,c){const b=[{label:"settings.configure",labelArgs:[],action:()=>{g(c.domain)},icon:"mdi-cog"},{label:"settings.documentation",labelArgs:[],action:()=>{j(n.providerManifests[c.domain].documentation)},icon:"mdi-bookshelf",disabled:!n.providerManifests[c.domain].documentation}];q.emit("contextmenu",{items:b,posX:a.clientX,posY:a.clientY})};return H(async()=>{l.value=await n.getCoreConfigs(),u.libraryArtistsCount=await n.getLibraryArtistsCount(),u.libraryAlbumsCount=await n.getLibraryAlbumsCount(),u.libraryTracksCount=await n.getLibraryTracksCount(),u.libraryPlaylistsCount=await n.getLibraryPlaylistsCount(),u.libraryRadiosCount=await n.getLibraryRadiosCount()}),(a,c)=>{const b=J("Button");return v(),p($,null,[e("div",ee,[m(I,{color:"transparent"},{title:i(()=>[y(t(a.$t("settings.core_modules")),1)]),_:1}),m(B,null,{default:i(()=>[(v(!0),p($,null,G(l.value.sort((o,d)=>r(n).providerManifests[o.domain].name.localeCompare(r(n).providerManifests[d.domain].name)),o=>(v(),T(O,{key:o.domain,"show-menu-btn":"",class:"list-item-main",link:"",onMenu:d=>_(d,o),onClick:d=>g(o.domain)},{prepend:i(()=>[m(K,{domain:o.domain,size:40,class:"listitem-media-thumb",style:{"margin-left":"10px"}},null,8,["domain"])]),title:i(()=>[e("div",te,t(r(n).providerManifests[o.domain].name),1)]),subtitle:i(()=>[e("div",ae,t(r(n).providerManifests[o.domain].description),1)]),append:i(()=>[o.last_error?(v(),T(b,{key:0,icon:"",title:o.last_error},{default:i(()=>[m(w,{color:"red"},{default:i(()=>c[0]||(c[0]=[y(" mdi-alert-circle ",-1)])),_:1,__:[0]})]),_:2},1032,["title"])):V("",!0)]),_:2},1032,["onMenu","onClick"]))),128))]),_:1})]),e("div",ne,[m(I,{color:"transparent"},{title:i(()=>[y(t(a.$t("settings.server_info")),1)]),_:1}),m(B,null,{default:i(()=>[m(Z,null,{default:i(()=>{var o,d,C,h,k;return[e("tbody",null,[e("tr",null,[e("td",null,t(a.$t("settings.server_id")),1),e("td",null,t((o=r(n).serverInfo.value)==null?void 0:o.server_id),1)]),e("tr",null,[e("td",null,t(a.$t("settings.server_version")),1),e("td",null,t((d=r(n).serverInfo.value)==null?void 0:d.server_version),1)]),(C=r(n).serverInfo.value)!=null&&C.homeassistant_addon?V("",!0):(v(),p("tr",se,[e("td",null,t(a.$t("settings.server_base_url")),1),e("td",null,t((h=r(n).serverInfo.value)==null?void 0:h.base_url),1)])),e("tr",null,[e("td",null,t(a.$t("settings.server_as_addon")),1),e("td",null,[m(w,{icon:(k=r(n).serverInfo.value)!=null&&k.homeassistant_addon?"mdi-check":"mdi-close"},null,8,["icon"])])]),e("tr",null,[e("td",null,t(a.$t("settings.artists_in_library")),1),e("td",null,t(r(u).libraryArtistsCount),1)]),e("tr",null,[e("td",null,t(a.$t("settings.albums_in_library")),1),e("td",null,t(r(u).libraryAlbumsCount),1)]),e("tr",null,[e("td",null,t(a.$t("settings.tracks_in_library")),1),e("td",null,t(r(u).libraryTracksCount),1)]),e("tr",null,[e("td",null,t(a.$t("settings.playlists_in_library")),1),e("td",null,t(r(u).libraryPlaylistsCount),1)]),e("tr",null,[e("td",null,t(a.$t("settings.radio_in_library")),1),e("td",null,t(r(u).libraryRadiosCount),1)]),e("tr",null,[e("td",null,t(a.$t("settings.server_logging")),1),e("td",null,[e("a",{href:`${r(n).baseUrl}/music-assistant.log`,target:"_blank"},t(a.$t("settings.download_log")),9,le)])])])]}),_:1})]),_:1})])],64)}}});export{fe as default};
