import{B as Ae}from"./Button-D4MtJJYV.js";import{_ as Xa,s as _e,c as T,a as ze,o as Se,w as oe,b as Ye,C as Ua,u as Oe,d as Ga,e as vt,f as ja,g as he,p as ge,h as yt,i as it,j as ft,k as He,l as pt,m as ht,n as gt,q as Ka,r as ot,t as st,v as ga,x as F,y as Za,z as ae,A as Ja,B as bt,D as be,E as I,F as c,G as se,H as el,T as tl,I as K,J as Xe,K as Fe,L as _t,M as At,N as al,O as ll,P as $e,Q as wt,R as Pt,V as Je,S as il,U,W as S,X as u,Y as f,Z as Ve,$ as et,a0 as P,a1 as de,a2 as e,a3 as Me,a4 as t,a5 as Ee,a6 as E,a7 as X,a8 as Jt,a9 as tt,aa as ie,ab as Q,ac as nt,ad as V,ae as ol,af as sl,ag as Z,ah as ce,ai as nl,aj as rl,ak as ul,al as ba,am as _a,an as Aa,ao as dl,ap as wa,aq as ne,ar as re,as as j,at as kt,au as We,av as ea,aw as ta,ax as Le,ay as ye,az as rt,aA as Re,aB as Pa,aC as cl,aD as ml,aE as Ct,aF as vl,aG as yl,aH as ka,aI as fl,aJ as Ca,aK as pl,aL as Ia,aM as hl,aN as gl,aO as bl,aP as _l,aQ as Al,aR as wl,aS as aa,aT as Pl,aU as kl,aV as at,aW as Cl,aX as Ue,aY as Ge,aZ as lt,a_ as ut,a$ as qe,b0 as Ie,b1 as Qa,b2 as Va,b3 as Sa,b4 as la,b5 as ia,b6 as Il,b7 as Ql,b8 as Vl,b9 as Ke,ba as Sl,bb as oa,bc as sa,bd as na,be as $l,bf as ra,bg as Qe,bh as $a,bi as Tl,bj as xl,bk as Bl,bl as El}from"./index-BGgfaO08.js";import{D as Ml}from"./constants-BXWEQHoz.js";import{u as It,m as Qt,a as Ll,c as zl,b as Fl}from"./layout-B5JGIgB6.js";import{_ as pe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{M as Ne}from"./MediaItemThumb-Cbujilda.js";import{T as Dl,V as dt}from"./Toolbar-uC2RZ0mv.js";import{V as Ta}from"./VDialog-9Uz27rL3.js";import{V as ql,a as Ol}from"./VInfiniteScroll-CZmdCzlf.js";import{V as Wl,a as Ce,b as xa,m as Rl}from"./VBtn-Bp792jbq.js";import{V as Nl}from"./VSlider-DyWLbf0b.js";import{_ as Hl}from"./VCheckbox-BMJoWdIx.js";import{L as Yl}from"./ListItem-BJnG7rcc.js";import{P as Vt,g as Xl,V as Ul,a as je}from"./PlayerCard-C0FCMqt1.js";import{M as fe,a as ct}from"./marquee_text_sync-CrDgiuRx.js";import{V as Gl}from"./VToolbar-BRuOCCCG.js";import{V as jl}from"./VVirtualScroll-Cck1W7XL.js";import{V as Kl,a as ua,b as da,c as ca}from"./VExpansionPanels-f6UlNs6-.js";import"./VCheckboxBtn-CZTCrZpU.js";const Zl=pe(Xa,[["__scopeId","data-v-ab81bee4"]]),Jl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAKa0lEQVR42u3dW4ycdR3H4e87Mz1D2+1h27TAFiSRw4UaA4iJnPGYgIkmaLzwEO/VhCsT5aQXRuKlV96ZeAwmmpAQJZomysHoBSSmpQWhBFsoZUu37ba7nZnXi1LYtrszO9s9zbzPk/Si0GHKO+/vM///O4cttj89VgaopJpDAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAgAAAAgAIACAAgAAAAgAIACAAgAAAAgAIACAAgAAAAgAIACAAgAAAAgAIACAAgAAAi6rhEFRTPclQLbnsvd+fSHK0nbQcGgFgcK0skk+uKfLAcD27Lq9l68qz//ztyeS14+389nArz5wqM1k6VlVQbH96zENdEVtqyYM7G/ns9nrW1qf/M+Ot5Kk3W3n8f80caTtmVgAMhOFa8tiuRm7bWk+9mPnPra0n9++oZ9OK5AevNfOWCAw0FwErNPy3dxn+968PFMltW+v50dWNbHOGCACDMfy1oocTo0g+tUUEBIDKDb8ICAAVH34REAAqPvwiIABUfPhFQACo+PCLgABQ8eEXAQGg4sMvAgJAxYf/ogjsEgEBoFLDf14EtoqAAFC54b8wAo/uamTY2SQAVGf4p0bgdhEQABZn+B9dRsM/NQJ3iIAAsPDDf8cyG34REAAqPvwiIABUfPini8BWZ5gAMHdbaskjfTT8F0bgMREQAC5h+Ef6b/hFQACYp+G/a3h2X+MlAgiA4XdNAAEw/MszAneKgABQveEXAQGg4sMvAgJAxYdfBASAig+/CAgAFR9+ERAAw1/x4RcBATD8FR9+ERAAw48ICIDh54MIPDIiAgJg+CsbgbuGRUAADL8IiIAAGH4REAEBMPwigAAYfhFgPjUcAsPfLxFIkh8eaOZI2zGxAjD8lYvAncP1PDrSyBZnrQAY/uqpi4AAGH4REAEBMPwiIAICYPhFQAQEwPBXOgKPiIAAGP7qRuAuERAAwy8CIiAAhr/iEXhopJHNzmoBMPzVjMA9w/U8LAICsBDD/7DhFwEBqJ6NRfLQSCN3G/6+isBDVzWyweMlAJdiVZE8uLOeewx/30Xg3m31PLijnpUeNwGYiyLJAxtquX9Hw/D3aQS+uLORBzbU4uETgJ6NNJKvjzSyylHq3xVcLfnGVY2M+OC7APT07JHk29vq2bnac0e/27mmyLeG6052AZi9a1YUuWu4npr57/+TvEju3lbPNQ0PpgDMcu//1c21bHL1aGBsXlnkK1tcCxCAWRiqJTdtqXn2H7BVwM2b69nojBeAbm5cXeSatXM/NO0yabbP/mqX/Xf7XrV6vL8ySfPcbcqzv18MH1pX5EbXdM7j2ug07t1YS2OO8//GeJknDjaze+zsaX37+iJf2tHIFWuLvrh9L8okr58s8/uDzTxzvEyjSO7ZUMt9O+rZPsOgNcvk2SOt/O5wOwdOldm2Kvny1nruGK4v+KstjdrZv9/fx1tOcgGY3qoiuXrd3PaKb4yX+d7eM3lxsnz/We0/R8r8Y+xMfnbdiq5DuNS379VrJ9v57kvN7Jn84Dn8hcOtPHO8nZ9ctyLbVhUXrUz+eLCVH7/RzIn3brK3mTw33sx3TpX55q6Ffb9FkeSay2pZVbQyUTrXbQGmcXmRbF3T+1nYLpMnDjbPG75zz5IvTJb5w6Fmx+XxUt9+Lsv+X77ROm/4z93fs6fKPHWoddH9HTpd5ucHW+8P/zkTZfKLt1vZd3zhv+976+oil9sFCMBM1iYZWjG3fffusXLa/WyZZPexsusAL+Xte3V4oszfxtozbg3+Ota+6P4OnGjn0Ax/idF28q+j7Sx0AjatPPsYIwDTWlkk6+Z4+f90a+YJO9Uql/3te7Hn3XbenOet9JOj7Uy0FnZtvq5W+GyAAHQ5KE6Qjppl8uej7XSa/1svu/hl1J3ratnc4djunyyz/0TpsRUAlrO3J8o8f2LmxfraIrlp4zQBWF3kox0uRB4vkxeOthflpUsEgAVa/u9qFPnw+osHvV5LPr+p83vynzzazqQCCAD9u/z/zFAta6d5Pa9Icv3GWsef8rt/ssy+EwIgAPTt8v/mjTO/jfqK2W4DHGoBYHCW/z1vA1pWAQJA/y3/N06//L9wG9Dp+/tftg0QAJbn8v+f3a7+D3X/FOUVq4t8rMM2YKxMXnzXNkAAWFb2HmvnUIen/5FGkevWd3+hfVbbgFHbAAFgeS3/Ry9t+d/LNmAx3hSEADBLR2Zz9X9o9l+i0u3VgLEyecE2QABYHvYc63z1f6TL1f/ptgFfsA0QAPpn+d/ssvxf18OH+W0DBICKLv9tAwSACi//p24DvBogACzz5f9f5nn5bxsgAPTR8v+5Dsv/NXNc/p9zpW2AANC/y/9dc1z+97QN8NkAAWB5Lv8/Pcfl/3nbgA1dtgETtgECwLJc/t8ydOk/QenKNd23AT4bIAAM2PJ/6jbgc7YBAkC1lv9TtwE3bKhlc4ezcZ9tgAAweMt/2wABYBnau0jL/6nbAK8GCAAVW/7bBggAy3D5/+wCvvnHNkAA6OPl/2y/+cc2QADoM60lWP5P3QZcbxsgACzh8n9yca/+X+iqNUU+YhsgACyNPe/Ozxd/XtI2YGg22wCPlQAw78v/p48uzfJ/6jbgho3dtwEvn7QGEADmffn/7PGlW/73tA3w48MEgHle/h9b2uV/r9uAMwogAMzj8r/r1f9iQZf/vW4D9p9QAAFgoJb/520D1sx8Z8dsAwSA+dPtx35d1Shy3frFO11m+6Yg2wABYICW/+dvAwrbgAXWcAjmz5ZakaTs8O+W5+2PninzyniZa+sznCRFcusiLv8/2AbU8ol1RfaMlzNG4qVj7dy4vpbC6Te30G5/esz7Kqe4tp786eOr0pjD2qjZ5cmo239zqW5fJml1uW2tyKIHYDb/T0WR9LIwabaT+/49kZe9kcgKYN4PZq0/b1/Mw30v12OKawCAAAACAAgAIADTantdZHAfW4dAADo5XSZjvnJqYB1rljnt4RWAmYyWyYGTzpBB9frJMqMeXgGYyXiZPD/ajkXA4GmVyfOjrYx7bAWgk1+/08or3mM+cP57op3fvONxFYAu3monj7/azOEJTxWD4vBEmZ++2syb5l8AZmP3eJnv7z2TfcdtB/p92b//eDsP7TuT3db+F/FhoC621ZKvba7nls21XLm2yPp6sSQfimH22u+9knPgZJl/jrbzq3daecszvwBcinVFMlQkqw1/Xzhdnn1Fx5N+Zz4NOEsny7O/wDUAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQABAAAABAAQAEABAAAABAAQAEABAAAABAAQAEABAAAABAAQAEABAAAABAAQAEABAAAABAAQAEABAAAABAAQAEABAAAABAAQAEABAAAABAAQAEABAAEAAAAEABAAQAEAAAAEABAAQAEAAAAEA+tL/AYvYNHE2dY4wAAAAAElFTkSuQmCC";function ei(a){let{rootEl:l,isSticky:s,layoutItemStyles:i}=a;const n=_e(!1),o=_e(0),r=T(()=>{const v=typeof n.value=="boolean"?"top":n.value;return[s.value?{top:"auto",bottom:"auto",height:void 0}:void 0,n.value?{[v]:ze(o.value)}:{top:i.value.top}]});Se(()=>{oe(s,v=>{v?window.addEventListener("scroll",y,{passive:!0}):window.removeEventListener("scroll",y)},{immediate:!0})}),Ye(()=>{window.removeEventListener("scroll",y)});let d=0;function y(){const v=d>window.scrollY?"up":"down",C=l.value.getBoundingClientRect(),b=parseFloat(i.value.top??0),m=window.scrollY-Math.max(0,o.value-b),g=C.height+Math.max(o.value,b)-window.scrollY-window.innerHeight,_=parseFloat(getComputedStyle(l.value).getPropertyValue("--v-body-scroll-y"))||0;C.height<window.innerHeight-b?(n.value="top",o.value=b):v==="up"&&n.value==="bottom"||v==="down"&&n.value==="top"?(o.value=window.scrollY+C.top-_,n.value=!0):v==="down"&&g<=0?(o.value=0,n.value="bottom"):v==="up"&&m<=0&&(_?n.value!=="top"&&(o.value=-m+_+b,n.value="top"):(o.value=C.top+m,n.value="top")),d=window.scrollY}return{isStuck:n,stickyStyles:r}}const ti=100,ai=20;function ma(a){return(a<0?-1:1)*Math.sqrt(Math.abs(a))*1.41421356237}function va(a){if(a.length<2)return 0;if(a.length===2)return a[1].t===a[0].t?0:(a[1].d-a[0].d)/(a[1].t-a[0].t);let l=0;for(let s=a.length-1;s>0;s--){if(a[s].t===a[s-1].t)continue;const i=ma(l),n=(a[s].d-a[s-1].d)/(a[s].t-a[s-1].t);l+=(n-i)*Math.abs(n),s===a.length-1&&(l*=.5)}return ma(l)*1e3}function li(){const a={};function l(n){Array.from(n.changedTouches).forEach(o=>{(a[o.identifier]??(a[o.identifier]=new Ua(ai))).push([n.timeStamp,o])})}function s(n){Array.from(n.changedTouches).forEach(o=>{delete a[o.identifier]})}function i(n){var v;const o=(v=a[n])==null?void 0:v.values().reverse();if(!o)throw new Error(`No samples for touch id ${n}`);const r=o[0],d=[],y=[];for(const C of o){if(r[0]-C[0]>ti)break;d.push({t:C[0],d:C[1].clientX}),y.push({t:C[0],d:C[1].clientY})}return{x:va(d),y:va(y),get direction(){const{x:C,y:b}=this,[m,g]=[Math.abs(C),Math.abs(b)];return m>g&&C>=0?"right":m>g&&C<=0?"left":g>m&&b>=0?"down":g>m&&b<=0?"up":ii()}}}return{addMovement:l,endTouch:s,getVelocity:i}}function ii(){throw new Error}function oi(a){let{el:l,isActive:s,isTemporary:i,width:n,touchless:o,position:r}=a;Se(()=>{window.addEventListener("touchstart",R,{passive:!0}),window.addEventListener("touchmove",N,{passive:!1}),window.addEventListener("touchend",q,{passive:!0})}),Ye(()=>{window.removeEventListener("touchstart",R),window.removeEventListener("touchmove",N),window.removeEventListener("touchend",q)});const d=T(()=>["left","right"].includes(r.value)),{addMovement:y,endTouch:v,getVelocity:C}=li();let b=!1;const m=_e(!1),g=_e(0),_=_e(0);let x;function O(h,k){return(r.value==="left"?h:r.value==="right"?document.documentElement.clientWidth-h:r.value==="top"?h:r.value==="bottom"?document.documentElement.clientHeight-h:Be())-(k?n.value:0)}function D(h){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const $=r.value==="left"?(h-_.value)/n.value:r.value==="right"?(document.documentElement.clientWidth-h-_.value)/n.value:r.value==="top"?(h-_.value)/n.value:r.value==="bottom"?(document.documentElement.clientHeight-h-_.value)/n.value:Be();return k?Ga($):$}function R(h){if(o.value)return;const k=h.changedTouches[0].clientX,$=h.changedTouches[0].clientY,M=25,L=r.value==="left"?k<M:r.value==="right"?k>document.documentElement.clientWidth-M:r.value==="top"?$<M:r.value==="bottom"?$>document.documentElement.clientHeight-M:Be(),w=s.value&&(r.value==="left"?k<n.value:r.value==="right"?k>document.documentElement.clientWidth-n.value:r.value==="top"?$<n.value:r.value==="bottom"?$>document.documentElement.clientHeight-n.value:Be());(L||w||s.value&&i.value)&&(x=[k,$],_.value=O(d.value?k:$,s.value),g.value=D(d.value?k:$),b=_.value>-20&&_.value<80,v(h),y(h))}function N(h){const k=h.changedTouches[0].clientX,$=h.changedTouches[0].clientY;if(b){if(!h.cancelable){b=!1;return}const L=Math.abs(k-x[0]),w=Math.abs($-x[1]);(d.value?L>w&&L>3:w>L&&w>3)?(m.value=!0,b=!1):(d.value?w:L)>3&&(b=!1)}if(!m.value)return;h.preventDefault(),y(h);const M=D(d.value?k:$,!1);g.value=Math.max(0,Math.min(1,M)),M>1?_.value=O(d.value?k:$,!0):M<0&&(_.value=O(d.value?k:$,!1))}function q(h){if(b=!1,!m.value)return;y(h),m.value=!1;const k=C(h.changedTouches[0].identifier),$=Math.abs(k.x),M=Math.abs(k.y);(d.value?$>M&&$>400:M>$&&M>3)?s.value=k.direction===({left:"right",right:"left",top:"down",bottom:"up"}[r.value]||Be()):s.value=g.value>.5}const A=T(()=>m.value?{transform:r.value==="left"?`translateX(calc(-100% + ${g.value*n.value}px))`:r.value==="right"?`translateX(calc(100% - ${g.value*n.value}px))`:r.value==="top"?`translateY(calc(-100% + ${g.value*n.value}px))`:r.value==="bottom"?`translateY(calc(100% - ${g.value*n.value}px))`:Be(),transition:"none"}:void 0);return Oe(m,()=>{var $,M;const h=(($=l.value)==null?void 0:$.style.transform)??null,k=((M=l.value)==null?void 0:M.style.transition)??null;vt(()=>{var L,w,p,z;(w=l.value)==null||w.style.setProperty("transform",((L=A.value)==null?void 0:L.transform)||"none"),(z=l.value)==null||z.style.setProperty("transition",((p=A.value)==null?void 0:p.transition)||null)}),ja(()=>{var L,w;(L=l.value)==null||L.style.setProperty("transform",h),(w=l.value)==null||w.style.setProperty("transition",k)})}),{isDragging:m,dragProgress:g,dragStyles:A}}function Be(){throw new Error}const si=["start","end","left","right","top","bottom"],ni=ge({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:a=>si.includes(a)},sticky:Boolean,...wt(),...$e(),...ll(),...al({mobile:null}),...At(),...Qt(),..._t(),...Fe({tag:"nav"}),...Xe()},"VNavigationDrawer"),Ba=he()({name:"VNavigationDrawer",props:ni(),emits:{"update:modelValue":a=>!0,"update:rail":a=>!0},setup(a,l){let{attrs:s,emit:i,slots:n}=l;const{isRtl:o}=yt(),{themeClasses:r}=it(a),{borderClasses:d}=ft(a),{backgroundColorClasses:y,backgroundColorStyles:v}=He(()=>a.color),{elevationClasses:C}=pt(a),{displayClasses:b,mobile:m}=ht(a),{roundedClasses:g}=gt(a),_=Ka(),x=ot(a,"modelValue",null,Y=>!!Y),{ssrBootStyles:O}=st(),{scopeId:D}=ga(),R=F(),N=_e(!1),{runOpenDelay:q,runCloseDelay:A}=el(a,Y=>{N.value=Y}),h=T(()=>a.rail&&a.expandOnHover&&N.value?Number(a.width):Number(a.rail?a.railWidth:a.width)),k=T(()=>Za(a.location,o.value)),$=ae(()=>a.persistent),M=T(()=>!a.permanent&&(m.value||a.temporary)),L=T(()=>a.sticky&&!M.value&&k.value!=="bottom");Oe(()=>a.expandOnHover&&a.rail!=null,()=>{oe(N,Y=>i("update:rail",!Y))}),Oe(()=>!a.disableResizeWatcher,()=>{oe(M,Y=>!a.permanent&&Pt(()=>x.value=!Y))}),Oe(()=>!a.disableRouteWatcher&&!!_,()=>{oe(_.currentRoute,()=>M.value&&(x.value=!1))}),oe(()=>a.permanent,Y=>{Y&&(x.value=!0)}),a.modelValue==null&&!M.value&&(x.value=a.permanent||!m.value);const{isDragging:w,dragProgress:p}=oi({el:R,isActive:x,isTemporary:M,width:h,touchless:ae(()=>a.touchless),position:k}),z=T(()=>{const Y=M.value?0:a.rail&&a.expandOnHover?Number(a.railWidth):h.value;return w.value?Y*p.value:Y}),{layoutItemStyles:W,layoutItemScrimStyles:G}=It({id:a.name,order:T(()=>parseInt(a.order,10)),position:k,layoutSize:z,elementSize:h,active:Ja(x),disableTransitions:ae(()=>w.value),absolute:T(()=>a.absolute||L.value&&typeof H.value!="string")}),{isStuck:H,stickyStyles:J}=ei({rootEl:R,isSticky:L,layoutItemStyles:W}),ee=He(()=>typeof a.scrim=="string"?a.scrim:null),ue=T(()=>({...w.value?{opacity:p.value*.2,transition:"none"}:void 0,...G.value}));return bt({VList:{bgColor:"transparent"}}),be(()=>{const Y=n.image||a.image;return I(K,null,[c(a.tag,se({ref:R,onMouseenter:q,onMouseleave:A,class:["v-navigation-drawer",`v-navigation-drawer--${k.value}`,{"v-navigation-drawer--expand-on-hover":a.expandOnHover,"v-navigation-drawer--floating":a.floating,"v-navigation-drawer--is-hovering":N.value,"v-navigation-drawer--rail":a.rail,"v-navigation-drawer--temporary":M.value,"v-navigation-drawer--persistent":$.value,"v-navigation-drawer--active":x.value,"v-navigation-drawer--sticky":L.value},r.value,y.value,d.value,b.value,C.value,g.value,a.class],style:[v.value,W.value,O.value,J.value,a.style]},D,s),{default:()=>{var me,we,De;return[Y&&I("div",{key:"image",class:"v-navigation-drawer__img"},[n.image?c(il,{key:"image-defaults",disabled:!a.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:a.image}}},n.image):c(Je,{key:"image-img",alt:"",cover:!0,height:"inherit",src:a.image},null)]),n.prepend&&I("div",{class:"v-navigation-drawer__prepend"},[(me=n.prepend)==null?void 0:me.call(n)]),I("div",{class:"v-navigation-drawer__content"},[(we=n.default)==null?void 0:we.call(n)]),n.append&&I("div",{class:"v-navigation-drawer__append"},[(De=n.append)==null?void 0:De.call(n)])]}}),c(tl,{name:"fade-transition"},{default:()=>[M.value&&(w.value||x.value)&&!!a.scrim&&I("div",se({class:["v-navigation-drawer__scrim",ee.backgroundColorClasses.value],style:[ue.value,ee.backgroundColorStyles.value],onClick:()=>{$.value||(x.value=!1)}},D),null)]})])}),{isStuck:H}}}),Ea=function(){const a=localStorage.getItem("frontend.settings.menu_items"),l=a?a.split(","):Ml,s=[];for(const i of l)i==="home"&&s.push({label:"home",icon:"mdi-home-outline",path:"/home",isLibraryNode:!1}),i==="search"&&s.push({label:"search",icon:"mdi-magnify",path:"/search",isLibraryNode:!1}),i==="artists"&&s.push({label:"artists",icon:"mdi-account-outline",path:"/artists",isLibraryNode:!0,hidden:t.libraryArtistsCount===0}),i==="albums"&&s.push({label:"albums",icon:"mdi-album",path:"/albums",isLibraryNode:!0,hidden:t.libraryAlbumsCount===0}),i==="tracks"&&s.push({label:"tracks",icon:"mdi-music-note",path:"/tracks",isLibraryNode:!0,hidden:t.libraryTracksCount===0}),i==="playlists"&&s.push({label:"playlists",icon:"mdi-playlist-play",path:"/playlists",isLibraryNode:!0,hidden:t.libraryPlaylistsCount===0}),i==="podcasts"&&s.push({label:"podcasts",icon:"mdi-podcast",path:"/podcasts",isLibraryNode:!0,hidden:t.libraryPodcastsCount===0}),i==="audiobooks"&&s.push({label:"audiobooks",icon:"mdi-book-play-outline",path:"/audiobooks",isLibraryNode:!0,hidden:t.libraryAudiobooksCount===0}),i==="radios"&&s.push({label:"radios",icon:"mdi-access-point",path:"/radios",isLibraryNode:!0,hidden:t.libraryRadiosCount===0}),i==="browse"&&s.push({label:"browse",icon:"mdi-folder-outline",path:"/browse",isLibraryNode:!0}),i==="settings"&&s.push({label:"settings.settings",icon:"mdi-cog-outline",path:"/settings",isLibraryNode:!0});return s},ri=U({__name:"DrawerNavigation",setup(a){const l=F(localStorage.getItem("show_navigation_menu")==="true"),s=Ea();return oe(()=>l.value,i=>{localStorage.setItem("show_navigation_menu",i.toString())}),(i,n)=>(u(),S(Ba,{app:"",rail:!l.value,width:280,permanent:""},{default:f(()=>[c(Ve,{style:{height:"55px"},active:!1},{prepend:f(()=>n[1]||(n[1]=[I("img",{class:"logo_icon",size:"40",src:Jl},null,-1)])),title:f(()=>n[2]||(n[2]=[I("div",{class:"logo_text"},"Music Assistant",-1)])),_:1}),c(et),c(Me,{lines:"one",density:"compact",nav:""},{default:f(()=>[(u(!0),P(K,null,de(e(s).filter(o=>!o.hidden),o=>(u(),S(Ve,{key:o.path,nav:"",density:"compact",height:15,title:i.$t(o.label),"prepend-icon":o.icon,to:o.path},null,8,["title","prepend-icon","to"]))),128))]),_:1}),c(Ae,{nav:"",height:15,width:40,style:{position:"relative",float:"right",right:"10px",top:"20px"},ripple:!1,icon:l.value?"mdi-chevron-left":"mdi-chevron-right",title:i.$t("tooltip.show_menu"),onClick:n[0]||(n[0]=o=>l.value=!l.value)},null,8,["icon","title"])]),_:1},8,["rail"]))}}),ui=pe(ri,[["__scopeId","data-v-3b429b32"]]),di={class:"media-thumb"},ci={style:{"margin-left":"-10px","padding-right":"5px"}},mi=U({__name:"AddToPlaylistDialog",setup(a){const l=F(!1),s=F([]),i=F([]),n=F(),o=F([]);Se(()=>{Ee.on("playlistdialog",async C=>{l.value=!0,o.value=C.items,n.value=C.parentItem,await r()}),Ye(()=>{Ee.off("playlistdialog")})});const r=async function(){s.value=[],i.value=[];const C=await E.getLibraryPlaylists();let b=o.value.length?o.value[0]:void 0;if(b){"provider_mappings"in b||(b=await E.getItem(b.media_type,b.item_id,b.provider));for(const m of C){if(!m.provider_mappings.filter(_=>_.available).length||!m.is_editable||n.value&&n.value.media_type===X.PLAYLIST&&m.item_id===n.value.item_id)continue;const g=E.providers[m.provider_mappings[0].provider_instance];g&&(g.domain=="builtin"||g.is_streaming_provider||b!=null&&b.provider_mappings.filter(_=>_.provider_instance==g.instance_id).length)&&s.value.push(m)}for(const m of Object.values(E.providers))m.supported_features.includes(Jt.PLAYLIST_CREATE)&&m.supported_features.includes(Jt.PLAYLIST_TRACKS_EDIT)&&(m.domain=="builtin"||m.is_streaming_provider||b!=null&&b.provider_mappings.filter(g=>g.provider_instance==m.instance_id).length)&&i.value.push(m.instance_id)}},d=async function(C){E.addPlaylistTracks(C.item_id,o.value.map(b=>b.uri)),v(),t.activeAlert={type:ol.INFO,message:ie("background_task_added"),persistent:!1}},y=async function(C){const b=prompt(ie("new_playlist_name"));if(!b)return;const m=await E.createPlaylist(b,C);d(m)},v=function(){l.value=!1};return(C,b)=>(u(),S(Ta,{modelValue:l.value,"onUpdate:modelValue":[b[0]||(b[0]=m=>l.value=m),b[1]||(b[1]=m=>{e(t).dialogActive=m})],fullscreen:"",transition:"dialog-bottom-transition"},{default:f(()=>[c(tt,null,{default:f(()=>[c(Dl,{icon:"mdi-playlist-plus",title:e(ie)("add_playlist"),"menu-items":[{label:"close",icon:"mdi-close",action:v}]},null,8,["title","menu-items"]),c(et),b[4]||(b[4]=I("br",null,null,-1)),c(Me,null,{default:f(()=>[(u(!0),P(K,null,de(s.value,m=>(u(),P("div",{key:m.item_id},[c(Ve,{onClick:g=>d(m)},{prepend:f(()=>[I("div",di,[c(Ne,{item:m,size:50},null,8,["item"])])]),title:f(()=>[I("div",null,V(m.name),1)]),subtitle:f(()=>[I("div",null,V(m.owner),1)]),append:f(()=>[m.provider_mappings?(u(),S(nt,{key:0,domain:m.provider_mappings[0].provider_domain,size:20},null,8,["domain"])):Q("",!0)]),_:2},1032,["onClick"])]))),128)),b[2]||(b[2]=I("div",{style:{height:"30px"}},null,-1)),c(et),b[3]||(b[3]=I("div",{style:{height:"30px"}},null,-1)),(u(!0),P(K,null,de(i.value,m=>(u(),P("div",{key:m},[c(Ve,{onClick:g=>y(m)},{prepend:f(()=>[I("div",ci,[c(nt,{domain:e(E).providers[m].domain,size:50},null,8,["domain"])])]),title:f(()=>[I("div",null,V(e(ie)("new_playlist")),1)]),subtitle:f(()=>[I("div",null,V(e(ie)("create_playlist_on",[e(E).providers[m].name])),1)]),append:f(()=>[c(nt,{domain:e(E).providers[m].domain,size:20},null,8,["domain"])]),_:2},1032,["onClick"])]))),128))]),_:1,__:[2,3]})]),_:1,__:[4]})]),_:1},8,["modelValue"]))}}),vi=pe(mi,[["__scopeId","data-v-bd014719"]]),yi=ge({scrollable:Boolean,...$e(),...nl(),...Fe({tag:"main"})},"VMain"),fi=he()({name:"VMain",props:yi(),setup(a,l){let{slots:s}=l;const{dimensionStyles:i}=sl(a),{mainStyles:n}=Ll(),{ssrBootStyles:o}=st();return be(()=>c(a.tag,{class:ce(["v-main",{"v-main--scrollable":a.scrollable},a.class]),style:Z([n.value,o.value,i.value,a.style])},{default:()=>{var r,d;return[a.scrollable?I("div",{class:"v-main__scroller"},[(r=s.default)==null?void 0:r.call(s)]):(d=s.default)==null?void 0:d.call(s)]}})),{}}}),ya=U({__name:"View",setup(a){return(l,s)=>{const i=ul("router-view");return u(),S(fi,{id:"cont",class:"overflow-y-auto",style:{height:"0px"}},{default:f(()=>{var n,o,r;return[e(t).navigationMenuStyle=="vertical"&&!e(t).frameless?(u(),S(ui,{key:0})):Q("",!0),c(i,null,{default:f(({Component:d})=>[(u(),S(rl(d)))]),_:1}),c(vi),c(Zl),c(ql,{"model-value":e(t).activeAlert!==void 0,color:((n=e(t).activeAlert)==null?void 0:n.type)||"grey",text:(o=e(t).activeAlert)==null?void 0:o.message,"close-on-content-click":"",position:"sticky",timeout:(r=e(t).activeAlert)!=null&&r.persistent?-1:5e3,"z-index":"999999",style:{"z-index":"999999"},"onUpdate:modelValue":s[0]||(s[0]=()=>e(t).activeAlert=void 0)},null,8,["model-value","color","text","timeout"])]}),_:1})}}}),pi=ge({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:a=>!a||["horizontal","shift"].includes(a)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...wt(),...$e(),...wa(),...At(),..._t(),...Qt({name:"bottom-navigation"}),...Fe({tag:"header"}),...dl({selectedClass:"v-btn--selected"}),...Xe()},"VBottomNavigation"),hi=he()({name:"VBottomNavigation",props:pi(),emits:{"update:active":a=>!0,"update:modelValue":a=>!0},setup(a,l){let{slots:s}=l;const{themeClasses:i}=ba(),{borderClasses:n}=ft(a),{backgroundColorClasses:o,backgroundColorStyles:r}=He(()=>a.bgColor),{densityClasses:d}=_a(a),{elevationClasses:y}=pt(a),{roundedClasses:v}=gt(a),{ssrBootStyles:C}=st(),b=T(()=>Number(a.height)-(a.density==="comfortable"?8:0)-(a.density==="compact"?16:0)),m=ot(a,"active",a.active),{layoutItemStyles:g}=It({id:a.name,order:T(()=>parseInt(a.order,10)),position:ae(()=>"bottom"),layoutSize:ae(()=>m.value?b.value:0),elementSize:b,active:m,absolute:ae(()=>a.absolute)});return Aa(a,Wl),bt({VBtn:{baseColor:ae(()=>a.baseColor),color:ae(()=>a.color),density:ae(()=>a.density),stacked:ae(()=>a.mode!=="horizontal"),variant:"text"}},{scoped:!0}),be(()=>c(a.tag,{class:ce(["v-bottom-navigation",{"v-bottom-navigation--active":m.value,"v-bottom-navigation--grow":a.grow,"v-bottom-navigation--shift":a.mode==="shift"},i.value,o.value,n.value,d.value,y.value,v.value,a.class]),style:Z([r.value,g.value,{height:ze(b.value)},C.value,a.style])},{default:()=>[s.default&&I("div",{class:"v-bottom-navigation__content"},[s.default()])]})),{}}}),gi={class:"menuButton"},bi={class:"menuButton"},_i={class:"menuButton"},Ai=U({__name:"BottomNavigation",props:{height:{}},setup(a){const l=Ea(),s=F(!1);return(i,n)=>(u(),S(hi,{height:i.height,grow:"",elevation:"15",style:{"border-top":"1px solid #20202035"},role:"navigation"},{default:f(()=>[e(ne)("tablet")?(u(!0),P(K,{key:0},de(e(l),o=>(u(),S(Ce,{key:o.label,to:o.path,"aria-label":i.$t(o.label),tabindex:"0"},{default:f(()=>[c(re,{size:"xx-large"},{default:f(()=>[j(V(o.icon),1)]),_:2},1024),I("span",gi,V(i.$t(o.label)),1)]),_:2},1032,["to","aria-label"]))),128)):(u(),P(K,{key:1},[(u(!0),P(K,null,de(e(l).filter(o=>!o.isLibraryNode),o=>(u(),S(Ce,{key:o.label,to:o.path,"aria-label":i.$t(o.label),tabindex:"0"},{default:f(()=>[c(re,{size:"xx-large"},{default:f(()=>[j(V(o.icon),1)]),_:2},1024),I("span",bi,V(i.$t(o.label)),1)]),_:2},1032,["to","aria-label"]))),128)),c(kt,null,{activator:f(({props:o})=>[c(Ce,se(o,{"aria-haspopup":"true","aria-expanded":s.value.toString(),"aria-label":"Open library menu"}),{default:f(()=>[c(re,{size:"xx-large"},{default:f(()=>n[0]||(n[0]=[j("mdi-bookshelf",-1)])),_:1,__:[0]}),I("span",_i,V(i.$t("library")),1)]),_:2},1040,["aria-expanded"])]),default:f(()=>[c(Me,null,{default:f(()=>[(u(!0),P(K,null,de(e(l).filter(o=>o.isLibraryNode),o=>(u(),S(Ve,{key:o.label,title:i.$t(o.label),"prepend-icon":o.icon,to:o.path},null,8,["title","prepend-icon","to"]))),128))]),_:1})]),_:1})],64))]),_:1},8,["height"]))}}),wi=pe(Ai,[["__scopeId","data-v-5c8e33d1"]]),Pi={style:{width:"auto"}},ki={key:0,style:{width:"100%"}},Ci=["onClick"],Ii={key:0,class:"time-text-row"},Qi={class:"text-caption time-text-right"},Vi=U({__name:"PlayerTimeline",props:{showLabels:{type:Boolean,default:!1},color:{default:void 0}},setup(a){const l=F(!1),s=F(!0),i=F(!1),n=F(0),o=F(0),r=T(()=>t.curQueueItem?l.value?`-${We(t.curQueueItem.duration-y.value)}`:`${We(y.value)}`:"0:00"),d=T(()=>{var _;if(!t.curQueueItem||!t.curQueueItem.duration||((_=t.curQueueItem.media_item)==null?void 0:_.media_type)==X.RADIO)return"";const g=t.curQueueItem.duration;return We(g)}),y=T(()=>i.value?(o.value=n.value,n.value):t.activePlayerQueue?t.activePlayerQueue.elapsed_time:0),v=T(()=>{var _,x,O;const g={};return(O=(x=(_=t.curQueueItem)==null?void 0:_.media_item)==null?void 0:x.metadata)!=null&&O.chapters&&t.curQueueItem.media_item.metadata.chapters.forEach(D=>{g[D.start]=D.name}),g});oe(y,g=>{i.value||(n.value=g)});const C=function(){i.value=!0},b=()=>{i.value=!1,!i.value&&t.activePlayer&&E.playerCommandSeek(t.activePlayer.player_id,Math.round(o.value))},m=function(g){var _,x,O;if((O=(x=(_=t.curQueueItem)==null?void 0:_.media_item)==null?void 0:x.metadata)!=null&&O.chapters){for(const D of t.curQueueItem.media_item.metadata.chapters)if(D.start==g){E.playMedia(t.curQueueItem.media_item.uri,void 0,void 0,D.position.toString());return}}};return(g,_)=>{var x,O;return u(),P("div",Pi,[e(t).activePlayerQueue?(u(),P("div",ki,[c(Nl,{modelValue:n.value,"onUpdate:modelValue":_[0]||(_[0]=D=>n.value=D),disabled:!e(t).curQueueItem||!e(t).curQueueItem.media_item||!e(t).curQueueItem.duration||e(t).curQueueItem.media_item.media_type==e(X).RADIO||((x=e(t).activePlayer)==null?void 0:x.powered)==!1,style:{width:"100%"},min:0,max:(O=e(t).curQueueItem)==null?void 0:O.duration,"hide-details":"","track-size":2,"thumb-size":s.value?0:10,"show-ticks":v.value?"always":!1,ticks:v.value,"tick-size":"4",color:g.color,onTouchstart:_[1]||(_[1]=D=>s.value=!1),onTouchend:_[2]||(_[2]=D=>s.value=!0),onMouseenter:_[3]||(_[3]=D=>s.value=!1),onMouseleave:_[4]||(_[4]=D=>s.value=!0),onStart:C,onEnd:b},{"tick-label":f(({tick:D})=>[g.showLabels&&!s.value&&Object.values(v.value).length<6?(u(),P("a",{key:0,class:"text-caption",onClick:R=>m(D.value)},V(D.label),9,Ci)):Q("",!0)]),_:1},8,["modelValue","disabled","max","thumb-size","show-ticks","ticks","color"]),g.showLabels?(u(),P("div",Ii,[I("div",{class:"text-caption time-text-left",onClick:_[5]||(_[5]=D=>l.value?l.value=!1:l.value=!0)},V(r.value),1),I("div",Qi,V(d.value),1)])):Q("",!0)])):Q("",!0)])}}}),Ma=pe(Vi,[["__scopeId","data-v-5386447e"]]),Si=U({__name:"ResponsiveIcon",props:{width:{default:void 0},height:{default:void 0},staticWidth:{default:void 0},staticHeight:{default:void 0},maxWidth:{default:void 0},maxHeight:{default:void 0},minWidth:{default:"24px"},minHeight:{default:"24px"},icon:{default:void 0},type:{default:"icon"},color:{default:void 0},disabled:{type:Boolean},badge:{type:Boolean,default:void 0}},emits:["click"],setup(a,{emit:l}){const s=()=>{if(i.value){const o=i.value.offsetWidth,r=i.value.offsetHeight,d=Math.min(o,r);n.value.$el.style.fontSize=`${d}px`}},i=F(),n=F();return Se(()=>{s(),window.addEventListener("resize",s)}),Ye(()=>{window.removeEventListener("resize",s)}),(o,r)=>(u(),P("div",{ref_key:"responsiveIconHolder",ref:i,class:ce([o.type=="btn"&&!o.disabled?"responsive-icon-holder-btn":"responsive-icon-holder"]),style:Z({width:o.staticWidth?o.staticWidth:o.width,height:o.staticWidth?o.staticWidth:o.height,maxHeight:o.staticHeight?o.staticHeight:o.maxHeight,maxWidth:o.staticWidth?o.staticWidth:o.maxWidth,minHeight:o.staticHeight?o.staticHeight:o.minHeight,minWidth:o.staticWidth?o.staticWidth:o.minWidth}),onClick:r[0]||(r[0]=d=>o.disabled?d.preventDefault():o.$emit("click",d))},[c(dt,{"model-value":o.badge==!0,color:"error",dot:""},{default:f(()=>[o.type==="icon"?(u(),S(re,{key:0,ref_key:"responsiveIcon",ref:n,class:"responsive-icon",color:o.color?o.color:"",icon:o.icon?o.icon:"mdi-check",width:o.staticWidth?o.staticWidth:null,height:o.staticHeight?o.staticHeight:null,disabled:o.disabled},ea({_:2},[de(o.$slots,(d,y)=>({name:y,fn:f(()=>[ta(o.$slots,y,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):o.type==="btn"?(u(),S(re,{key:1,ref_key:"responsiveIcon",ref:n,class:"responsive-icon",style:{cursor:"pointer"},color:o.color?o.color:"",icon:o.icon?o.icon:"mdi-check",width:o.staticWidth?o.staticWidth:null,height:o.staticHeight?o.staticHeight:null,disabled:o.disabled},ea({_:2},[de(o.$slots,(d,y)=>({name:y,fn:f(()=>[ta(o.$slots,y,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):Q("",!0)]),_:3},8,["model-value"])],6))}}),Te=pe(Si,[["__scopeId","data-v-2c9253ab"]]),La=U({__name:"RepeatBtn",props:{playerQueue:{},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){return(l,s)=>{var i,n;return l.isVisible&&l.playerQueue?(u(),S(Te,se({key:0},l.icon,{disabled:!l.playerQueue.active||l.playerQueue.items==0,color:e(Le)((i=l.icon)==null?void 0:i.color,[[l.playerQueue.repeat_mode==e(ye).OFF,null],[l.playerQueue.repeat_mode==e(ye).ALL,"primary"],[l.playerQueue.repeat_mode==e(ye).ONE,"primary"]]),icon:e(Le)((n=l.icon)==null?void 0:n.icon,[[l.playerQueue.repeat_mode==e(ye).OFF,"mdi-repeat-off"],[l.playerQueue.repeat_mode==e(ye).ALL,"mdi-repeat"],[l.playerQueue.repeat_mode==e(ye).ONE,"mdi-repeat-once"],[!0,"mdi-repeat-off"]]),type:"btn",onClick:s[0]||(s[0]=o=>e(E).queueCommandRepeat(l.playerQueue.queue_id||"",e(Le)(null,[[l.playerQueue.repeat_mode==e(ye).OFF,e(ye).ONE],[l.playerQueue.repeat_mode==e(ye).ALL,e(ye).OFF],[l.playerQueue.repeat_mode==e(ye).ONE,e(ye).ALL]])))}),null,16,["disabled","color","icon"])):Q("",!0)}}}),za=U({__name:"ShuffleBtn",props:{playerQueue:{},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){return(l,s)=>{var i,n;return l.isVisible&&l.playerQueue?(u(),S(Te,se({key:0},l.icon,{disabled:!l.playerQueue.active||l.playerQueue.items==0,color:e(Le)((i=l.icon)==null?void 0:i.color,[[l.playerQueue.shuffle_enabled,"primary",""]]),icon:e(Le)((n=l.icon)==null?void 0:n.icon,[[l.playerQueue.shuffle_enabled,"mdi-shuffle"],[l.playerQueue.shuffle_enabled==!1,"mdi-shuffle-disabled"],[!0,"mdi-shuffle"]]),type:"btn",onClick:s[0]||(s[0]=o=>e(E).queueCommandShuffle(l.playerQueue.queue_id,!l.playerQueue.shuffle_enabled))}),null,16,["disabled","color","icon"])):Q("",!0)}}}),Fa=U({__name:"PlayBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},withCircle:{type:Boolean,default:!0},icon:{default:void 0},iconStyle:{default:"circle"}},setup(a){const l=a,s=T(()=>l.playerQueue?l.playerQueue.items>0:!1),i=T(()=>{var o;return!(!l.player||(o=l.playerQueue)!=null&&o.active||!l.player.current_media)}),n=T(()=>{var o;return((o=l.player)==null?void 0:o.state)==rt.PLAYING?"mdi-pause":"mdi-play"});return(o,r)=>o.isVisible&&o.player?(u(),S(Te,se({key:0},o.icon,{disabled:!s.value&&!i.value,icon:o.iconStyle?`${n.value}-${o.iconStyle}`:n.value,type:"btn",onClick:r[0]||(r[0]=d=>e(E).playerCommandPlayPause(o.player.player_id))}),null,16,["disabled","icon"])):Q("",!0)}}),Da=U({__name:"PreviousBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a,s=T(()=>{var n,o;return!((n=l.playerQueue)!=null&&n.active)||!((o=l.playerQueue)!=null&&o.items)||!l.playerQueue.current_index?!1:l.playerQueue.current_index>0}),i=T(()=>{var n;return!l.player||(n=l.playerQueue)!=null&&n.active||!l.player.current_media?!1:l.player.supported_features.includes(Re.NEXT_PREVIOUS)});return(n,o)=>n.isVisible&&n.player?(u(),S(Te,se({key:0},n.icon,{disabled:!s.value&&!i.value,icon:"mdi-skip-previous-outline",type:"btn",onClick:o[0]||(o[0]=r=>e(E).playerCommandPrevious(n.player.player_id))}),null,16,["disabled"])):Q("",!0)}}),qa=U({__name:"NextBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a,s=T(()=>{var n;return(n=l.playerQueue)!=null&&n.active?(l.playerQueue.current_index||0)<l.playerQueue.items-1:!1}),i=T(()=>{var n;return!l.player||(n=l.playerQueue)!=null&&n.active||!l.player.current_media?!1:l.player.supported_features.includes(Re.NEXT_PREVIOUS)});return(n,o)=>n.isVisible&&n.player?(u(),S(Te,se({key:0},n.icon,{disabled:!s.value&&!i.value,icon:"mdi-skip-next-outline",type:"btn",onClick:o[0]||(o[0]=r=>e(E).playerCommandNext(n.player.player_id))}),null,16,["disabled"])):Q("",!0)}}),$i={key:0,class:"player-controls"},Ti={key:0,class:"player-controls-elements"},xi={key:1,class:"player-controls-elements"},Bi={key:2},Ei={key:3,class:"player-controls-elements"},Mi={key:4,class:"player-controls-elements"},fa=U({__name:"PlayerControls",props:{visibleComponents:{default:()=>({repeat:{isVisible:!0},shuffle:{isVisible:!0},play:{isVisible:!0},previous:{isVisible:!0},next:{isVisible:!0}})}},setup(a){return(l,s)=>{var i,n,o,r,d;return l.visibleComponents?(u(),P("div",$i,[l.visibleComponents&&((i=l.visibleComponents.shuffle)!=null&&i.isVisible)?(u(),P("div",Ti,[c(za,{"player-queue":e(t).activePlayerQueue,class:"media-controls-item",icon:l.visibleComponents.shuffle.icon},null,8,["player-queue","icon"])])):Q("",!0),l.visibleComponents&&((n=l.visibleComponents.previous)!=null&&n.isVisible)?(u(),P("div",xi,[c(Da,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item",icon:l.visibleComponents.previous.icon},null,8,["player","player-queue","icon"])])):Q("",!0),l.visibleComponents&&((o=l.visibleComponents.play)!=null&&o.isVisible)?(u(),P("div",Bi,[c(Fa,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","icon-style":l.visibleComponents.play.withCircle?"circle":"",icon:l.visibleComponents.play.icon},null,8,["player","player-queue","icon-style","icon"])])):Q("",!0),l.visibleComponents&&((r=l.visibleComponents.next)!=null&&r.isVisible)?(u(),P("div",Ei,[c(qa,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,icon:l.visibleComponents.next.icon,"static-height":"24px","static-width":"24px"},null,8,["player","player-queue","icon"])])):Q("",!0),l.visibleComponents&&((d=l.visibleComponents.repeat)!=null&&d.isVisible)?(u(),P("div",Mi,[c(La,{"player-queue":e(t).activePlayerQueue,icon:l.visibleComponents.repeat.icon,"static-height":"24px","static-width":"24px"},null,8,["player-queue","icon"])])):Q("",!0)])):Q("",!0)}}}),Li={class:"lyrics-container"},zi={key:0,class:"lyrics-loading"},Fi={key:1,class:"lyrics-empty"},Di={key:2,class:"lyrics-intro"},qi={class:"song-title"},Oi={class:"artist-name"},Wi={class:"lyrics-coming-soon"},Ri=U({__name:"LyricsViewer",props:{mediaItem:{default:void 0},position:{default:void 0},duration:{default:void 0},streamDetails:{default:void 0},textColor:{default:"#FFFFFF"},debugMode:{type:Boolean,default:!1}},setup(a){Pa(A=>({"762ad436":A.textColor}));const l=a,s=(A,h=!0)=>{if(h&&!l.debugMode)return;(h?console.debug:console.log)(`[lyricSynch] ${A}`)},i=F([]),n=F(!1),o=F(-1),r=F(null),d=F(!1),y=F(0),v=F(0),C=T(()=>{if(!m.value||!i.value.length)return!1;const A=i.value[0].time,h=l.position||0;return o.value===-1&&h<A}),b=T(()=>{var A;if(!l.mediaItem)return"";if("media_type"in l.mediaItem&&l.mediaItem.media_type==="track"){const h=l.mediaItem;if((A=h.artists)!=null&&A.length)return h.artists.map(k=>k.name).join(", ")}return"media_type"in l.mediaItem&&l.mediaItem.media_type==="artist"?l.mediaItem.name:""});T(()=>{var k,$,M,L;const A=($=(k=l.mediaItem)==null?void 0:k.metadata)==null?void 0:$.lyrics,h=(L=(M=l.mediaItem)==null?void 0:M.metadata)==null?void 0:L.lrc_lyrics;return!!A&&A.trim().length>0||!!h&&h.trim().length>0});const m=T(()=>{var A,h,k,$,M,L;return(h=(A=l.mediaItem)==null?void 0:A.metadata)!=null&&h.lrc_lyrics?!0:!(($=(k=l.mediaItem)==null?void 0:k.metadata)!=null&&$.lrc_lyrics)&&((L=(M=l.mediaItem)==null?void 0:M.metadata)!=null&&L.lyrics)?!1:i.value.some(w=>w.time>0)}),g=A=>{const h=A.match(/\[(\d+):(\d+)([.:]\d+)?\](.*)/);if(h){const k=parseInt(h[1]);let $=parseInt(h[2]),M=0;if(h[3]){const p=h[3].replace(/[.:]/,".");M=Math.round(parseFloat(p)*1e3)}return{time:(k*60*1e3+$*1e3+M)/1e3,text:h[4].trim()||" "}}return{time:0,text:A.trim()||" "}},_=()=>{var A,h;if(!l.mediaItem){i.value=[];return}n.value=!0;try{const k=((A=l.mediaItem.metadata)==null?void 0:A.lrc_lyrics)||"",$=((h=l.mediaItem.metadata)==null?void 0:h.lyrics)||"";if(k){const M=k.split(`
`).filter(L=>L.trim());i.value=M.map(L=>g(L)).filter(L=>L.text).sort((L,w)=>L.time-w.time),s(`Loaded ${i.value.length} synchronized lyrics lines`,!1),s(`Processed synced lyrics: ${i.value.length} lines`)}else if($){const M=$.split(`
`).filter(L=>L.trim());i.value=M.map(L=>({time:0,text:L.trim()||" "})).filter(L=>L.text),s(`Loaded ${i.value.length} plain text lyrics lines`,!1),s(`Processed plain lyrics: ${i.value.length} lines`)}else i.value=[]}catch(k){s(`Error processing lyrics: ${k}`,!1),i.value=[]}finally{n.value=!1}},x=A=>{const h=A;s(`Calculating look-ahead at ${A.toFixed(3)}s`);let k=-1,$=-1;for(let ee=0;ee<i.value.length;ee++)if(i.value[ee].time<=h)k=ee;else{$=ee;break}if(s(`Current lyric index: ${k}, Next lyric index: ${$}`),$===0){const ue=i.value[0].time-h;if(s(`Pre-lyrics intro: ${ue.toFixed(2)}s until first lyric`),ue>5){s("Long intro - using fixed look-ahead: 0.3s"),y.value=.3;return}else if(ue>2){const Y=Math.min(1,ue*.15);s(`Medium intro - calculated look-ahead: ${Y.toFixed(2)}s`),y.value=Y;return}s("Short intro - using standard calculation")}if($===-1||k===-1){s("Cannot determine appropriate look-ahead, using default: 0.3s"),y.value=.3;return}const M=i.value[k].time,L=i.value[$].time,w=L-M,p=y.value;s(`Gap analysis:
    - Current lyric time: ${M.toFixed(3)}s
    - Next lyric time: ${L.toFixed(3)}s
    - Gap between lyrics: ${w.toFixed(3)}s
    - Previous look-ahead: ${p.toFixed(3)}s`);let z;w<.5?(z=.3,s(`Very rapid lyrics detected (${w.toFixed(2)}s gap) - using 30% look-ahead`)):w<.8?(z=.1,s(`Fast lyrics detected (${w.toFixed(2)}s gap) - using 10% look-ahead`)):w<1.5?(z=.2,s(`Medium lyrics detected (${w.toFixed(2)}s gap) - using 20% look-ahead`)):w<3?(z=.3,s(`Slower lyrics detected (${w.toFixed(2)}s gap) - using 30% look-ahead`)):w>10?(z=.02,s(`Very slow lyrics detected (${w.toFixed(2)}s gap) - using 2% look-ahead`)):(z=.4,s(`Slow lyrics detected (${w.toFixed(2)}s gap) - using 40% look-ahead`));const W=Math.min(1.5,w*z);s(`Target look-ahead: ${W.toFixed(3)}s`);const G=Math.abs(W-p),H=Math.min(.8,.3+G*.5),J=p*(1-H)+W*H;s(`Smoothed look-ahead: ${J.toFixed(3)}s (adaptation rate: ${(H*100).toFixed(0)}%)`),Math.abs(J-p)>.3&&s(`Look-ahead adjusted: ${p.toFixed(2)}s → ${J.toFixed(2)}s`,!1),y.value=J},O=A=>A===void 0||!i.value.length||!m.value||d.value,D=A=>{const h=Math.round((A+y.value)*1e3);let k=-1;for(let $=0;$<i.value.length&&Math.round(i.value[$].time*1e3)<=h;$++)k=$;return k},R=(A,h)=>{A<0||A===o.value||(s(`Lyric activated: "${i.value[A].text}"`),s(`Activating lyric at ${h.toFixed(2)}s (adjusted: ${(h+y.value).toFixed(2)}s):
    - Index: ${A}
    - Lyric time: ${i.value[A].time.toFixed(2)}s`),s(`Transition details:
    - Raw position: ${h.toFixed(3)}s
    - Dynamic look-ahead: ${y.value.toFixed(3)}s
    - Adjusted position: ${(h+y.value).toFixed(3)}s`),A>0&&N(A,h),v.value=h,o.value=A,Pt(()=>q()))},N=(A,h)=>{const k=h-v.value,$=i.value[A].time-i.value[A-1].time;s(`Timing analysis:
    - Expected gap: ${$.toFixed(3)}s
    - Actual gap: ${k.toFixed(3)}s
    - Difference: ${(k-$).toFixed(3)}s`)},q=()=>{const A=document.querySelector(".lyrics-line.active"),h=r.value;A&&h&&A.scrollIntoView({behavior:"smooth",block:"center"})};return oe(()=>{var A;return(A=l.mediaItem)==null?void 0:A.item_id},()=>{_()},{immediate:!0}),oe(()=>l.position,A=>{if(O(A))return;const h=A??0;x(h);const k=D(h);k!==o.value&&R(k,h)}),Se(()=>{const A=r.value;A&&A.addEventListener("scroll",()=>{d.value=!0,setTimeout(()=>{d.value=!1},8e3)},{passive:!0})}),(A,h)=>{var k;return u(),P("div",Li,[n.value?(u(),P("div",zi,[c(xa,{indeterminate:"",color:A.textColor},null,8,["color"]),I("div",null,V(e(ie)("loading_lyrics")),1)])):i.value.length?C.value&&m.value?(u(),P("div",Di,[I("div",qi,V((k=l.mediaItem)==null?void 0:k.name),1),I("div",Oi,V(b.value),1),I("div",Wi,V(e(ie)("lyrics_will_appear_soon")),1)])):(u(),P("div",{key:3,ref_key:"lyricsContainer",ref:r,class:ce(["lyrics-scroll-container",{"static-lyrics":!m.value}])},[(u(!0),P(K,null,de(i.value,($,M)=>(u(),P("div",{key:M,class:ce(["lyrics-line",{active:o.value===M||!m.value}])},V($.text),3))),128))],2)):(u(),P("div",Fi,V(e(ie)("no_lyrics_available")),1))])}}}),Ni=pe(Ri,[["__scopeId","data-v-73a4fec0"]]),Oa=U({__name:"QueueBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=function(){t.showFullscreenPlayer&&t.showQueueItems?t.showQueueItems=!1:t.showFullscreenPlayer&&!t.showQueueItems?t.showQueueItems=!0:(t.showQueueItems=!0,t.showFullscreenPlayer=!0)};return(s,i)=>{var n;return s.isVisible?(u(),S(Te,se({key:0},s.icon,{disabled:!e(t).activePlayerId||e(t).showFullscreenPlayer&&!e(t).curQueueItem&&!e(t).showQueueItems,icon:"mdi-playlist-play",color:e(Le)((n=s.icon)==null?void 0:n.color,[[e(t).showFullscreenPlayer&&e(t).showQueueItems,"primary",""]]),type:"btn",onClick:l}),null,16,["disabled","color"])):Q("",!0)}}}),Wa=U({__name:"SpeakerBtn",props:{color:{}},setup(a){return(l,s)=>(u(),S(Ae,{variant:"icon",ripple:!1,icon:"",onClick:s[0]||(s[0]=i=>e(t).showPlayersMenu=!0)},{default:f(()=>{var i;return[c(re,{color:l.color?l.color:"",size:24,icon:(i=e(t).activePlayer)!=null&&i.group_childs.length?"mdi-speaker-multiple":"mdi-speaker"},null,8,["color","icon"])]}),_:1}))}}),St=Symbol.for("vuetify:v-tabs"),Hi=ge({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Ct(Rl({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),Ze=he()({name:"VTab",props:Hi(),setup(a,l){let{slots:s,attrs:i}=l;const{textColorClasses:n,textColorStyles:o}=cl(()=>a.sliderColor),r=F(),d=F(),y=T(()=>a.direction==="horizontal"),v=T(()=>{var b,m;return((m=(b=r.value)==null?void 0:b.group)==null?void 0:m.isSelected.value)??!1});function C(b){var g,_;let{value:m}=b;if(m){const x=(_=(g=r.value)==null?void 0:g.$el.parentElement)==null?void 0:_.querySelector(".v-tab--selected .v-tab__slider"),O=d.value;if(!x||!O)return;const D=getComputedStyle(x).color,R=x.getBoundingClientRect(),N=O.getBoundingClientRect(),q=y.value?"x":"y",A=y.value?"X":"Y",h=y.value?"right":"bottom",k=y.value?"width":"height",$=R[q],M=N[q],L=$>M?R[h]-N[h]:R[q]-N[q],w=Math.sign(L)>0?y.value?"right":"bottom":Math.sign(L)<0?y.value?"left":"top":"center",z=(Math.abs(L)+(Math.sign(L)<0?R[k]:N[k]))/Math.max(R[k],N[k])||0,W=R[k]/N[k]||0,G=1.5;vl(O,{backgroundColor:[D,"currentcolor"],transform:[`translate${A}(${L}px) scale${A}(${W})`,`translate${A}(${L/G}px) scale${A}(${(z-1)/G+1})`,"none"],transformOrigin:Array(3).fill(w)},{duration:225,easing:yl})}}return be(()=>{const b=Ce.filterProps(a);return c(Ce,se({symbol:St,ref:r,class:["v-tab",a.class],style:a.style,tabindex:v.value?0:-1,role:"tab","aria-selected":String(v.value),active:!1},b,i,{block:a.fixed,maxWidth:a.fixed?300:void 0,"onGroup:selected":C}),{...s,default:()=>{var m;return I(K,null,[((m=s.default)==null?void 0:m.call(s))??a.text,!a.hideSlider&&I("div",{ref:d,class:ce(["v-tab__slider",n.value]),style:Z(o.value)},null)])}})}),ml({},r)}}),Yi=a=>{const{touchstartX:l,touchendX:s,touchstartY:i,touchendY:n}=a,o=.5,r=16;a.offsetX=s-l,a.offsetY=n-i,Math.abs(a.offsetY)<o*Math.abs(a.offsetX)&&(a.left&&s<l-r&&a.left(a),a.right&&s>l+r&&a.right(a)),Math.abs(a.offsetX)<o*Math.abs(a.offsetY)&&(a.up&&n<i-r&&a.up(a),a.down&&n>i+r&&a.down(a))};function Xi(a,l){var i;const s=a.changedTouches[0];l.touchstartX=s.clientX,l.touchstartY=s.clientY,(i=l.start)==null||i.call(l,{originalEvent:a,...l})}function Ui(a,l){var i;const s=a.changedTouches[0];l.touchendX=s.clientX,l.touchendY=s.clientY,(i=l.end)==null||i.call(l,{originalEvent:a,...l}),Yi(l)}function Gi(a,l){var i;const s=a.changedTouches[0];l.touchmoveX=s.clientX,l.touchmoveY=s.clientY,(i=l.move)==null||i.call(l,{originalEvent:a,...l})}function ji(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const l={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:a.left,right:a.right,up:a.up,down:a.down,start:a.start,move:a.move,end:a.end};return{touchstart:s=>Xi(s,l),touchend:s=>Ui(s,l),touchmove:s=>Gi(s,l)}}function Ki(a,l){var d;const s=l.value,i=s!=null&&s.parent?a.parentElement:a,n=(s==null?void 0:s.options)??{passive:!0},o=(d=l.instance)==null?void 0:d.$.uid;if(!i||!o)return;const r=ji(l.value);i._touchHandlers=i._touchHandlers??Object.create(null),i._touchHandlers[o]=r,ka(r).forEach(y=>{i.addEventListener(y,r[y],n)})}function Zi(a,l){var o,r;const s=(o=l.value)!=null&&o.parent?a.parentElement:a,i=(r=l.instance)==null?void 0:r.$.uid;if(!(s!=null&&s._touchHandlers)||!i)return;const n=s._touchHandlers[i];ka(n).forEach(d=>{s.removeEventListener(d,n[d])}),delete s._touchHandlers[i]}const mt={mounted:Ki,unmounted:Zi},Ra=Symbol.for("vuetify:v-window"),Na=Symbol.for("vuetify:v-window-group"),Ha=ge({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:a=>typeof a=="boolean"||a==="hover"},verticalArrows:[Boolean,String],touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...$e(),...Fe(),...Xe()},"VWindow"),pa=he()({name:"VWindow",directives:{vTouch:mt},props:Ha(),emits:{"update:modelValue":a=>!0},setup(a,l){let{slots:s}=l;const{themeClasses:i}=it(a),{isRtl:n}=yt(),{t:o}=fl(),r=Aa(a,Na),d=F(),y=T(()=>n.value?!a.reverse:a.reverse),v=_e(!1),C=T(()=>{const q=a.direction==="vertical"?"y":"x",h=(y.value?!v.value:v.value)?"-reverse":"";return`v-window-${q}${h}-transition`}),b=_e(0),m=F(void 0),g=T(()=>r.items.value.findIndex(q=>r.selected.value.includes(q.id)));oe(g,(q,A)=>{const h=r.items.value.length,k=h-1;h<=2?v.value=q<A:q===k&&A===0?v.value=!0:q===0&&A===k?v.value=!1:v.value=q<A}),pl(Ra,{transition:C,isReversed:v,transitionCount:b,transitionHeight:m,rootRef:d});const _=ae(()=>a.continuous||g.value!==0),x=ae(()=>a.continuous||g.value!==r.items.value.length-1);function O(){_.value&&r.prev()}function D(){x.value&&r.next()}const R=T(()=>{const q=[],A={icon:n.value?a.nextIcon:a.prevIcon,class:`v-window__${y.value?"right":"left"}`,onClick:r.prev,"aria-label":o("$vuetify.carousel.prev")};q.push(_.value?s.prev?s.prev({props:A}):c(Ce,A,null):I("div",null,null));const h={icon:n.value?a.prevIcon:a.nextIcon,class:`v-window__${y.value?"left":"right"}`,onClick:r.next,"aria-label":o("$vuetify.carousel.next")};return q.push(x.value?s.next?s.next({props:h}):c(Ce,h,null):I("div",null,null)),q}),N=T(()=>a.touch===!1?a.touch:{...{left:()=>{y.value?O():D()},right:()=>{y.value?D():O()},start:A=>{let{originalEvent:h}=A;h.stopPropagation()}},...a.touch===!0?{}:a.touch});return be(()=>Ca(c(a.tag,{ref:d,class:ce(["v-window",{"v-window--show-arrows-on-hover":a.showArrows==="hover","v-window--vertical-arrows":!!a.verticalArrows},i.value,a.class]),style:Z(a.style)},{default:()=>{var q,A;return[I("div",{class:"v-window__container",style:{height:m.value}},[(q=s.default)==null?void 0:q.call(s,{group:r}),a.showArrows!==!1&&I("div",{class:ce(["v-window__controls",{"v-window__controls--left":a.verticalArrows==="left"||a.verticalArrows===!0},{"v-window__controls--right":a.verticalArrows==="right"}])},[R.value])]),(A=s.additional)==null?void 0:A.call(s,{group:r})]}}),[[mt,N.value]])),{group:r}}}),Ji=ge({...Ct(Ha(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),eo=he()({name:"VTabsWindow",props:Ji(),emits:{"update:modelValue":a=>!0},setup(a,l){let{slots:s}=l;const i=Ia(St,null),n=ot(a,"modelValue"),o=T({get(){var r;return n.value!=null||!i?n.value:(r=i.items.value.find(d=>i.selected.value.includes(d.id)))==null?void 0:r.value},set(r){n.value=r}});return be(()=>{const r=pa.filterProps(a);return c(pa,se({_as:"VTabsWindow"},r,{modelValue:o.value,"onUpdate:modelValue":d=>o.value=d,class:["v-tabs-window",a.class],style:a.style,mandatory:!1,touch:!1}),s)}),{}}}),Ya=ge({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...$e(),...wl(),...Al()},"VWindowItem"),ha=he()({name:"VWindowItem",directives:{vTouch:mt},props:Ya(),emits:{"group:selected":a=>!0},setup(a,l){let{slots:s}=l;const i=Ia(Ra),n=hl(a,Na),{isBooted:o}=st();if(!i||!n)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const r=_e(!1),d=T(()=>o.value&&(i.isReversed.value?a.reverseTransition!==!1:a.transition!==!1));function y(){!r.value||!i||(r.value=!1,i.transitionCount.value>0&&(i.transitionCount.value-=1,i.transitionCount.value===0&&(i.transitionHeight.value=void 0)))}function v(){var _;r.value||!i||(r.value=!0,i.transitionCount.value===0&&(i.transitionHeight.value=ze((_=i.rootRef.value)==null?void 0:_.clientHeight)),i.transitionCount.value+=1)}function C(){y()}function b(_){r.value&&Pt(()=>{!d.value||!r.value||!i||(i.transitionHeight.value=ze(_.clientHeight))})}const m=T(()=>{const _=i.isReversed.value?a.reverseTransition:a.transition;return d.value?{name:typeof _!="string"?i.transition.value:_,onBeforeEnter:v,onAfterEnter:y,onEnterCancelled:C,onBeforeLeave:v,onAfterLeave:y,onLeaveCancelled:C,onEnter:b}:!1}),{hasContent:g}=gl(a,n.isSelected);return be(()=>c(_l,{transition:m.value,disabled:!o.value},{default:()=>{var _;return[Ca(I("div",{class:ce(["v-window-item",n.selectedClass.value,a.class]),style:Z(a.style)},[g.value&&((_=s.default)==null?void 0:_.call(s))]),[[bl,n.isSelected.value]])]}})),{groupItem:n}}}),to=ge({...Ya()},"VTabsWindowItem"),ao=he()({name:"VTabsWindowItem",props:to(),setup(a,l){let{slots:s}=l;return be(()=>{const i=ha.filterProps(a);return c(ha,se({_as:"VTabsWindowItem"},i,{class:["v-tabs-window-item",a.class],style:a.style}),s)}),{}}});function lo(a){return a?a.map(l=>kl(l)?l:{text:l,value:l}):[]}const io=ge({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Pl({mandatory:"force",selectedClass:"v-tab-item--selected"}),...wa(),...Fe()},"VTabs"),oo=he()({name:"VTabs",props:io(),emits:{"update:modelValue":a=>!0},setup(a,l){let{attrs:s,slots:i}=l;const n=ot(a,"modelValue"),o=T(()=>lo(a.items)),{densityClasses:r}=_a(a),{backgroundColorClasses:d,backgroundColorStyles:y}=He(()=>a.bgColor),{scopeId:v}=ga();return bt({VTab:{color:ae(()=>a.color),direction:ae(()=>a.direction),stacked:ae(()=>a.stacked),fixed:ae(()=>a.fixedTabs),sliderColor:ae(()=>a.sliderColor),hideSlider:ae(()=>a.hideSlider)}}),be(()=>{const C=aa.filterProps(a),b=!!(i.window||a.items.length>0);return I(K,null,[c(aa,se(C,{modelValue:n.value,"onUpdate:modelValue":m=>n.value=m,class:["v-tabs",`v-tabs--${a.direction}`,`v-tabs--align-tabs-${a.alignTabs}`,{"v-tabs--fixed-tabs":a.fixedTabs,"v-tabs--grow":a.grow,"v-tabs--stacked":a.stacked},r.value,d.value,a.class],style:[{"--v-tabs-height":ze(a.height)},y.value,a.style],role:"tablist",symbol:St},v,s),{default:()=>{var m;return[((m=i.default)==null?void 0:m.call(i))??o.value.map(g=>{var _;return((_=i.tab)==null?void 0:_.call(i,{item:g}))??c(Ze,se(g,{key:g.text,value:g.value}),{default:i[`tab.${g.value}`]?()=>{var x;return(x=i[`tab.${g.value}`])==null?void 0:x.call(i,{item:g})}:void 0})})]}}),b&&c(eo,se({modelValue:n.value,"onUpdate:modelValue":m=>n.value=m,key:"tabs-window"},v),{default:()=>{var m;return[o.value.map(g=>{var _;return((_=i.item)==null?void 0:_.call(i,{item:g}))??c(ao,{value:g.value},{default:()=>{var x;return(x=i[`item.${g.value}`])==null?void 0:x.call(i,{item:g})}})}),(m=i.window)==null?void 0:m.call(i)]}})])}),{}}}),so=["onClick"],no={class:"main"},ro={key:0,class:"main-media-details"},uo={key:0,class:"main-media-details-image"},co={class:"main-media-details-track-info"},mo={key:0},vo={key:0},yo={key:11,style:{margin:"auto","padding-top":"20px"}},fo={key:1,class:"main-queue-items"},po={class:"queue-items-scroll-box"},ho={class:"media-thumb listitem-media-thumb"},go={class:"title-row"},bo={class:"d-flex"},_o={style:{"white-space":"nowrap"},class:"pr-1"},Ao={key:0},wo={key:0,style:{"margin-left":"50px"}},Po={key:0,class:"text-caption"},ko={key:1,class:"lyrics-wrapper"},Co={key:2,class:"main-queue-items"},Io={class:"main-media-details-image main-media-details-image-alt"},Qo={class:"player-bottom"},Vo={class:"row",style:{"margin-left":"5%","margin-right":"5%"}},So={class:"media-controls"},$o={key:0,class:"row",style:{"margin-left":"5%","margin-right":"5%"}},To={key:1,class:"row",style:{height:"70px",display:"flex","justify-content":"center","align-items":"center","padding-bottom":"15px","padding-top":"15px"}},xo=U({__name:"PlayerFullscreen",props:{colorPalette:{}},setup(a){const{name:l}=ht(),s=a,i=new ct,n=F(-1),o=new ct,r=F([]),d=F(0),y=F(!1),v=T(()=>t.activePlayerQueue?r.value.slice(t.activePlayerQueue.current_index):[]),C=T(()=>t.activePlayerQueue?r.value.slice(0,t.activePlayerQueue.current_index).reverse():[]),b=T(()=>{var z,W,G,H,J,ee;const w=(G=(W=(z=t.curQueueItem)==null?void 0:z.media_item)==null?void 0:W.metadata)==null?void 0:G.lyrics,p=(ee=(J=(H=t.curQueueItem)==null?void 0:H.media_item)==null?void 0:J.metadata)==null?void 0:ee.lrc_lyrics;return!!w&&w.trim().length>0||!!p&&p.trim().length>0}),m=T(()=>{switch(l.value){case"xs":return"1.2em";case"sm":return"1.6em";case"md":return"2em";case"lg":return t.showQueueItems?"1.5em":"2.5em";case"xl":return t.showQueueItems?"1.6em":"3em";case"xxl":return t.showQueueItems?"1.7em":"3.2em";default:return"1.0em."}}),g=T(()=>{switch(l.value){case"xs":return"1.0em";case"sm":return"1.2em";case"md":return"1.7em";case"lg":return t.showQueueItems?"1.0em":"1.6em";case"xl":return t.showQueueItems?"1.2em":"2em";case"xxl":return t.showQueueItems?"1.2em":"2em";default:return"1.0em."}}),_=T(()=>at.display.height.value>800),x=function(w){t.showFullscreenPlayer=!1,la.push({name:w.media_type,params:{itemId:w.item_id,provider:w.provider}})},O=function(w){t.globalSearchTerm=w,la.push({name:"search"}),t.showFullscreenPlayer=!1},D=function(w,p){var G,H,J,ee,ue,Y,me;const z=r.value.indexOf(p),W=[{label:"play_now",labelArgs:[],action:()=>{N(p,"play_now")},icon:"mdi-play-circle-outline",disabled:z===((G=t.activePlayerQueue)==null?void 0:G.current_index)||z===((H=t.activePlayerQueue)==null?void 0:H.index_in_buffer)},{label:"play_next",labelArgs:[],action:()=>{N(p,"move_next")},icon:"mdi-skip-next-circle-outline",disabled:z<=(((J=t.activePlayerQueue)==null?void 0:J.index_in_buffer)||0)},{label:"queue_move_up",labelArgs:[],action:()=>{N(p,"up")},icon:"mdi-arrow-up",disabled:z<=(((ee=t.activePlayerQueue)==null?void 0:ee.index_in_buffer)||0)},{label:"queue_move_down",labelArgs:[],action:()=>{N(p,"down")},icon:"mdi-arrow-down",disabled:z<=(((ue=t.activePlayerQueue)==null?void 0:ue.index_in_buffer)||0)},{label:"queue_delete",labelArgs:[],action:()=>{N(p,"delete")},icon:"mdi-delete",disabled:z<=(((Y=t.activePlayerQueue)==null?void 0:Y.index_in_buffer)||0)}];((me=p==null?void 0:p.media_item)==null?void 0:me.media_type)==X.TRACK&&W.push({label:"show_info",labelArgs:[],action:()=>{x(p.media_item)},icon:"mdi-information-outline",disabled:!1}),Ee.emit("contextmenu",{items:W,posX:w.clientX,posY:w.clientY})},R=function(w){t.activePlayer&&Ee.emit("contextmenu",{items:Xl(t.activePlayer,t.activePlayerQueue),posX:w.clientX,posY:w.clientY})},N=function(w,p){var z,W,G,H,J;!w||!t.activePlayerQueue||(p=="play_now"?E.queueCommandPlayIndex((z=t.activePlayerQueue)==null?void 0:z.queue_id,w.queue_item_id):p=="move_next"?E.queueCommandMoveNext((W=t.activePlayerQueue)==null?void 0:W.queue_id,w.queue_item_id):p=="up"?E.queueCommandMoveUp((G=t.activePlayerQueue)==null?void 0:G.queue_id,w.queue_item_id):p=="down"?E.queueCommandMoveDown((H=t.activePlayerQueue)==null?void 0:H.queue_id,w.queue_item_id):p=="delete"&&E.queueCommandDelete((J=t.activePlayerQueue)==null?void 0:J.queue_id,w.queue_item_id))},q=async function(){y.value=!0,r.value=[],await ia(100),y.value=!1},A=async function({done:w}){var G;if(!t.activePlayerQueue||t.activePlayerQueue.items==0){w("empty");return}if(r.value.length>=((G=t.activePlayerQueue)==null?void 0:G.items)){w("empty");return}const p=r.value.length,z=(t.activePlayerQueue.current_index||0)+50,W=await E.getPlayerQueueItems(t.activePlayerQueue.queue_id,z,p);r.value.push(...W),W.length<50?w("empty"):w("ok")};Se(()=>{const w=E.subscribe(Cl.QUEUE_ITEMS_UPDATED,p=>{var z;p.object_id==((z=t.activePlayerQueue)==null?void 0:z.queue_id)&&(p.data,q())});Ye(w)});const h=async function(w){var W;if(!((W=t.curQueueItem)!=null&&W.media_item))return;if(!t.curQueueItem.media_item.favorite){E.toggleFavorite(t.curQueueItem.media_item);return}let p=t.curQueueItem.media_item;(p.provider!="library"||!("provider_mappings"in p))&&[X.ALBUM,X.ARTIST,X.AUDIOBOOK,X.PLAYLIST,X.PODCAST,X.RADIO,X.TRACK].includes(p.media_type)&&(p=await E.getLibraryItem(p.media_type,p.item_id,p.provider)||p);const z=[];"favorite"in p&&p.favorite&&p.provider=="library"&&[X.ALBUM,X.ARTIST,X.AUDIOBOOK,X.PLAYLIST,X.PODCAST,X.RADIO,X.TRACK].includes(p.media_type)&&z.push({label:"favorites_remove",labelArgs:[],action:()=>{E.removeItemFromFavorites(p.media_type,p.item_id),p.favorite=!1,t.curQueueItem.media_item.favorite=!1},icon:"mdi-heart"}),[X.ALBUM,X.ARTIST,X.AUDIOBOOK,X.PLAYLIST,X.PODCAST,X.RADIO,X.TRACK].includes(p.media_type)&&z.push({label:"add_playlist",labelArgs:[],action:()=>{Ee.emit("playlistdialog",{items:[t.curQueueItem.media_item]})},icon:"mdi-plus-circle-outline"}),Ee.emit("contextmenu",{items:z,posX:w.clientX,posY:w.clientY})},k=function(){y.value=!0,ia(100).then(()=>{y.value=!1})},$=function(w,p){E.playMedia(w.uri,Il.PLAY,void 0,p.position.toString())};oe(()=>t.activePlayerId,w=>{q()},{immediate:!0});const M=F(void 0),L=F(void 0);return vt(()=>{const w=Ue("white"),p=Ue("black"),z=5,W=.05,G=at.theme.current.value.dark?s.colorPalette.darkColor||"#000":s.colorPalette.lightColor||"#fff";let H=Ue(G);const J=w.contrast(H),ee=p.contrast(H),ue=J>=ee;let Y=ue?w:p,me=Math.max(J,ee);if(me<z){let we=W;for(;me<z&&we<=.5;)ue?H=H.darken(W):H=H.lighten(W),me=Ue(Y).contrast(H),we+=W}document.documentElement.style.setProperty("--text-color",Y.hex()),M.value=Y.hex(),L.value=H.hex()}),(w,p)=>(u(),S(Ta,{modelValue:e(t).showFullscreenPlayer,"onUpdate:modelValue":p[12]||(p[12]=z=>e(t).showFullscreenPlayer=z),fullscreen:"",scrim:!1,transition:"dialog-bottom-transition","z-index":"9999"},{default:f(()=>[c(tt,{color:L.value},{default:f(()=>{var z,W,G,H,J,ee,ue,Y,me,we,De,$t,Tt,xt,Bt,Et,Mt,Lt,zt,Ft,Dt,qt,Ot,Wt,Rt,Nt,Ht,Yt,Xt,Ut,Gt,jt,Kt;return[c(Gl,{class:"v-toolbar-default",color:"transparent"},{prepend:f(()=>[c(Ae,{icon:"",onClick:p[0]||(p[0]=B=>e(t).showFullscreenPlayer=!1)},{default:f(()=>[c(re,{icon:"mdi-chevron-down"})]),_:1})]),append:f(()=>{var B;return[(B=e(t).activePlayerQueue)!=null&&B.radio_source.length?(u(),S(kt,{key:0,scrim:""},{activator:f(({props:te})=>[c(Ae,se(te,{icon:""}),{default:f(()=>[c(re,{color:"accent",icon:"mdi-radio-tower"})]),_:2},1040)]),default:f(()=>[c(tt,{title:e(ie)("queue_radio_enabled"),subtitle:e(ie)("queue_radio_based_on")},{text:f(()=>{var te;return[(u(!0),P(K,null,de((te=e(t).activePlayerQueue)==null?void 0:te.radio_source,ve=>(u(),P("div",{key:ve.uri},[I("a",{onClick:xe=>x(ve)},V(ve.name),9,so)]))),128))]}),_:1},8,["title","subtitle"])]),_:1})):Q("",!0),_.value?Q("",!0):(u(),S(Wa,{key:1})),c(Ae,{icon:"",onClick:Ge(R,["stop"])},{default:f(()=>[c(re,{icon:"mdi-dots-vertical"})]),_:1})]}),_:1}),I("div",no,[e(ne)("bp7")||!e(t).showQueueItems?(u(),P("div",ro,[w.$vuetify.display.height>600?(u(),P("div",uo,[((z=e(t).activePlayer)==null?void 0:z.powered)!=!1&&!((W=e(t).curQueueItem)!=null&&W.image)&&((H=(G=e(t).activePlayer)==null?void 0:G.current_media)!=null&&H.image_url)?(u(),S(Je,{key:0,style:{"max-width":"100%",width:"auto","border-radius":"4px"},src:e(t).activePlayer.current_media.image_url},null,8,["src"])):((J=e(t).activePlayer)==null?void 0:J.powered)!=!1?(u(),S(Ne,{key:1,item:e(t).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"},fallback:w.$vuetify.theme.current.dark?e(lt):e(ut)},null,8,["item","fallback"])):(u(),S(Je,{key:2,style:{"max-width":"100%",width:"auto","border-radius":"4px"},src:w.$vuetify.theme.current.dark?e(lt):e(ut)},null,8,["src"]))])):Q("",!0),I("div",co,[((ee=e(t).activePlayer)==null?void 0:ee.powered)==!1?(u(),S(qe,{key:0,style:Z(`font-size: ${m.value};`)},{default:f(()=>{var B;return[j(V((B=e(t).activePlayer)==null?void 0:B.display_name),1)]}),_:1},8,["style"])):(ue=e(t).curQueueItem)!=null&&ue.media_item?(u(),S(qe,{key:1,style:Z(`font-size: ${m.value};cursor:pointer;`),onClick:p[1]||(p[1]=B=>x(e(t).curQueueItem.media_item))},{default:f(()=>[c(fe,{sync:e(i)},{default:f(()=>[j(V(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(u(),P("span",mo,"("+V(e(t).curQueueItem.media_item.version)+")",1)):Q("",!0)]),_:1},8,["sync"])]),_:1},8,["style"])):!e(t).activePlayerQueue&&((me=(Y=e(t).activePlayer)==null?void 0:Y.current_media)!=null&&me.title)?(u(),S(qe,{key:2},{default:f(()=>{var B,te,ve,xe;return[(te=(B=e(t).activePlayer)==null?void 0:B.current_media)!=null&&te.artist?(u(),P("div",vo,[c(fe,{sync:e(i)},{default:f(()=>{var Pe,ke;return[j(V((ke=(Pe=e(t).activePlayer)==null?void 0:Pe.current_media)==null?void 0:ke.artist),1)]}),_:1},8,["sync"])])):Q("",!0),(xe=(ve=e(t).activePlayer)==null?void 0:ve.current_media)!=null&&xe.title?(u(),P("div",{key:1,style:Z(`font-size: ${g.value};`)},[c(fe,{sync:e(i)},{default:f(()=>{var Pe,ke;return[j(V((ke=(Pe=e(t).activePlayer)==null?void 0:Pe.current_media)==null?void 0:ke.title),1)]}),_:1},8,["sync"])],4)):Q("",!0)]}),_:1})):(u(),S(qe,{key:3,style:Z(`font-size: ${m.value};cursor:pointer;`),onClick:p[2]||(p[2]=B=>e(t).showPlayersMenu=!0)},{default:f(()=>[c(fe,{sync:e(i)},{default:f(()=>{var B;return[j(V(((B=e(t).activePlayer)==null?void 0:B.display_name)||e(ie)("no_player")),1)]}),_:1},8,["sync"])]),_:1},8,["style"])),((we=e(t).activePlayer)==null?void 0:we.powered)==!1?(u(),S(Ie,{key:4,class:"text-h6 text-md-h5 text-lg-h4"},{default:f(()=>[j(V(e(ie)("off")),1)]),_:1})):Q("",!0),($t=(De=e(t).curQueueItem)==null?void 0:De.streamdetails)!=null&&$t.stream_title&&((Tt=e(t).activePlayer)==null?void 0:Tt.powered)!=!1?(u(),S(Ie,{key:5,class:"text-h6 text-md-h5 text-lg-h4",onClick:p[3]||(p[3]=B=>{var te,ve;return O((ve=(te=e(t).curQueueItem)==null?void 0:te.streamdetails)==null?void 0:ve.stream_title)})},{default:f(()=>[c(fe,{sync:e(i)},{default:f(()=>[j(V(e(t).curQueueItem.streamdetails.stream_title),1)]),_:1},8,["sync"])]),_:1})):Q("",!0),(xt=e(t).curQueueItem)!=null&&xt.media_item&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album&&((Bt=e(t).activePlayer)==null?void 0:Bt.powered)!=!1?(u(),S(Ie,{key:6,style:Z(`font-size: ${g.value};cursor:pointer;`),onClick:p[4]||(p[4]=B=>x(e(t).curQueueItem.media_item.album))},{default:f(()=>[c(fe,{sync:e(i)},{default:f(()=>[j(V(e(t).curQueueItem.media_item.album.name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):Q("",!0),(Et=e(t).curQueueItem)!=null&&Et.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length&&((Mt=e(t).activePlayer)==null?void 0:Mt.powered)!=!1?(u(),S(Ie,{key:7,style:Z(`font-size: ${g.value};cursor:pointer;`),onClick:p[5]||(p[5]=B=>x(e(t).curQueueItem.media_item.artists[0]))},{default:f(()=>[c(fe,{sync:e(i)},{default:f(()=>[j(V(e(t).curQueueItem.media_item.artists[0].name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):Q("",!0),(Lt=e(t).curQueueItem)!=null&&Lt.media_item&&"podcast"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.podcast?(u(),S(Ie,{key:8,style:Z(`font-size: ${g.value};`)},{default:f(()=>[c(fe,{sync:e(i)},{default:f(()=>[j(V(e(t).curQueueItem.media_item.podcast.name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):e(t).activePlayer&&((zt=e(t).activePlayer)==null?void 0:zt.active_source)!=((Ft=e(t).activePlayer)==null?void 0:Ft.player_id)&&((Dt=e(t).activePlayer)==null?void 0:Dt.powered)!=!1?(u(),S(Ie,{key:9},{default:f(()=>[j(V(e(ie)("external_source_active",[e(Qa)(e(t).activePlayer)])),1)]),_:1})):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0&&((qt=e(t).activePlayer)==null?void 0:qt.powered)!=!1?(u(),S(Ie,{key:10,style:Z(`font-size: ${g.value}`)},{default:f(()=>[j(V(e(ie)("queue_empty")),1)]),_:1},8,["style"])):Q("",!0),((Ot=e(t).activePlayer)==null?void 0:Ot.powered)!=!1?(u(),P("div",yo,[c(Va)])):Q("",!0)])])):Q("",!0),e(t).showQueueItems?(u(),P("div",fo,[c(oo,{modelValue:d.value,"onUpdate:modelValue":p[6]||(p[6]=B=>d.value=B),"hide-slider":"",density:"compact",onClick:k},{default:f(()=>[c(Ze,{value:0},{default:f(()=>{var B,te;return[j(V(e(ie)("queue"))+" ",1),c(dt,{color:"grey",content:(((B=e(t).activePlayerQueue)==null?void 0:B.items)||0)-(((te=e(t).activePlayerQueue)==null?void 0:te.current_index)||0),inline:""},null,8,["content"])]}),_:1}),c(Ze,{value:1},{default:f(()=>{var B;return[j(V(e(ie)("played"))+" ",1),c(dt,{color:"grey",content:(B=e(t).activePlayerQueue)==null?void 0:B.current_index,inline:""},null,8,["content"])]}),_:1}),b.value?(u(),S(Ze,{key:0,value:2},{default:f(()=>[j(V(e(ie)("lyrics")),1)]),_:1})):Q("",!0)]),_:1},8,["modelValue"]),I("div",po,[!y.value&&d.value!==2?(u(),S(Ol,{key:0,onLoad:A,"empty-text":"",height:"100%"},{default:f(()=>[c(jl,{"item-height":70,"max-height":"90%",items:d.value==0?v.value:C.value},{default:f(({item:B,index:te})=>{var ve,xe,Pe,ke,Zt;return[c(Yl,{link:"","show-menu-btn":!0,disabled:!B.available,onClick:Ge(le=>D(le,B),["stop"]),onMenu:Ge(le=>D(le,B),["stop"]),onMouseenter:le=>n.value=te,onMouseleave:p[7]||(p[7]=le=>n.value=-1)},{prepend:f(()=>[I("div",ho,[c(Ne,{size:"50",item:B},null,8,["item"])])]),title:f(()=>[I("div",go,[c(fe,{sync:te==0&&d.value==0?e(i):e(o),disabled:!(te==0&&d.value==0||n.value==te)},{default:f(()=>{var le;return[I("span",{class:ce({"is-playing":B.queue_item_id===((le=e(t).curQueueItem)==null?void 0:le.queue_item_id)})},V(B.name),3)]}),_:2},1032,["sync","disabled"])])]),subtitle:f(()=>[I("div",bo,[I("span",_o,V(e(We)(B.duration))+" | ",1),c(fe,{sync:te==0&&d.value==0?e(i):e(o),disabled:!(te==0&&d.value==0||n.value==te)},{default:f(()=>[B.media_item&&"album"in B.media_item&&B.media_item.album?(u(),P("span",Ao,V(B.media_item.album.name),1)):Q("",!0)]),_:2},1032,["sync","disabled"])])]),append:f(()=>{var le;return[B.queue_item_id===((le=e(t).curQueueItem)==null?void 0:le.queue_item_id)?(u(),S(Hl,{key:0})):Q("",!0),B.available?Q("",!0):(u(),S(re,{key:1},{default:f(()=>p[13]||(p[13]=[j("mdi-alert",-1)])),_:1,__:[13]}))]}),_:2},1032,["disabled","onClick","onMenu","onMouseenter"]),B.queue_item_id==((ve=e(t).curQueueItem)==null?void 0:ve.queue_item_id)&&((ke=(Pe=(xe=B.media_item)==null?void 0:xe.metadata)==null?void 0:Pe.chapters)!=null&&ke.length)?(u(),P("div",wo,[(u(!0),P(K,null,de((Zt=B.media_item.metadata)==null?void 0:Zt.chapters,le=>(u(),S(Ve,{key:le.position,onClick:Ge(Ss=>$(B.media_item,le),["stop"])},{title:f(()=>[I("div",null,V(le.name),1)]),append:f(()=>[le.end?(u(),P("span",Po,V(e(We)(le.end-le.start)),1)):Q("",!0)]),_:2},1032,["onClick"]))),128))])):Q("",!0)]}),_:1},8,["items"])]),_:1})):Q("",!0),d.value===2?(u(),P("div",ko,[c(Ni,{"media-item":(Wt=e(t).curQueueItem)==null?void 0:Wt.media_item,position:(Rt=e(t).activePlayerQueue)==null?void 0:Rt.elapsed_time,duration:(Nt=e(t).curQueueItem)==null?void 0:Nt.duration,"stream-details":(Ht=e(t).curQueueItem)==null?void 0:Ht.streamdetails,"text-color":M.value},null,8,["media-item","position","duration","stream-details","text-color"])])):Q("",!0)])])):Q("",!0),!e(t).showQueueItems&&w.$vuetify.display.height<=600?(u(),P("div",Co,[I("div",Io,[c(Ne,{item:e(t).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"}},null,8,["item"])])])):Q("",!0)]),I("div",Qo,[I("div",Vo,[c(Ma,{"show-labels":!0,color:M.value},null,8,["color"])]),I("div",So,[e(t).activePlayerQueue?(u(),S(Te,{key:0,disabled:!((Yt=e(t).curQueueItem)!=null&&Yt.media_item),icon:(Ut=(Xt=e(t).curQueueItem)==null?void 0:Xt.media_item)!=null&&Ut.favorite?"mdi-heart":"mdi-heart-outline",title:e(ie)("tooltip.favorite"),type:"btn",class:"media-controls-item","max-height":"30px",onClick:h},null,8,["disabled","icon","title"])):Q("",!0),w.$vuetify.display.mdAndUp?(u(),S(za,{key:1,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"30px"},null,8,["player-queue"])):Q("",!0),c(Da,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"45px"},null,8,["player","player-queue"]),c(Fa,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"100px"},null,8,["player","player-queue"]),c(qa,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"45px"},null,8,["player","player-queue"]),w.$vuetify.display.mdAndUp?(u(),S(La,{key:2,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"35px"},null,8,["player-queue"])):Q("",!0),e(t).activePlayerQueue?(u(),S(Oa,{key:3,class:"media-controls-item","max-height":"30px"})):Q("",!0)]),e(t).activePlayer?(u(),P("div",$o,[c(Vt,{width:"100%","is-powered":((Gt=e(t).activePlayer)==null?void 0:Gt.powered)!=!1,disabled:!e(t).activePlayer||!((jt=e(t).activePlayer)!=null&&jt.available),"model-value":Math.round(((Kt=e(t).activePlayer)==null?void 0:Kt.group_volume)||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus",color:M.value,"allow-wheel":!0,"onUpdate:modelValue":p[8]||(p[8]=B=>e(t).activePlayer.group_childs.length>0?e(E).playerCommandGroupVolume(e(t).activePlayerId,B):e(E).playerCommandVolumeSet(e(t).activePlayerId,B)),"onClick:prepend":p[9]||(p[9]=B=>e(t).activePlayer.group_childs.length>0?e(E).playerCommandGroupVolumeDown(e(t).activePlayerId):e(E).playerCommandVolumeDown(e(t).activePlayerId)),"onClick:append":p[10]||(p[10]=B=>e(t).activePlayer.group_childs.length>0?e(E).playerCommandGroupVolumeUp(e(t).activePlayerId):e(E).playerCommandVolumeUp(e(t).activePlayerId))},null,8,["is-powered","disabled","model-value","color"])])):Q("",!0),_.value?(u(),P("div",To,[c(Ce,{class:"responsive-icon-holder-btn",variant:"outlined",onClick:p[11]||(p[11]=B=>e(t).showPlayersMenu=!0)},{default:f(()=>{var B;return[c(re,{icon:((B=e(t).activePlayer)==null?void 0:B.icon)||"mdi-speaker"},null,8,["icon"]),j(" "+V(e(t).activePlayer?e(Sa)(e(t).activePlayer):""),1)]}),_:1})])):Q("",!0)])]}),_:1},8,["color"])]),_:1},8,["modelValue"]))}}),Bo=pe(xo,[["__scopeId","data-v-09131e5b"]]),Eo={key:1},Mo={key:2,class:"icon-thumb"},Lo={key:0},zo={key:2},Fo={key:3},Do={key:4},qo={key:0,class:"pl-4"},Oo={key:0},Wo={key:1},Ro={key:2},No={key:3},Ho={key:4,class:"line-clamp-1"},Yo={key:5,class:"line-clamp-1"},Xo={key:6},Uo={key:7,class:"line-clamp-1"},Go={key:8,class:"line-clamp-1"},jo={key:0},Ko=U({__name:"PlayerTrackDetails",props:{showOnlyArtist:{type:Boolean,default:!1},showQualityDetailsBtn:{type:Boolean,default:!0},colorPalette:{},primaryColor:{default:""}},setup(a){const l=new ct,s=a,i=T(()=>{var n,o;return(o=(n=t.activePlayerQueue)==null?void 0:n.current_item)==null?void 0:o.streamdetails});return(n,o)=>(u(),P(K,null,[c(Ve,{style:{height:"auto",width:"fit-content",margin:"0px",padding:"0px"},lines:"two"},{prepend:f(()=>{var r,d,y,v,C,b,m,g,_,x;return[I("div",{class:"media-thumb player-media-thumb",style:Z(`cursor: pointer;height: ${e(ne)({breakpoint:"phone"})?50:64}px; width: ${e(ne)({breakpoint:"phone"})?50:64}px; `),onClick:o[0]||(o[0]=O=>e(t).showFullscreenPlayer=!0)},[((r=e(t).activePlayer)==null?void 0:r.powered)!=!1&&((d=e(t).curQueueItem)!=null&&d.media_item||(y=e(t).curQueueItem)!=null&&y.image)?(u(),S(Ne,{key:0,item:((v=e(t).curQueueItem)==null?void 0:v.media_item)||e(t).curQueueItem,fallback:e(lt)},null,8,["item","fallback"])):((C=e(t).activePlayer)==null?void 0:C.powered)!=!1&&((m=(b=e(t).activePlayer)==null?void 0:b.current_media)!=null&&m.image_url)?(u(),P("div",Eo,[c(Je,{class:"media-thumb",style:{"border-radius":"4px"},size:"55",src:e(t).activePlayer.current_media.image_url},null,8,["src"])])):(u(),P("div",Mo,[c(re,{size:"35",icon:((g=e(t).activePlayer)==null?void 0:g.type)==e(Ke).PLAYER&&((_=e(t).activePlayer)!=null&&_.group_childs.length)?"mdi-speaker-multiple":((x=e(t).activePlayer)==null?void 0:x.icon)||"mdi-speaker",style:{display:"table-cell",opacity:"0.8"}},null,8,["icon"])]))],4)]}),title:f(()=>{var r,d,y,v,C,b;return[I("div",{style:Z({cursor:"pointer",color:n.primaryColor})},[((r=e(t).activePlayer)==null?void 0:r.powered)==!1?(u(),P("div",{key:0,onClick:o[1]||(o[1]=m=>e(t).showPlayersMenu=!0)},V((d=e(t).activePlayer)==null?void 0:d.display_name),1)):(y=e(t).curQueueItem)!=null&&y.media_item?(u(),P("div",{key:1,onClick:o[2]||(o[2]=m=>e(t).showFullscreenPlayer=!0)},[c(fe,{sync:e(l)},{default:f(()=>[j(V(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(u(),P("span",Lo,"("+V(e(t).curQueueItem.media_item.version)+")",1)):Q("",!0)]),_:1},8,["sync"])])):e(t).curQueueItem?(u(),P("div",zo,V(e(t).curQueueItem.name),1)):!e(t).activePlayerQueue&&((C=(v=e(t).activePlayer)==null?void 0:v.current_media)!=null&&C.title)?(u(),P("div",Fo,V(e(t).activePlayer.current_media.title),1)):e(t).activePlayer?(u(),P("div",Do,V((b=e(t).activePlayer)==null?void 0:b.display_name),1)):(u(),P("div",{key:5,onClick:o[3]||(o[3]=m=>e(t).showPlayersMenu=!0)},V(n.$t("no_player")),1))],4)]}),append:f(()=>{var r;return[(r=i.value)!=null&&r.audio_format.content_type&&!e(ne)({breakpoint:"phone"})&&n.showQualityDetailsBtn?(u(),P("div",qo,[c(Va)])):Q("",!0)]}),subtitle:f(()=>{var r;return[I("div",{style:Z({cursor:"pointer",color:n.primaryColor}),class:"line-clamp-1",onClick:o[4]||(o[4]=d=>e(t).showFullscreenPlayer=!0)},[c(fe,{sync:e(l)},{default:f(()=>{var d,y,v,C,b,m,g,_,x,O,D,R,N,q,A;return[((d=e(t).activePlayer)==null?void 0:d.powered)==!1?(u(),P("div",Oo,V(n.$t("off")),1)):e(t).curQueueItem&&((y=e(t).curQueueItem.media_item)==null?void 0:y.media_type)==e(X).TRACK&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album&&!s.showOnlyArtist?(u(),P("div",Wo,V(e(Ql)(e(t).curQueueItem.media_item.artists))+" • "+V(e(t).curQueueItem.media_item.album.name),1)):(v=e(t).curQueueItem)!=null&&v.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length>0?(u(),P("div",Ro,V(e(t).curQueueItem.media_item.artists[0].name),1)):(C=e(t).curQueueItem)!=null&&C.media_item&&"podcast"in e(t).curQueueItem.media_item&&((b=e(t).curQueueItem.media_item.podcast)!=null&&b.name)?(u(),P("div",No,V(e(t).curQueueItem.media_item.podcast.name),1)):(g=(m=e(t).curQueueItem)==null?void 0:m.streamdetails)!=null&&g.stream_title?(u(),P("div",Ho,V((x=(_=e(t).curQueueItem)==null?void 0:_.streamdetails)==null?void 0:x.stream_title),1)):(D=(O=e(t).curQueueItem)==null?void 0:O.media_item)!=null&&D.metadata.description?(u(),P("div",Yo,V(e(Vl)(e(t).curQueueItem.media_item.metadata.description,100)),1)):!e(t).activePlayerQueue&&((R=e(t).activePlayer)!=null&&R.active_source)&&((q=(N=e(t).activePlayer)==null?void 0:N.current_media)!=null&&q.artist)?(u(),P("div",Xo,V(e(t).activePlayer.current_media.artist),1)):!e(t).activePlayerQueue&&((A=e(t).activePlayer)!=null&&A.active_source)?(u(),P("div",Uo,V(n.$t("external_source_active",[e(Qa)(e(t).activePlayer)])),1)):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(u(),P("div",Go,V(n.$t("queue_empty")),1)):Q("",!0)]}),_:1},8,["sync"]),e(t).activePlayer&&((r=e(t).activePlayer)==null?void 0:r.powered)!=!1?(u(),P("div",jo,V(e(Sa)(e(t).activePlayer)),1)):Q("",!0)],4)]}),_:1}),c(Bo,{"show-fullscreen":e(t).showFullscreenPlayer,"color-palette":n.colorPalette},null,8,["show-fullscreen","color-palette"])],64))}}),Zo={key:0},Jo={key:0},es={class:"text-caption"},ts={key:1},as=U({__name:"VolumeBtn",props:{volumeSize:{default:"150px"},responsiveVolumeSize:{type:Boolean,default:!0},isVisible:{type:Boolean,default:!0},color:{default:""}},setup(a){const l=a,s=F(!1);return(i,n)=>l.isVisible&&e(t).activePlayer?(u(),P("div",Zo,[c(kt,{modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=o=>s.value=o),class:"volume-control-dialog","close-on-content-click":!1,location:"top",scrim:i.$vuetify.theme.current.dark?"rgba(0,0,0,.75)":"rgba(0,0,0,.85)"},{activator:f(({props:o})=>{var r,d;return[e(ne)("bp6")||!i.responsiveVolumeSize?(u(),P("div",Jo,[c(Vt,{style:"margin-right: 0px; margin-left: 0px;",width:i.volumeSize,"is-powered":!0,"model-value":e(t).activePlayer.group_childs.length>0?Math.round(((r=e(t).activePlayer)==null?void 0:r.group_volume)||0):Math.round(((d=e(t).activePlayer)==null?void 0:d.volume_level)||0),"allow-wheel":!0,"onUpdate:modelValue":n[0]||(n[0]=y=>{var v,C;return e(t).activePlayer.group_childs.length>0?e(E).playerCommandGroupVolume(((v=e(t).activePlayer)==null?void 0:v.player_id)||"",y):e(E).playerCommandVolumeSet(((C=e(t).activePlayer)==null?void 0:C.player_id)||"",y)})},{prepend:f(()=>[c(Ae,se({variant:"icon",size:"48",ripple:!1},{...o}),{default:f(()=>{var y,v;return[c(re,{color:l.color?i.color:"",size:24,icon:"mdi-volume-high"},null,8,["color"]),I("div",es,V(e(t).activePlayer.group_childs.length>0?Math.round(((y=e(t).activePlayer)==null?void 0:y.group_volume)||0):Math.round(((v=e(t).activePlayer)==null?void 0:v.volume_level)||0)),1)]}),_:2},1040)]),_:2},1032,["width","model-value"])])):(u(),P("div",ts,[c(Ae,se({...o},{size:"48",variant:"icon"}),{default:f(()=>{var y,v;return[c(re,{color:l.color?i.color:"",icon:"mdi-volume-high"},null,8,["color"]),I("div",{class:"text-caption",style:Z({color:l.color?i.color:""})},V(e(t).activePlayer.group_childs.length>0?Math.round(((y=e(t).activePlayer)==null?void 0:y.group_volume)||0):Math.round(((v=e(t).activePlayer)==null?void 0:v.volume_level)||0)),5)]}),_:2},1040)]))]}),default:f(()=>[c(tt,{"min-width":300,style:{overflow:"hidden","padding-top":"20px","padding-bottom":"20px","padding-right":"20px"}},{default:f(()=>[e(t).activePlayer?(u(),S(Ul,{key:0,player:e(t).activePlayer,"show-sub-players":!0,"show-sync-controls":!1,"show-heading-row":!0,"show-volume-control":!0,"allow-wheel":!0,style:{"margin-left":"18px"}},null,8,["player"])):Q("",!0)]),_:1})]),_:1},8,["modelValue","scrim"])])):Q("",!0)}}),ls=pe(as,[["__scopeId","data-v-f4084555"]]),is=U({__name:"PlayerExtendedControls",props:{queue:{default:()=>({isVisible:!0,showQueueDialog:!1})},player:{default:()=>({isVisible:!0})},volume:{default:()=>({isVisible:!0,volumeSize:"150px",responsiveVolumeSize:!1})}},setup(a){return(l,s)=>(u(),P(K,null,[l.player&&l.player.isVisible?(u(),S(Wa,{key:0,color:l.player.color},null,8,["color"])):Q("",!0),l.queue&&l.queue.isVisible?(u(),S(Oa,{key:1,color:l.player.color,style:{"padding-left":"15px","padding-right":"20px"}},null,8,["color"])):Q("",!0),l.volume&&l.volume.isVisible?(u(),S(ls,{key:2,color:l.volume.color,"volume-size":l.volume.volumeSize,"responsive-volume-size":l.volume.responsiveVolumeSize},null,8,["color","volume-size","responsive-volume-size"])):Q("",!0)],64))}}),os=["data-floating"],ss=["data-mobile"],ns={class:"mediacontrols-left"},rs={class:"mediacontrols-bottom-center"},us={class:"mediacontrols-bottom-right"},ds={key:0,class:"volume-slider"},cs=U({__name:"Player",props:{useFloatingPlayer:{type:Boolean}},setup(a){Pa(o=>({"5f523ac8":n.value})),ba();const{mobile:l}=ht({mobileBreakpoint:576}),s=F({0:"",1:"",2:"",3:"",4:"",5:"",lightColor:"",darkColor:""}),i=new Image;i.src=at.theme.current.value.dark?lt:ut,i.crossOrigin="Anonymous",i.addEventListener("load",function(){s.value=Sl(i)});const n=T(()=>at.theme.current.value.dark?s.value&&s.value.darkColor?s.value.darkColor+"26":"CCCCCC26":s.value&&s.value.lightColor?s.value.lightColor+"26":"CCCCCC26");return oe(()=>{var o;return(o=t.curQueueItem)==null?void 0:o.queue_item_id},()=>{var o;(o=t.curQueueItem)!=null&&o.media_item?i.src=sa(t.curQueueItem.media_item,na.THUMB)||"":t.curQueueItem?i.src=sa(t.curQueueItem,na.THUMB)||"":i.src=""}),(o,r)=>{var d,y,v,C,b,m,g,_,x,O,D;return u(),P(K,null,[I("div",{class:"mediacontrols-bg","data-floating":o.useFloatingPlayer},null,8,os),I("div",{class:"mediacontrols","data-mobile":e(l)},[I("div",ns,[c(Ko,{"show-quality-details-btn":!!e(ne)("bp8"),"show-only-artist":!e(ne)("bp7"),"color-palette":s.value,"primary-color":o.$vuetify.theme.current.dark?"#fff":"#000"},null,8,["show-quality-details-btn","show-only-artist","color-palette","primary-color"])]),I("div",rs,[c(fa,{"visible-components":{repeat:{isVisible:e(ne)("bp3")},shuffle:{isVisible:e(ne)("bp3")},play:{isVisible:!0,icon:{staticWidth:"50px",staticHeight:"50px"},withCircle:o.useFloatingPlayer},previous:{isVisible:e(ne)("bp3")},next:{isVisible:e(ne)("bp3")}}},null,8,["visible-components"]),e(ne)("bp6")?(u(),S(Ma,{key:0,"is-progress-bar":!1,disabled:!((d=e(t).activePlayerQueue)!=null&&d.active)||((C=(v=(y=e(t).activePlayerQueue)==null?void 0:y.current_item)==null?void 0:v.media_item)==null?void 0:C.media_type)!==e(X).TRACK},null,8,["disabled"])):Q("",!0)]),I("div",us,[I("div",null,[c(is,{queue:{isVisible:e(ne)("bp3"),color:o.$vuetify.theme.current.dark?"#fff":"#000"},player:{isVisible:!0,color:o.$vuetify.theme.current.dark?"#fff":"#000"},volume:{isVisible:!e(l)&&(((b=e(t).activePlayer)==null?void 0:b.volume_control)!=e(oa)||((m=e(t).activePlayer)==null?void 0:m.group_childs.length)>0),color:o.$vuetify.theme.current.dark?"#fff":"#000"}},null,8,["queue","player","volume"]),c(fa,{style:{"padding-right":"5px"},"visible-components":{repeat:{isVisible:!1},shuffle:{isVisible:!1},play:{isVisible:e(ne)({breakpoint:"bp3",condition:"lt"}),withCircle:!1,icon:{staticWidth:"40px",staticHeight:"40px",color:o.$vuetify.theme.current.dark?"#fff":"#000"}},previous:{isVisible:!1},next:{isVisible:!1}}},null,8,["visible-components"])])])],8,ss),e(l)&&(((g=e(t).activePlayer)==null?void 0:g.volume_control)!=e(oa)||((_=e(t).activePlayer)==null?void 0:_.group_childs.length)>0)?(u(),P("div",ds,[c(Vt,{width:"100%",color:"secondary","is-powered":((x=e(t).activePlayer)==null?void 0:x.powered)!=!1,disabled:!e(t).activePlayer||!((O=e(t).activePlayer)!=null&&O.available),"model-value":Math.round(((D=e(t).activePlayer)==null?void 0:D.group_volume)||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus","onUpdate:modelValue":r[0]||(r[0]=R=>e(t).activePlayer.group_childs.length>0?e(E).playerCommandGroupVolume(e(t).activePlayerId,R):e(E).playerCommandVolumeSet(e(t).activePlayerId,R)),"onClick:prepend":r[1]||(r[1]=R=>e(t).activePlayer.group_childs.length>0?e(E).playerCommandGroupVolumeDown(e(t).activePlayerId):e(E).playerCommandVolumeDown(e(t).activePlayerId)),"onClick:append":r[2]||(r[2]=R=>e(t).activePlayer.group_childs.length>0?e(E).playerCommandGroupVolumeUp(e(t).activePlayerId):e(E).playerCommandVolumeUp(e(t).activePlayerId))},null,8,["is-powered","disabled","model-value"])])):Q("",!0)],64)}}}),ms=pe(cs,[["__scopeId","data-v-4c2b88bf"]]),vs=ge({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...wt(),...$e(),...At(),...Qt(),..._t(),...Fe({tag:"footer"}),...Xe()},"VFooter"),ys=he()({name:"VFooter",props:vs(),setup(a,l){let{slots:s}=l;const i=F(),{themeClasses:n}=it(a),{backgroundColorClasses:o,backgroundColorStyles:r}=He(()=>a.color),{borderClasses:d}=ft(a),{elevationClasses:y}=pt(a),{roundedClasses:v}=gt(a),C=_e(32),{resizeRef:b}=$l(g=>{g.length&&(C.value=g[0].target.clientHeight)}),m=T(()=>a.height==="auto"?C.value:parseInt(a.height,10));return Oe(()=>a.app,()=>{const g=It({id:a.name,order:T(()=>parseInt(a.order,10)),position:ae(()=>"bottom"),layoutSize:m,elementSize:T(()=>a.height==="auto"?void 0:m.value),active:ae(()=>a.app),absolute:ae(()=>a.absolute)});vt(()=>{i.value=g.layoutItemStyles.value})}),be(()=>c(a.tag,{ref:b,class:ce(["v-footer",n.value,o.value,d.value,y.value,v.value,a.class]),style:Z([r.value,a.app?i.value:{height:ze(a.height)},a.style])},s)),{}}}),fs=U({__name:"Footer",setup(a){const l=T(()=>t.navigationMenuStyle=="horizontal"),s=T(()=>t.navigationMenuStyle!="horizontal"?0:t.isInStandaloneMode?100:80),i=T(()=>l.value?s.value+5:0);return(n,o)=>(u(),P(K,null,[l.value?(u(),P("div",{key:0,class:ce(n.$vuetify.theme.current.dark?"gradient-dark":"gradient-light"),style:Z(`
      position: fixed;
      width: 100%;
      height: ${s.value+(e(ne)("bp3")?100:70)}px;
      bottom: 0px;
      z-index: 999;
    `)},null,6)):Q("",!0),e(t).navigationMenuStyle=="horizontal"?(u(),S(wi,{key:1,height:s.value},null,8,["height"])):Q("",!0),c(ys,{bottom:"",fixed:"",class:ce(`d-flex flex-column ${l.value?"mediacontrols-player-float":"mediacontrols-player-default"}`),style:Z(`bottom: ${i.value}px;`),elevation:"10",app:""},{default:f(()=>[c(ms,{"use-floating-player":l.value},null,8,["use-floating-player"])]),_:1},8,["class","style"])],64))}}),ps={style:{float:"right","margin-right":"-20px"}},hs=U({__name:"PlayerSelect",setup(a){const l=F(!1),s=F(null),i=T(()=>Object.values(E.players).filter(d=>ra(d)).filter(d=>d.player_id!==Qe.player_id).sort((d,y)=>{var v;return d.display_name.toUpperCase()>((v=y.display_name)==null?void 0:v.toUpperCase())?1:-1}));oe(()=>t.activePlayerId,d=>{d&&localStorage.setItem("mass.LastPlayerId",d)}),oe(()=>E.players,d=>{d&&!t.activePlayer&&o()},{deep:!0}),oe(()=>E.state,d=>{d.value!=xl.CONNECTED&&(t.activePlayerId=void 0)},{deep:!0});function n(d,y=!1){t.activePlayerId==d.player_id?l.value=!l.value:(l.value=!1,t.activePlayerId=d.player_id),y&&(t.showPlayersMenu=!1)}Se(()=>{o()});const o=function(){if(t.activePlayer&&ra(t.activePlayer))return;const d=r();d&&(t.activePlayerId=d)},r=function(){const d=localStorage.getItem("mass.LastPlayerId");if(d&&d in E.players&&E.players[d].available)return d};return(d,y)=>(u(),P(K,null,[c($a,{modelValue:e(t).showPlayersMenu,"onUpdate:modelValue":y[0]||(y[0]=v=>e(t).showPlayersMenu=v)},null,8,["modelValue"]),e(t).showPlayersMenu?(u(),S(Ba,{key:0,modelValue:e(t).showPlayersMenu,"onUpdate:modelValue":y[4]||(y[4]=v=>e(t).showPlayersMenu=v),location:"right",app:"",clipped:"",temporary:"",width:460,style:{"z-index":"99999"},"z-index":"99999"},{default:f(()=>[I("div",null,[c(qe,{class:"title",style:{"padding-top":"20px","padding-bottom":"20px"}},{default:f(()=>[I("b",null,V(d.$t("players")),1),I("div",ps,[c(Ae,{variant:"icon",to:{name:"playersettings"}},{default:f(()=>[c(re,{size:"30"},{default:f(()=>y[5]||(y[5]=[j("mdi-cog-outline",-1)])),_:1,__:[5]})]),_:1}),c(Ae,{variant:"icon",onClick:y[1]||(y[1]=v=>e(t).showPlayersMenu=!1)},{default:f(()=>[c(re,{size:"30"},{default:f(()=>y[6]||(y[6]=[j("mdi-window-close",-1)])),_:1,__:[6]})]),_:1})])]),_:1}),c(et),c(Me,{flat:"",style:{margin:"0px 15px 5px 15px"}},{default:f(()=>[e(Qe).mode===e(Tl).BUILTIN&&e(Qe).player_id&&e(E).players[e(Qe).player_id]?(u(),S(je,{key:0,id:e(Qe).player_id,player:e(E).players[e(Qe).player_id],"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":!1,"show-sync-controls":!1,"allow-power-control":!0,onClick:y[2]||(y[2]=v=>n(e(E).players[e(Qe).player_id]))},null,8,["id","player"])):Q("",!0),(u(!0),P(K,null,de(i.value.filter(v=>{var C;return[e(rt).PLAYING,e(rt).PAUSED].includes(v.state)||((C=e(E).queues[v.player_id])==null?void 0:C.items)>0&&v.powered!=!1}),v=>(u(),S(je,{id:v.player_id,key:v.player_id,player:v,"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":l.value&&v.player_id==e(t).activePlayerId,"show-sync-controls":v.supported_features.includes(e(Re).SET_MEMBERS),"allow-power-control":!0,onClick:C=>n(v)},null,8,["id","player","show-sub-players","show-sync-controls","onClick"]))),128))]),_:1}),c(Kl,{modelValue:s.value,"onUpdate:modelValue":y[3]||(y[3]=v=>s.value=v),variant:"accordion",flat:"",class:"expansion"},{default:f(()=>[c(ua,{style:{padding:"0"}},{default:f(()=>[c(da,null,{default:f(()=>[I("h3",null,V(d.$t("all_players")),1)]),_:1}),c(ca,{style:{padding:"0"}},{default:f(()=>[c(Me,{flat:"",style:{margin:"-20px 3px 5px 3px"}},{default:f(()=>[(u(!0),P(K,null,de(i.value.filter(v=>v.type!=e(Ke).GROUP),v=>(u(),S(je,{id:v.player_id,key:v.player_id,player:v,"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":l.value&&v.player_id==e(t).activePlayerId,"show-sync-controls":v.supported_features.includes(e(Re).SET_MEMBERS),"allow-power-control":!0,onClick:C=>n(v)},null,8,["id","player","show-sub-players","show-sync-controls","onClick"]))),128))]),_:1})]),_:1})]),_:1}),i.value.filter(v=>v.type==e(Ke).GROUP).length?(u(),S(ua,{key:0,style:{padding:"0"}},{default:f(()=>[c(da,null,{default:f(()=>[I("h3",null,V(d.$t("all_groups")),1)]),_:1}),c(ca,{style:{padding:"0"}},{default:f(()=>[c(Me,{flat:"",style:{margin:"-20px 3px 5px 3px"}},{default:f(()=>[(u(!0),P(K,null,de(i.value.filter(v=>v.type==e(Ke).GROUP),v=>(u(),S(je,{id:v.player_id,key:v.player_id,player:v,"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":l.value&&v.player_id==e(t).activePlayerId,"show-sync-controls":v.supported_features.includes(e(Re).SET_MEMBERS),"allow-power-control":!0,onClick:C=>n(v)},null,8,["id","player","show-sub-players","show-sync-controls","onClick"]))),128))]),_:1})]),_:1})]),_:1})):Q("",!0)]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"])):Q("",!0)],64))}}),gs=pe(hs,[["__scopeId","data-v-a66c8412"]]);function bs(a={}){const{immediate:l=!1,onNeedRefresh:s,onOfflineReady:i,onRegistered:n,onRegisteredSW:o,onRegisterError:r}=a;let d,y,v;const C=async(m=!0)=>{await y,v==null||v()};async function b(){if("serviceWorker"in navigator){if(d=await Bl(async()=>{const{Workbox:m}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:m}},[],import.meta.url).then(({Workbox:m})=>new m("./sw.js",{scope:"./",type:"classic"})).catch(m=>{r==null||r(m)}),!d)return;v=()=>{d==null||d.messageSkipWaiting()};{let m=!1;const g=()=>{m=!0,d==null||d.addEventListener("controlling",_=>{_.isUpdate&&window.location.reload()}),s==null||s()};d.addEventListener("installed",_=>{typeof _.isUpdate>"u"?typeof _.isExternal<"u"&&_.isExternal?g():!m&&(i==null||i()):_.isUpdate||i==null||i()}),d.addEventListener("waiting",g)}d.register({immediate:l}).then(m=>{o?o("./sw.js",m):n==null||n(m)}).catch(m=>{r==null||r(m)})}}return y=b(),C}function _s(a={}){const{immediate:l=!0,onNeedRefresh:s,onOfflineReady:i,onRegistered:n,onRegisteredSW:o,onRegisterError:r}=a,d=F(!1),y=F(!1);return{updateServiceWorker:bs({immediate:l,onNeedRefresh(){d.value=!0,s==null||s()},onOfflineReady(){y.value=!0,i==null||i()},onRegistered:n,onRegisteredSW:o,onRegisterError:r}),offlineReady:y,needRefresh:d}}const As={key:0,class:"pwa-toast",role:"alert"},ws={class:"message"},Ps={key:0},ks={key:1},Cs=U({__name:"ReloadPrompt",setup(a){const{offlineReady:l,needRefresh:s,updateServiceWorker:i}=_s(),n=async()=>{l.value=!1,s.value=!1};return(o,r)=>e(l)||e(s)?(u(),P("div",As,[I("div",ws,[e(l)?(u(),P("span",Ps," App ready to work offline ")):(u(),P("span",ks," New content available, click on reload button to update. "))]),e(s)?(u(),P("button",{key:0,onClick:r[0]||(r[0]=d=>e(i)())},"Reload")):Q("",!0),I("button",{onClick:n},"Close")])):Q("",!0)}}),Is=ge({...$e(),...Ct(Fl(),["fullHeight"]),...Xe()},"VApp"),Qs=he()({name:"VApp",props:Is(),setup(a,l){let{slots:s}=l;const i=it(a),{layoutClasses:n,getLayoutItem:o,items:r,layoutRef:d}=zl({...a,fullHeight:!0}),{rtlClasses:y}=yt();return be(()=>{var v;return I("div",{ref:d,class:ce(["v-application",i.themeClasses.value,n.value,y.value,a.class]),style:Z([a.style])},[I("div",{class:"v-application__wrap"},[(v=s.default)==null?void 0:v.call(s)])])}),{getLayoutItem:o,items:r,theme:i}}}),Vs=U({__name:"Default",setup(a){const l=El();return oe([()=>l.query.player,()=>Object.keys(E.players).length],([s])=>{var o;if(!s)return;const i=s.toString().toLowerCase(),n=(o=Object.values(E.players).find(r=>r.player_id.toLowerCase()===i||r.display_name.toLowerCase()===i))==null?void 0:o.player_id;n&&(t.activePlayerId=n)},{immediate:!0}),oe(()=>l.query.showFullscreenPlayer,s=>{t.showFullscreenPlayer=!!s},{immediate:!0}),oe(()=>l.query.frameless,s=>{s&&(t.frameless=!0)},{immediate:!0}),(s,i)=>(u(),P(K,null,[e(t).connected?(u(),S(Qs,{key:0},{default:f(()=>[e(t).frameless?(u(),S(ya,{key:0})):(u(),P(K,{key:1},[c(gs),c(fs),c(ya)],64))]),_:1})):(u(),S($a,{key:1,class:"centeredoverlay",persistent:"","model-value":!e(t).connected},{default:f(()=>[I("div",null,[c(xa,{color:"primary",indeterminate:"",size:"64"})])]),_:1},8,["model-value"])),e(t).isInStandaloneMode?(u(),S(Cs,{key:2})):Q("",!0)],64))}}),Gs=pe(Vs,[["__scopeId","data-v-33a00054"]]);export{Gs as default};
