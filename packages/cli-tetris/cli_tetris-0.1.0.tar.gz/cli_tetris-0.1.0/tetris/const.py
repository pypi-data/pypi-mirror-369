"""
全局常量配置
"""

# === 棋盘参数 ===
BOARD_HEIGHT = 20
BOARD_WIDTH = 10
HIDDEN_ROWS = 4  # 顶部隐藏区

# === 速度与节奏 ===
DROP_TIME_BASE = 0.8  # 初始下落间隔（秒）
DROP_TIME_MIN = 0.03  # 最小下落间隔（秒）
DROP_TIME_DECAY = 0.85  # 下落速度指数衰减因子
LOCK_DELAY = 1.0  # 固定等待时间（软降锁定时间，秒）
GAME_FPS = 60  # 游戏主循环帧率

# === 等级与升级 ===
LEVEL_INIT = 1
LEVEL_MAX = 15
LEVEL_UP_BASE = 500
LEVEL_UP_FACTOR = 1.5

# === 显示字符 ===
SHAPE_CHAR = "■"
GHOST_CHAR = "⧄"
EMPTY_CHAR = "  "
BORDER_TOP_LEFT = "┌"
BORDER_TOP_RIGHT = "┐"
BORDER_BOTTOM_LEFT = "└"
BORDER_BOTTOM_RIGHT = "┘"
BORDER_HORIZONTAL = "─"
BORDER_VERTICAL = "│"

# === 颜色常量（curses颜色对） ===
COLOR_I = 1
COLOR_O = 2
COLOR_T = 3
COLOR_J = 4
COLOR_L = 5
COLOR_S = 6
COLOR_Z = 7
COLOR_GHOST = 8
COLOR_BORDER = 9
COLOR_TEXT = 10
COLOR_HIGHLIGHT = 11

# === 方块定义 ===
TETROMINO_COLORS = [
    COLOR_I,  # I
    COLOR_O,  # O
    COLOR_T,  # T
    COLOR_J,  # J
    COLOR_L,  # L
    COLOR_S,  # S
    COLOR_Z,  # Z
]

TETROMINOS = [
    [[1, 1, 1, 1]],  # I
    [[1, 1], [1, 1]],  # O
    [[0, 1, 0], [1, 1, 1]],  # T
    [[1, 0, 0], [1, 1, 1]],  # J
    [[0, 0, 1], [1, 1, 1]],  # L
    [[1, 1, 0], [0, 1, 1]],  # S
    [[0, 1, 1], [1, 1, 0]],  # Z
]

# === SRS墙踢表 ===
SRS_KICKS = {
    (0, 1): [(0, 0), (-1, 0), (-1, +1), (0, -2), (-1, -2)],
    (1, 0): [(0, 0), (+1, 0), (+1, -1), (0, +2), (+1, +2)],
    (1, 2): [(0, 0), (+1, 0), (+1, -1), (0, +2), (+1, +2)],
    (2, 1): [(0, 0), (-1, 0), (-1, +1), (0, -2), (-1, -2)],
    (2, 3): [(0, 0), (+1, 0), (+1, +1), (0, -2), (+1, -2)],
    (3, 2): [(0, 0), (-1, 0), (-1, -1), (0, +2), (-1, +2)],
    (3, 0): [(0, 0), (-1, 0), (-1, -1), (0, +2), (-1, +2)],
    (0, 3): [(0, 0), (+1, 0), (+1, +1), (0, -2), (+1, -2)],
}
SRS_KICKS_I = {
    (0, 1): [(0, 0), (-2, 0), (+1, 0), (-2, -1), (+1, +2)],
    (1, 0): [(0, 0), (+2, 0), (-1, 0), (+2, +1), (-1, -2)],
    (1, 2): [(0, 0), (-1, 0), (+2, 0), (-1, +2), (+2, -1)],
    (2, 1): [(0, 0), (+1, 0), (-2, 0), (+1, -2), (-2, +1)],
    (2, 3): [(0, 0), (+2, 0), (-1, 0), (+2, +1), (-1, -2)],
    (3, 2): [(0, 0), (-2, 0), (+1, 0), (-2, -1), (+1, +2)],
    (3, 0): [(0, 0), (+1, 0), (-2, 0), (+1, -2), (-2, +1)],
    (0, 3): [(0, 0), (-1, 0), (+2, 0), (-1, +2), (+2, -1)],
}

# === 其它 ===
NEXT_COUNT = 4  # 预告方块数量
