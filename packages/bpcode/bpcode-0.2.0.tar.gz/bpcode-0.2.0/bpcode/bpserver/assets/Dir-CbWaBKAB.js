import{r as u,h as F,i as $,c as a,a as d,j as D,b as _,w as p,k as c,F as b,l as E,m as N,f as V,n as I,o as n,g as v,p as S,d as j,t as q}from"./index-DdQy5wgL.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"container"},O={class:"toolbar"},R={class:"infinite-list"},z=["onClick"],M={__name:"Dir",setup(P){const f=V(),m=$(),i=u({}),t=u(""),h=()=>{},l=e=>{const s=`${k}/getdirs/`+e;N.post(s,{cookie:localStorage.getItem("cookie")}).then(o=>{o.data.isdir?i.value=o.data.dirs:f.push({name:"file",query:{files:o.data.file,cdirs1:e}})}).catch(o=>{console.error("Error fetching data:",o)})};F(()=>{t.value=m.query.cdir||"",l(t.value)});const k=`${window.location.protocol}//${window.location.hostname}:8888`,g=e=>{i.value[e]?t.value+=`${e}/`:t.value+=`${e}`,l(t.value)},w=()=>{const e=t.value.split("/").filter(Boolean);e.pop(),t.value=e.join("/")+(e.length?"/":""),l(t.value)};return(e,s)=>{const o=c("el-button"),y=c("FolderOpened"),x=c("el-icon"),B=I("infinite-scroll");return n(),a("div",L,[d("div",O,[s[1]||(s[1]=d("h4",null,"目录",-1)),_(o,{type:"primary",onClick:w},{default:p(()=>s[0]||(s[0]=[v("上一级",-1)])),_:1,__:[0]})]),D((n(),a("ul",R,[(n(!0),a(b,null,E(i.value,(C,r)=>(n(),a("li",{key:r,class:"infinite-list-item",onClick:T=>g(r)},[C?(n(),S(x,{key:0,color:"#409EFF",size:"20"},{default:p(()=>[_(y)]),_:1})):j("",!0),v(q(r),1)],8,z))),128))])),[[B,h]])])}}},H=A(M,[["__scopeId","data-v-39135457"]]);export{H as default};
