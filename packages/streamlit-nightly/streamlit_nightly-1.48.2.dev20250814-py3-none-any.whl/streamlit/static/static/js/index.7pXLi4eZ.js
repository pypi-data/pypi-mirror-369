import{v as u,r as v,J as S,e as p,j as s,w as C,S as L,x as E}from"./index.BcHVYbLW.js";import{w as b,E as T}from"./withFullScreenWrapper.DwjL5pUM.js";import{S as g,T as W}from"./Toolbar.DmO9uS7R.js";const y=u("div",{target:"evl31sl0"})(({theme:e})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",rowGap:e.spacing.lg,maxWidth:"100%",width:"fit-content"})),F=u("div",{target:"evl31sl1"})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"stretch",width:"auto",flexGrow:0,">img":{borderRadius:e.radii.default}})),j=u("div",{target:"evl31sl2"})(({theme:e})=>({textAlign:"center",marginTop:e.spacing.xs,wordWrap:"break-word",padding:e.spacing.threeXS})),M=E.getLogger("ImageList");function R(e,t,r){if(e){if(e.useStretch)return r;if(e.useContent)return;if(e.pixelWidth)return e.pixelWidth}if(t!=null)switch(t){case-1:case-3:case-4:return;case-2:case-5:return r;default:return t>0?t:void 0}}const G=({itemKey:e,image:t,imgStyle:r,buildMediaURL:n,handleImageError:i})=>{const l=C(t.url);return p(F,{"data-testid":"stImageContainer",children:[s("img",{style:r,src:n(t.url),alt:e,onError:i,crossOrigin:l}),t.caption&&s(j,{"data-testid":"stImageCaption",style:r,children:s(L,{source:t.caption,allowHTML:!1,isCaption:!0,isLabel:!0})})]})};function H({element:e,endpoints:t,widthConfig:r,disableFullscreenMode:n}){const{expanded:i,width:l,height:d,expand:x,collapse:f}=S(T),m=l||0,h=R(r,e.width,m),a={};d&&i?(a.maxHeight=d,a.objectFit="contain",a.width="100%"):(a.width=h??"100%",a.maxWidth="100%");const I=c=>{const o=c.currentTarget.src;M.error(`Client Error: Image source error - ${o}`),t.sendClientErrorToHost("Image","Image source failed to load","onerror triggered",o)};return p(g,{width:m,height:d,useContainerWidth:i,topCentered:!0,children:[s(W,{target:g,isFullScreen:i,onExpand:x,onCollapse:f,disableFullscreenMode:n}),s(y,{className:"stImage","data-testid":"stImage",children:e.imgs.map((c,o)=>s(G,{itemKey:o.toString(),image:c,imgStyle:a,buildMediaURL:w=>t.buildMediaURL(w),handleImageError:I},o))})]})}const O=b(H),D=v.memo(O);export{D as default};
