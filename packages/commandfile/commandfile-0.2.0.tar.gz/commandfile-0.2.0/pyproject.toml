[project]
name = "commandfile"
dynamic = ["version"]
description = "Command file for scientific workflows."
license = "Apache-2.0"
readme = "README.md"
requires-python = ">=3.11"
dependencies = [
    "pydantic",
    "pyyaml",
]

[dependency-groups]
dev = [
    "datamodel-code-generator",
    "pytest",
    "pytest-cov",
    "setuptools_scm",
]

[build-system]
requires = ["setuptools>=64", "setuptools-scm>=8"]
build-backend = "setuptools.build_meta"

[tool.setuptools_scm]

[tool.ruff.lint]
# See https://docs.astral.sh/ruff/rules
select = [
    "ASYNC",
    "C",
    "D2",
    "D4",
    "E",
    "F",
    "I",
    "N",
    "NPY",
    "RUF",
    "S",
    "UP",
    "W",
]

[tool.ruff.lint.per-file-ignores]
# See https://github.com/astral-sh/ruff/issues/4368
"tests/**/*.py" = [
    "S101", # Allow `assert` in tests
]
