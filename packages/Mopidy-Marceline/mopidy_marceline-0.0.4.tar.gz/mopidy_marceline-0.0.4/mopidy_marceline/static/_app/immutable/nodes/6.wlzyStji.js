import{e as A}from"../chunks/Y5PCoc8t.js";import{b as T}from"../chunks/Ddm0HaqK.js";import"../chunks/NZTpNUN0.js";import{p as _,c as h,h as c,u as g,f as d,C as k,a as x,b as f,s as v}from"../chunks/UrJQk2wB.js";import{i as p}from"../chunks/pHb7WOhl.js";import{g as w}from"../chunks/BeziK-YA.js";import{A as D}from"../chunks/BAudVsHG.js";import{H}from"../chunks/Bf4W-0fO.js";import{A as L}from"../chunks/C8swfjH7.js";import{T as S}from"../chunks/ajK82MF6.js";import{T as j}from"../chunks/Bph_h76x.js";const q=async({params:i,parent:t})=>{const{mopidy:e}=await t(),r=e.getArtist(T(i.artist));r||A(404,"Artist not found");const m=e.tracks.filter(s=>!s.album.artists.some(l=>l.uri===r.uri)&&[...s.artists??[],...s.composers??[],...s.performers??[]].some(l=>l.uri===r.uri)),n=(await e.requestImages([r.uri,...m.map(s=>s.uri)]))?.at(0),u=n?await e.requestPalette(n):void 0;return{artist:r,palette:u,tracks:m}},U=Object.freeze(Object.defineProperty({__proto__:null,load:q},Symbol.toStringTag,{value:"Module"}));function I(i,t){_(t,!0);const e=w();let r=g(()=>e.getImage(t.artist.uri));H(i,{get image(){return c(r)},title:n=>{D(n,{get artist(){return t.artist}})},$$slots:{title:!0}}),h()}const b=i=>i.toSorted((t,e)=>new Date(t.date).getTime()-new Date(e.date).getTime());var M=d('<p class="m-4 text-title-m text-on-surface-variant">No albums available</p>'),N=d('<p class="m-4 text-title-m text-on-surface-variant">No tracks available</p>'),O=d("<!> <!> <!>",1);function V(i,t){_(t,!0);var e=O();k(a=>{j(a,{get text(){return t.data.artist.name}})});var r=x(e);I(r,{get artist(){return t.data.artist}});var m=v(r,2);{var n=a=>{{let o=g(()=>b(t.data.artist.albums));L(a,{get albums(){return c(o)}})}},u=a=>{var o=M();f(a,o)};p(m,a=>{t.data.artist.albums?.length>0?a(n):a(u,!1)})}var s=v(m,2);{var l=a=>{{let o=g(()=>b(t.data.tracks));S(a,{get tracks(){return c(o)}})}},y=a=>{var o=N();f(a,o)};p(s,a=>{t.data.tracks?.length>0?a(l):a(y,!1)})}f(i,e),h()}export{V as component,U as universal};
