import"../chunks/NZTpNUN0.js";import{p as _,g as w,a as f,b as i,c as v,h as d,u as S,f as x,j as z,k as A,t as c,e as p,s as j,d as k,r as I,n as L}from"../chunks/UrJQk2wB.js";import{i as D,s as M,r as V}from"../chunks/pHb7WOhl.js";import{g as q,a as K}from"../chunks/BeziK-YA.js";import{S as $}from"../chunks/BPuXUJEF.js";import{b as B,c as C}from"../chunks/BeBD-SQy.js";import{T as F}from"../chunks/DSSf-BGR.js";import{T as G}from"../chunks/EBMUtFFV.js";import{V as J}from"../chunks/CHRLkBqO.js";import{T as N}from"../chunks/Bph_h76x.js";const Q=async({parent:a})=>{const{mopidy:t}=await a(),r=t.history;return await t.requestImages(r.map(e=>e.track.uri)),{history:r}},ct=Object.freeze(Object.defineProperty({__proto__:null,load:Q},Symbol.toStringTag,{value:"Module"}));var U=x("<span> </span>"),W=x("<!> <span> </span>",1);function X(a,t){_(t,!0);let r=V(t,["$$slots","$$events","$$legacy","entry","index","maxIndex"]);const e=q();let s=S(()=>e.getTrack(t.entry.track.uri));var n=w(),g=f(n);{var E=l=>{G(l,M({get index(){return t.index},get maxIndex(){return t.maxIndex},get track(){return d(s)}},()=>r,{trailing:H=>{var y=W(),b=f(y);F(b,{trigger:(u,h)=>{let m=()=>h?.().props;var o=U();K(o,()=>({class:"relative cursor-pointer before:absolute before:inset-0 before:z-10",...m()}));var P=k(o);I(o),c(R=>p(P,`${R??""} ago`),[()=>C(t.entry.timestamp)]),i(u,o)},children:(u,h)=>{z();var m=A();c(o=>p(m,o),[()=>B(t.entry.timestamp)]),i(u,m)},$$slots:{trigger:!0,default:!0}});var T=j(b,2),O=k(T,!0);I(T),c(()=>p(O,$)),i(H,y)},$$slots:{trailing:!0}}))};D(g,l=>{d(s)&&l(E)})}i(a,n),v()}function Y(a,t){_(t,!0),J(a,{get data(){return t.entries},getKey:e=>`${e.track.uri} ${e.timestamp.getTime()}`,item:(e,s=L,n=L)=>{{let g=S(()=>n()+1);X(e,{get entry(){return s()},get index(){return d(g)},get maxIndex(){return t.entries.length}})}},$$slots:{item:!0}}),v()}var Z=x("<!> <!>",1);function pt(a,t){_(t,!0);var r=Z(),e=f(r);N(e,{text:"History"});var s=j(e,2);Y(s,{get entries(){return t.data.history}}),i(a,r),v()}export{pt as component,ct as universal};
