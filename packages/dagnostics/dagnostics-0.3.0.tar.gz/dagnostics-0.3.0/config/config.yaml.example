airflow:
  base_url: "${AIRFLOW_BASE_URL}"
  username: "${AIRFLOW_USERNAME}"
  password: "${AIRFLOW_PASSWORD}"
  database_url: "${AIRFLOW_DB_URL}"
  verify_ssl: false
  timeout: 30
  db_timezone_offset: "+06:00"

drain3:
  depth: 4
  sim_th: 0.4
  max_children: 100
  max_clusters: 1000
  extra_delimiters: ["=", ":", ",", "!", "(", ")", "[", "]", "<", ">"]
  persistence_path: "data/clusters/drain3_state.pkl"
  config_path: "config/drain3.ini"


llm:
  default_provider: "ollama"
  providers:
    ollama:
      base_url: "http://localhost:11434"
      model: "mistral"
      temperature: 0.1
    openai:
      api_key: "${OPENAI_API_KEY}"
      model: "gpt-3.5-turbo"
      temperature: 0.1
    anthropic:
      api_key: "${ANTHROPIC_API_KEY}"
      model: "claude-3-sonnet-20240229"
      temperature: 0.1
    gemini:
      api_key: "${GEMINI_API_KEY}"
      model: "gemini-2.5-flash-lite"
      temperature: 0.1
      max_output_tokens: 8192
      top_p: 0.95
      top_k: 40

monitoring:
  check_interval_minutes: 5
  baseline_success_count: 3
  max_log_lines: 1000
  failed_task_lookback_hours: 24
  baseline_refresh_days: 7
  baseline_usage: "stored"  # Options: "stored" or "real_time"

log_processing:
  max_log_size_mb: 10
  chunk_size_lines: 1000
  timeout_seconds: 30

pattern_filtering:
  config_path: "config/filter_patterns.yaml"
  custom_patterns_enabled: true

alerts:
  sms:
    enabled: true
    provider: "custom"
    base_url: "https://your-sms-gateway.com"
    path: "send"
    static_params:
      api_key: "${SMS_GATEWAY_API_KEY}"
    param_mapping:
      recipient: "to"
      message: "msg"
    # Recipient configuration
    default_recipients:
      - "+1234567890"  # Default phone number for all tasks
      - "+0987654321"  # Additional default recipient
    # Task-specific recipients (optional)
    task_recipients:
      "etl_pipeline.*":  # All tasks in etl_pipeline DAGs
        - "+1111111111"
        - "+2222222222"
      ".*critical.*":    # Any task with "critical" in the name
        - "+3333333333"
      "data_ingestion.*":
        - "+4444444444"
  email:
    enabled: true
    smtp_server: "smtp.gmail.com"
    smtp_port: 587
    username: "${EMAIL_USERNAME}"
    password: "${EMAIL_PASSWORD}"
    from_address: "${EMAIL_FROM_ADDRESS}"

reporting:
  output_dir: "reports"
  daily_report_time: "08:00"
  retention_days: 30
  formats: ["html", "json", "pdf"]

database:
  url: "${DAGNOSTICS_DB_URL:-sqlite:///data/dagnostics.db}"
  echo: false
  pool_size: 10
  max_overflow: 20

api:
  host: "0.0.0.0"
  port: 8000
  workers: 4
  reload: false
  log_level: "info"

web:
  enabled: true
  host: "0.0.0.0"
  port: 8080
  debug: false
