"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[4621],{13686:(e,t,n)=>{n.d(t,{t:()=>p});var i=n(77189);const r=String.raw`\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.\d+)?(?:(?:[+-]\d\d:\d\d)|Z)?`,o=String.raw`(?:TODAY|NOW)`,l=String.raw`[+-]?[1-9][0-9]*`,a=String.raw`YEAR|QUARTER|MONTH|WEEK|DAY|HOUR|MINUTE|SECOND`,s=RegExp(String.raw`^DATEADD\(DATETIME\("(${r}|${o})"\),\s(${l}),\s(${a})\)$`,"i"),d=RegExp(String.raw`^${r}$|^${o}$`,"i"),c=["now","today"],u=new Date;u.setHours(0,0,0,0);const h=new Date;h.setHours(0,0,0,0);const m={sinceDatetime:u.setDate(u.getDate()-7).toString(),sinceMode:"relative",sinceGrain:"day",sinceGrainValue:-7,untilDatetime:h.toString(),untilMode:"specific",untilGrain:"day",untilGrainValue:7,anchorMode:"now",anchorValue:"now"},p=e=>{const t=e.split(i.wv);if(2===t.length){const[e,n]=t;if(d.test(e)&&d.test(n)){const t=c.includes(e)?e:"specific",i=c.includes(n)?n:"specific";return{customRange:{...m,sinceDatetime:e,untilDatetime:n,sinceMode:t,untilMode:i},matchedFlag:!0}}const i=e.match(s);if(i&&d.test(n)&&e.includes(n)){const[e,t,r]=i.slice(1),o=c.includes(n)?n:"specific";return{customRange:{...m,sinceGrain:r,sinceGrainValue:parseInt(t,10),sinceDatetime:e,untilDatetime:e,sinceMode:"relative",untilMode:o},matchedFlag:!0}}const r=n.match(s);if(d.test(e)&&r&&n.includes(e)){const[t,n,i]=[...r.slice(1)],o=c.includes(e)?e:"specific";return{customRange:{...m,untilGrain:i,untilGrainValue:parseInt(n,10),sinceDatetime:t,untilDatetime:t,untilMode:"relative",sinceMode:o},matchedFlag:!0}}if(i&&r){const[e,t,n]=[...i.slice(1)],[o,l,a]=[...r.slice(1)];if(e===o)return{customRange:{...m,sinceGrain:n,sinceGrainValue:parseInt(t,10),sinceDatetime:e,untilGrain:a,untilGrainValue:parseInt(l,10),untilDatetime:o,anchorValue:e,sinceMode:"relative",untilMode:"relative",anchorMode:"now"===e?"now":"specific"},matchedFlag:!0}}}return{customRange:m,matchedFlag:!1}}},16370:(e,t,n)=>{n.d(t,{A:()=>i});const i=n(26606).A},36552:(e,t,n)=>{n.d(t,{A:()=>f});var i=n(96540),r=n(46942),o=n.n(r),l=n(62279),a=n(829),s=n(77132),d=n(25905),c=n(37358),u=n(14277);const h=e=>{const{componentCls:t}=e;return{[t]:{"&-horizontal":{[`&${t}`]:{"&-sm":{marginBlock:e.marginXS},"&-md":{marginBlock:e.margin}}}}}},m=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:n,colorSplit:i,lineWidth:r,textPaddingInline:o,orientationMargin:l,verticalMarginInline:a}=e;return{[t]:Object.assign(Object.assign({},(0,d.dF)(e)),{borderBlockStart:`${(0,s.zA)(r)} solid ${i}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:a,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${(0,s.zA)(r)} solid ${i}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${(0,s.zA)(e.marginLG)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${(0,s.zA)(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${i}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${(0,s.zA)(r)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-start`]:{"&::before":{width:`calc(${l} * 100%)`},"&::after":{width:`calc(100% - ${l} * 100%)`}},[`&-horizontal${t}-with-text-end`]:{"&::before":{width:`calc(100% - ${l} * 100%)`},"&::after":{width:`calc(${l} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:o},"&-dashed":{background:"none",borderColor:i,borderStyle:"dashed",borderWidth:`${(0,s.zA)(r)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:r,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:i,borderStyle:"dotted",borderWidth:`${(0,s.zA)(r)} 0 0`},[`&-horizontal${t}-with-text${t}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${t}-dotted`]:{borderInlineStartWidth:r,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-start${t}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:n}},[`&-horizontal${t}-with-text-end${t}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:n}}})}},p=(0,c.OF)("Divider",(e=>{const t=(0,u.oX)(e,{dividerHorizontalWithTextGutterMargin:e.margin,sizePaddingEdgeHorizontal:0});return[m(t),h(t)]}),(e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS})),{unitless:{orientationMargin:!0}});const g={small:"sm",middle:"md"},f=e=>{const{getPrefixCls:t,direction:n,className:r,style:s}=(0,l.TP)("divider"),{prefixCls:d,type:c="horizontal",orientation:u="center",orientationMargin:h,className:m,rootClassName:f,children:v,dashed:$,variant:b="solid",plain:w,style:x,size:S}=e,z=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style","size"]),y=t("divider",d),[D,F,I]=p(y),M=(0,a.A)(S),A=g[M],C=!!v,E=i.useMemo((()=>"left"===u?"rtl"===n?"end":"start":"right"===u?"rtl"===n?"start":"end":u),[n,u]),k="start"===E&&null!=h,O="end"===E&&null!=h,T=o()(y,r,F,I,`${y}-${c}`,{[`${y}-with-text`]:C,[`${y}-with-text-${E}`]:C,[`${y}-dashed`]:!!$,[`${y}-${b}`]:"solid"!==b,[`${y}-plain`]:!!w,[`${y}-rtl`]:"rtl"===n,[`${y}-no-default-orientation-margin-start`]:k,[`${y}-no-default-orientation-margin-end`]:O,[`${y}-${A}`]:!!A},m,f),H=i.useMemo((()=>"number"==typeof h?h:/^\d+$/.test(h)?Number(h):h),[h]),Y={marginInlineStart:k?H:void 0,marginInlineEnd:O?H:void 0};return D(i.createElement("div",Object.assign({className:T,style:Object.assign(Object.assign({},s),x)},z,{role:"separator"}),v&&"vertical"!==c&&i.createElement("span",{className:`${y}-inner-text`,style:Y},v)))}},37827:(e,t,n)=>{n.d(t,{A:()=>o,P:()=>r});var i=n(96540);const r={name:"l8l8b8",styles:"white-space:nowrap;overflow:hidden;text-overflow:ellipsis"},o=({isVertical:e,isHorizontal:t}={isVertical:!1,isHorizontal:!0})=>{const[n,r]=(0,i.useState)(!0),o=(0,i.useRef)(null),[l,a]=(0,i.useState)(0),[s,d]=(0,i.useState)(0),[c,u]=(0,i.useState)(0),[h,m]=(0,i.useState)(0);return(0,i.useEffect)((()=>{var e,t,n,i,r,l,s,c;a(null!=(e=null==(t=o.current)?void 0:t.offsetWidth)?e:0),d(null!=(n=null==(i=o.current)?void 0:i.scrollWidth)?n:0),u(null!=(r=null==(l=o.current)?void 0:l.offsetHeight)?r:0),m(null!=(s=null==(c=o.current)?void 0:c.scrollHeight)?s:0)})),(0,i.useEffect)((()=>{r(e&&c<h||t&&l<s)}),[l,s,c,h,e,t]),[o,n]}},47152:(e,t,n)=>{n.d(t,{A:()=>i});const i=n(32915).A},50317:(e,t,n)=>{n.d(t,{A:()=>h});var i=n(2445),r=n(17437),o=n(16844),l=n(95579),a=n(97470),s=n(18062),d=n(62799),c=n(38380);const u=r.AH`
  &.anticon {
    font-size: unset;
    .anticon {
      line-height: unset;
      vertical-align: unset;
    }
  }
`,h=({name:e,label:t,description:n,validationErrors:h=[],renderTrigger:m=!1,rightNode:p,leftNode:g,onClick:f,hovered:v=!1,tooltipOnClick:$=()=>{},warning:b,danger:w})=>{const x=(0,o.DP)();return t?(0,i.FD)("div",{className:"ControlHeader","data-test":`${e}-header`,children:[(0,i.Y)("div",{className:"pull-left",children:(0,i.FD)(d.l,{css:e=>r.AH`
            margin-bottom: ${.5*e.sizeUnit}px;
            position: relative;
            font-size: ${e.fontSizeSM}px;
          `,htmlFor:e,children:[g&&(0,i.FD)("span",{children:[g," "]}),(0,i.Y)("span",{role:"button",tabIndex:0,onClick:f,style:{cursor:f?"pointer":""},children:t})," ",b&&(0,i.FD)("span",{children:[(0,i.Y)(a.m,{id:"error-tooltip",placement:"top",title:b,children:(0,i.Y)(c.F.WarningOutlined,{iconColor:x.colorWarning,css:r.AH`
                    vertical-align: baseline;
                  `,iconSize:"s"})})," "]}),w&&(0,i.FD)("span",{children:[(0,i.Y)(a.m,{id:"error-tooltip",placement:"top",title:w,children:(0,i.Y)(c.F.CloseCircleOutlined,{iconColor:x.colorErrorText,iconSize:"s"})})," "]}),(null==h?void 0:h.length)>0&&(0,i.FD)("span",{"data-test":"error-tooltip",children:[(0,i.Y)(a.m,{id:"error-tooltip",placement:"top",title:null==h?void 0:h.join(" "),children:(0,i.Y)(c.F.CloseCircleOutlined,{iconColor:x.colorErrorText})})," "]}),v?(0,i.FD)("span",{css:()=>r.AH`
          position: absolute;
          top: 60%;
          right: 0;
          padding-left: ${x.sizeUnit}px;
          transform: translate(100%, -50%);
          white-space: nowrap;
        `,children:[n&&(0,i.FD)("span",{children:[(0,i.Y)(a.m,{id:"description-tooltip",title:n,placement:"top",children:(0,i.Y)(c.F.InfoCircleOutlined,{css:u,onClick:$})})," "]}),m&&(0,i.FD)("span",{children:[(0,i.Y)(s.I,{label:(0,l.t)("bolt"),tooltip:(0,l.t)("Changing this control takes effect instantly"),placement:"top",type:"notice"})," "]})]}):null]})}),p&&(0,i.Y)("div",{className:"pull-right",children:p}),(0,i.Y)("div",{className:"clearfix"})]}):null}},56268:(e,t,n)=>{n.d(t,{e:()=>r});var i=n(89467);const r=(0,n(16844).I4)(i.A.Item)`
  ${({theme:e})=>`\n    &.ant-form-item > .ant-row > .ant-form-item-label {\n      padding-bottom: ${e.paddingXXS}px;\n    }\n    .ant-form-item-label {\n      & > label {\n        font-size: ${e.fontSizeSM}px;\n        &.ant-form-item-required:not(.ant-form-item-required-mark-optional) {\n          &::before {\n            display: none;\n          }\n          &::after {\n            display: inline-block;\n            visibility: visible;\n            color: ${e.colorError};\n            font-size: ${e.fontSizeSM}px;\n            content: '*';\n          }\n        }\n      }\n    }\n    .ant-form-item-extra {\n      margin-top: ${e.sizeUnit}px;\n      font-size: ${e.fontSizeSM}px;\n    }\n  `}
`},67874:(e,t,n)=>{n.d(t,{Mo:()=>a,YH:()=>o,j3:()=>l});var i=n(16844),r=n(56268);const o=0,l=i.I4.div`
  min-height: ${({height:e})=>e}px;
  width: ${({width:e})=>e===o?"100%":`${e}px`};
`,a=((0,i.I4)(r.e)`
  &.ant-row.ant-form-item {
    margin: 0;
  }
`,i.I4.div`
  color: ${({theme:e,status:t="error"})=>{var n;return"help"===t?e.colors.grayscale.light1:null==(n=e.colors[t])?void 0:n.base}};
  text-align: ${({centerText:e})=>e?"center":"left"};
  width: 100%;
`)},77189:(e,t,n)=>{n.d(t,{wv:()=>c,x9:()=>p});var i=n(62193),r=n.n(i),o=n(58561),l=n.n(o),a=n(62952),s=n(35742),d=n(51436);const c=" : ",u=(e,t)=>`${e}${c}${t}`,h=(e,t)=>e.replace("T00:00:00","")||(t?"-∞":"∞"),m=(e,t="col")=>{const n=e.split(c);return 1===n.length?e:`${h(n[0],!0)} ≤ ${t} < ${h(n[1])}`},p=async(e,t="col",n)=>{let i,o;if(r()(n))i=l().encode_uri(e),o=`/api/v1/time_range/?q=${i}`;else{const t=(0,a.A)(n).map((t=>({timeRange:e,shift:t})));i=l().encode_uri([{timeRange:e},...t]),o=`/api/v1/time_range/?q=${i}`}try{var p;const e=await s.A.get({endpoint:o});if(r()(n)){var g,f;const n=u((null==e||null==(g=e.json)||null==(g=g.result[0])?void 0:g.since)||"",(null==e||null==(f=e.json)||null==(f=f.result[0])?void 0:f.until)||"");return{value:m(n,t)}}const i=null==e||null==(p=e.json)?void 0:p.result.map((e=>u(e.since,e.until)));return{value:i.slice(1).map((e=>((e,t,n="col")=>{const i=e.split(c),r=t.split(c);return`${n}: ${h(i[0],!0)} to ${h(i[1])} vs\n  ${h(r[0],!0)} to ${h(r[1])}`})(i[0],e,t)))}}catch(e){const t=await(0,d.h4)(e);return{error:t.message||t.error||e.statusText}}}},87615:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var i=n(2445),r=n(16844),o=n(72391),l=n(96627),a=n(96540),s=n(39074),d=n(67874);const c=(0,r.I4)(d.j3)`
  display: flex;
  align-items: center;
  overflow-x: auto;

  & .ant-tag {
    margin-right: 0;
  }
`,u=r.I4.div`
  display: flex;
  height: 100%;
  max-width: 100%;
  width: 100%;
  & > div,
  & > div:hover {
    ${({validateStatus:e,theme:t})=>{var n;return e&&`border-color: ${null==(n=t.colors[e])?void 0:n.base}`}}
  }
  & > div {
    width: 100%;
  }
`;function h(e){var t;const{setDataMask:n,setHoveredFilter:r,unsetHoveredFilter:d,setFocusedFilter:h,unsetFocusedFilter:m,setFilterActive:p,width:g,height:f,filterState:v,inputRef:$,isOverflowingFilterBar:b=!1}=e,w=(0,o.a)().get("filter.dateFilterControl"),x=null!=w?w:s.Ay,S=(0,a.useCallback)((e=>{const t=e&&e!==l.WC;n({extraFormData:t?{time_range:e}:{},filterState:{value:t?e:void 0}})}),[n]);return(0,a.useEffect)((()=>{S(v.value)}),[v.value]),null!=(t=e.formData)&&t.inView?(0,i.Y)(c,{width:g,height:f,children:(0,i.Y)(u,{ref:$,validateStatus:v.validateStatus,onFocus:h,onBlur:m,onMouseEnter:r,onMouseLeave:d,children:(0,i.Y)(x,{value:v.value||l.WC,name:e.formData.nativeFilterId||"time_range",onChange:S,onOpenPopover:()=>p(!0),onClosePopover:()=>{p(!1),d(),m()},isOverflowingFilterBar:b})})}):null}}}]);